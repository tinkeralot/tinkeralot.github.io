//////////////////////////////////////////////////////////////////////
// Pano2VR 5.0beta4/11987 HTML5/CSS3 & WebGL Panorama Player        //
// License:                                                         //
// (c) 2015, Garden Gnome Software, http://ggnome.com               //
//////////////////////////////////////////////////////////////////////

var h=function(){function f(a,c){this.x=a;this.y=c}f.prototype.Ja=function(a,c){this.x=a;this.y=c};f.prototype.gc=function(a,c,b){var d=c.y-a.y;this.x=a.x+(c.x-a.x)*b;this.y=a.y+d*b};f.prototype.bi=function(a,c,b,d,e){var t;t=new f;t.gc(a,b,e);a=new f;a.gc(b,d,e);b=new f;b.gc(d,c,e);c=new f;c.gc(t,a,e);t=new f;t.gc(a,b,e);a=new f;a.gc(c,t,e);this.x=a.x;this.y=a.y};f.prototype.ci=function(a,c,b,d,e){var t=new f,g=.5,k=.25;do{t.bi(a,c,b,d,g);var n=t.x-e,g=0<n?g-k:g+k,k=k/2}while(.01<Math.abs(n));this.x=
t.x;this.y=t.y};return f}(),x=function(){function f(a,c,b,d,e){this.x=a;this.y=c;this.z=b;this.$b=d;this.$a=e}f.prototype.Ja=function(a,c,b,d,e){this.x=a;this.y=c;this.z=b;this.$b=d;this.$a=e};f.prototype.toString=function(){return"("+this.x+","+this.y+","+this.z+") - ("+this.$b+","+this.$a+")"};f.prototype.oa=function(a){var c=Math.sin(a);a=Math.cos(a);var b=this.y,d=this.z;this.y=a*b-c*d;this.z=c*b+a*d};f.prototype.tj=function(){var a=this.y;this.y=-this.z;this.z=a};f.prototype.sj=function(){var a=
this.y;this.y=this.z;this.z=-a};f.prototype.Aa=function(a){var c=Math.sin(a);a=Math.cos(a);var b=this.x,d=this.z;this.x=a*b+c*d;this.z=-c*b+a*d};f.prototype.uj=function(){var a=this.x;this.x=-this.z;this.z=a};f.prototype.Za=function(a){var c=Math.sin(a);a=Math.cos(a);var b=this.x,d=this.y;this.x=a*b-c*d;this.y=c*b+a*d};f.prototype.th=function(){var a=this.x;this.x=-this.y;this.y=a};f.prototype.clone=function(){return new f(this.x,this.y,this.z,this.$b,this.$a)};f.prototype.length=function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)};f.prototype.He=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};f.prototype.sg=function(a,c){var b;b=Math.cos(c*Math.PI/180);this.x=b*Math.sin(a*Math.PI/180);this.y=Math.sin(c*Math.PI/180);this.z=b*Math.cos(a*Math.PI/180)};f.prototype.gc=function(a,c,b){this.x=a.x*b+c.x*(1-b);this.y=a.y*b+c.y*(1-b);this.z=a.z*b+c.z*(1-b);this.$b=a.$b*b+c.$b*(1-b);this.$a=a.$a*b+c.$a*(1-b)};return f}();
function A(){var f;"undefined"!=typeof Float32Array?f=new Float32Array(16):f=Array(16);return f}function D(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1}function F(f,a){var c=a[0],b=a[1];a=a[2];f[12]=f[0]*c+f[4]*b+f[8]*a+f[12];f[13]=f[1]*c+f[5]*b+f[9]*a+f[13];f[14]=f[2]*c+f[6]*b+f[10]*a+f[14];f[15]=f[3]*c+f[7]*b+f[11]*a+f[15]}
function K(f,a,c){var b,d=c[0],e=c[1];c=c[2];var t=Math.sqrt(d*d+e*e+c*c);if(t){1!=t&&(t=1/t,d*=t,e*=t,c*=t);var g=Math.sin(a),k=Math.cos(a),n=1-k;a=f[0];var t=f[1],m=f[2],p=f[3],l=f[4],u=f[5],q=f[6],v=f[7],y=f[8],r=f[9],C=f[10],B=f[11],w=d*d*n+k,z=e*d*n+c*g,E=c*d*n-e*g,G=d*e*n-c*g,H=e*e*n+k,I=c*e*n+d*g,J=d*c*n+e*g,d=e*c*n-d*g,e=c*c*n+k;b?f!=b&&(b[12]=f[12],b[13]=f[13],b[14]=f[14],b[15]=f[15]):b=f;b[0]=a*w+l*z+y*E;b[1]=t*w+u*z+r*E;b[2]=m*w+q*z+C*E;b[3]=p*w+v*z+B*E;b[4]=a*G+l*H+y*I;b[5]=t*G+u*H+r*
I;b[6]=m*G+q*H+C*I;b[7]=p*G+v*H+B*I;b[8]=a*J+l*d+y*e;b[9]=t*J+u*d+r*e;b[10]=m*J+q*d+C*e;b[11]=p*J+v*d+B*e}}function L(f,a,c){f=.1*Math.tan(f*Math.PI/360);a=f*a;var b=-a,d=-f;c||(c=A());var e=a-b,t=f-d;c[0]=.2/e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=.2/t;c[6]=0;c[7]=0;c[8]=(a+b)/e;c[9]=(f+d)/t;c[10]=-100.1/99.9;c[11]=-1;c[12]=0;c[13]=0;c[14]=-20/99.9;c[15]=0}
function M(f,a){this.m=f;this.ka=a;var c,b,d=this.__div=document.createElement("div");c=document.createElement("img");var e;e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNqclmlIVFEUx997TjrplFQW2WKBBSYtRFlpWU";e+="ILSSsRZRQIBdGHCFqIoKIvQRsUFRJC9LEgaSFbMMpcWi1pLzOLsjItKms0U5t5/c/wH7nc5";e+="o2jF374xrv87z33nHOPaRsRtbFgDpgJxoD+wATfwDNQDK6CyrCr5OcbhgiGIRsUAZt4QTWo";e+="IFXgp9JfAhY7rgdBl8NeBoLDYBloA+dBOagFTcDHcVEgDgwBGWA+OAcugvXgvb5wKMGJoAA";
e+="Mp9BpUA96EBf/Btsf8BI8AWfAErAcpHHDZeriliY2AVwDg8AucAQ0Ag+I4XhTm2Oxz8PT46";e+="KMbTx5EZjuJDgAnAVusJUm9DhYwalFcc59sIXXIaceFkowDySBPTRPL20xm+b7zYXa+N3CP";e+="rWJ6GuwGySA40HLBHc/GywFhbS5R1lEBrZy7FQwiSaX9pmnqeAYt+KUcew7BVZw/QKTq0oc";e+="pYPVvDOXItZCk2xgDIZqL8BR8Ab0VDbr4yZOgLeIwzQx6WiQxcCt1+6sld66L4yYtFSwF4y";e+="g2dU7/cEwGW9YVkAwmycp1dzdpvgm0DcCh4kHmxWzBls0uBX4qqmZJ4KzePm1IeJLgjmlC1";e+="6aDKZpp5Q168B3o6wsSwTHgU+MIUs74RSj6y1d+212HKimJlUE+tFRfJpYtOKNXWmJTASqW";e+="f2Bu/R6+4TKHOrOzG4IhptjWgHbGkZvepQ6SQK7oRuCXzjX1DJavBEX1ygfT8FgBqpfm1zR";
e+="DcEKbR2bsZlkJCdXieB1ZhZ5YtqVgXIPN+m9kbY6hpdb+d9fPncJRmZmqQheZkemJmgxyxy";e+="kl3XWJEkcAl7N21s7PDcl5ZJ0PAa3wVwmWtVbZafPwQ7wLozYB7ATPNJO56d/LAikP9u+66";e+="KNJS1d4IOZp7wU0hfLukUyzgwm70T2N/DOxIy/eFdqawa5DL2NEGwP5k15Ja4woz9glvcom";e+="d9NzyvkFcQo5gomaLfm5c0svnKZ2k7q7+FauvR2MJKZR3+sY5WgtvkdG6JyELGhNHMTXyGf";e+="LviRJ5Tcd4Dlhle7086Sgp8CqVxDkn4OqHaqacr5ekjy3Q/W0FRNNGmoMtamdzdxsytZC0l";e+="qXKhEgWPVVgImg2NgFT1MHOoOk3yLEtgWN5TEOYvoIFI1rGM19//2wpAD7imF7lfwENwAxa";e+="ASNCj90pcLLKdC2Iyw1M9gnEplMEp5kOU1f8WwKGJm8oUr9f8JMAAVMDM6HSDa9QAAAABJR";
e+="U5ErkJggg%3D%3D";c.setAttribute("src",e);c.setAttribute("style","position: absolute;top: -14px;left: -14px; "+f.sa+"user-select: none;");c.ondragstart=function(){return!1};d.appendChild(c);e="position:absolute;"+(f.sa+"user-select: none;");e+=f.sa+"touch-callout: none;";e+=f.sa+"tap-highlight-color: rgba(0,0,0,0);";f.Dc&&!f.ja&&(e+=f.sa+"transform: translateZ(9999999px);");d.setAttribute("style",e);d.onclick=function(){f.cd(a);f.If(a.url,a.target)};var t=f.w.Xf;t.enabled&&(b=document.createElement("div"),
e="position:absolute;top:\t 20px;",e=t.bf?e+"white-space: pre-wrap;":e+"white-space: nowrap;",e+=f.sa+"transform-origin: 50% 50%;",e+="visibility: hidden;",e+="overflow: hidden;",e+="padding: 0px 1px 0px 1px;",b.setAttribute("style",e),b.style.color=this.m.X(t.Yf,t.Wf),t.background?b.style.backgroundColor=this.m.X(t.mb,t.Nb):b.style.backgroundColor="transparent",b.style.border="solid "+this.m.X(t.ob,t.Ob)+" "+t.ff+"px",b.style.borderRadius=t.ef+"px",b.style.textAlign="center",0<t.width?(b.style.left=
-t.width/2+"px",b.style.width=t.width+"px"):b.style.width="auto",b.style.height=0<t.height?t.height+"px":"auto",b.style.overflow="hidden",b.innerHTML=a.title,d.onmouseover=function(){0==t.width&&(b.style.left=-b.offsetWidth/2+"px");b.style.visibility="inherit"},d.onmouseout=function(){b.style.visibility="hidden"},d.appendChild(b))}
var N=function(){function f(a){this.m=a;this.enable=!1;this.fg=1;this.be=0;this.type="crossdissolve";this.Lb=this.Ba=this.Zb=0;this.cf=5;this.$d=1;this.df=!1;this.Re=this.Qe=this.Vf=0;this.ed=70;this.Vh=0;this.Ma=this.Uh=1;this.Zd=this.Yd=.5;this.od=this.hh=this.Ug=!1;this.nf=1}f.prototype.Dd=function(){var a=this.m.a,c=a.createShader(a.VERTEX_SHADER),b;b="attribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n";b+="varying vec2 vTextureCoord;\n";b+="uniform bool uZoomIn;\n";b+="uniform float uZoomFactor;\n";
b+="uniform vec2 uZoomCenter;\n";b+="void main(void) {\n";b+="\t gl_Position = vec4(aVertexPosition, 1.0);\n";b+="\t if(!uZoomIn) {\n";b+="\t \n";b+="\t   vTextureCoord = aTextureCoord;\n";b+="\t }\n";b+="\t else {\n";b+="\t   vTextureCoord = (aTextureCoord - vec2(0.5, 0.5)) * (1.0/uZoomFactor) + uZoomCenter;\n";b+="\t }\n";b+="}\n";a.shaderSource(c,b);a.compileShader(c);a.getShaderParameter(c,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(c)),c=null);var d=a.createShader(a.FRAGMENT_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n";
b+="uniform float uAlpha;\n";b+="uniform sampler2D uSampler;\n";b+="void main(void) {\n";b+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n";b+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, uAlpha);\n";b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),d=null);this.fa=a.createProgram();a.attachShader(this.fa,c);a.attachShader(this.fa,d);a.linkProgram(this.fa);a.getProgramParameter(this.fa,
a.LINK_STATUS)||alert("Could not initialise shaders");this.fa.ca=a.getAttribLocation(this.fa,"aVertexPosition");a.enableVertexAttribArray(this.fa.ca);this.fa.Fa=a.getAttribLocation(this.fa,"aTextureCoord");a.enableVertexAttribArray(this.fa.Fa);d=a.createShader(a.FRAGMENT_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n";b+="uniform float uColorPercent;\n";b+="uniform float uAlpha;\n";b+="uniform vec3 uDipColor;\n";
b+="uniform sampler2D uSampler;\n";b+="void main(void) {\n";b+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n";b+=" gl_FragColor = vec4(textureColor.x * (1.0 - uColorPercent) + uDipColor.x * uColorPercent, textureColor.y * (1.0 - uColorPercent) + uDipColor.y * uColorPercent, textureColor.z * (1.0 - uColorPercent) + uDipColor.z * uColorPercent, uAlpha);\n";b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),
d=null);this.wa=a.createProgram();a.attachShader(this.wa,c);a.attachShader(this.wa,d);a.linkProgram(this.wa);a.getProgramParameter(this.wa,a.LINK_STATUS)||alert("Could not initialise shaders");this.wa.ca=a.getAttribLocation(this.wa,"aVertexPosition");a.enableVertexAttribArray(this.wa.ca);this.wa.Fa=a.getAttribLocation(this.wa,"aTextureCoord");a.enableVertexAttribArray(this.wa.Fa);d=a.createShader(a.FRAGMENT_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n";
b+="uniform bool uRound;\n";b+="uniform float uRadius;\n";b+="uniform vec2 uRectDim;\n";b+="uniform vec2 uIrisCenter;\n";b+="uniform float uSoftEdge;\n";b+="uniform sampler2D uSampler;\n";b+="void main(void) {\n";b+=" float alpha = 0.0;\n";b+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n";b+=" if (uRound) {\n";b+="\t  vec2 diff = uIrisCenter - gl_FragCoord.xy;\n";b+="\t   float distFromCenter = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n";b+="\t   if (distFromCenter > uRadius) {\n";
b+="      alpha = 1.0;\n";b+="    } else {\n";b+="      alpha = 1.0 - ((uRadius - distFromCenter) / uSoftEdge);\n";b+="    };\n";b+=" }\n";b+=" else {\n";b+="    float alphaFromLeft = 1.0 - ((gl_FragCoord.x -(uIrisCenter.x - uRectDim.x)) / uSoftEdge);\n";b+="    float alphaFromRight = 1.0 - (((uIrisCenter.x + uRectDim.x) - gl_FragCoord.x) / uSoftEdge);\n";b+="    float alphaFromTop = 1.0 - ((gl_FragCoord.y -(uIrisCenter.y - uRectDim.y)) / uSoftEdge);\n";b+="    float alphaFromBottom = 1.0 - (((uIrisCenter.y + uRectDim.y) - gl_FragCoord.y) / uSoftEdge);\n";
b+="    alpha = max(max(alphaFromLeft, alphaFromRight), max(alphaFromTop, alphaFromBottom));\n";b+=" }\n";b+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, alpha);\n";b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),d=null);this.na=a.createProgram();a.attachShader(this.na,c);a.attachShader(this.na,d);a.linkProgram(this.na);a.getProgramParameter(this.na,a.LINK_STATUS)||alert("Could not initialise shaders");
this.na.ca=a.getAttribLocation(this.na,"aVertexPosition");a.enableVertexAttribArray(this.na.ca);this.na.Fa=a.getAttribLocation(this.na,"aTextureCoord");a.enableVertexAttribArray(this.na.Fa);d=a.createShader(a.FRAGMENT_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\n";b+="uniform float uPercent;\n";b+="uniform int uDirection;\n";b+="uniform vec2 uCanvasDimensions;\n";b+="uniform float uSoftEdge;\n";b+="uniform sampler2D uSampler;\n";
b+="void main(void) {\n";b+=" vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n";b+=" float alpha = 0.0;\n";b+=" if (uDirection == 1) {\n";b+="\t if (gl_FragCoord.x > uPercent) {\n";b+="    alpha = 1.0; \n";b+="  } else {\n";b+="    alpha = 1.0 - ((uPercent - gl_FragCoord.x) / uSoftEdge);\n";b+="  }\n";b+=" }\n";b+=" if (uDirection == 2) {\n";b+="\t if (gl_FragCoord.x < uCanvasDimensions.x - uPercent) {\n";b+="    alpha = 1.0; \n";b+="  } else {\n";b+="    alpha = 1.0 - ((gl_FragCoord.x - (uCanvasDimensions.x - uPercent)) / uSoftEdge);\n";
b+="  }\n";b+=" }\n";b+=" if (uDirection == 3) {\n";b+="\t if (gl_FragCoord.y < uCanvasDimensions.y - uPercent) {\n";b+="    alpha = 1.0; \n";b+="  } else {\n";b+="    alpha = 1.0 - ((gl_FragCoord.y - (uCanvasDimensions.y - uPercent)) / uSoftEdge);\n";b+="  }\n";b+=" }\n";b+=" if (uDirection == 4) {\n";b+="\t if (gl_FragCoord.y > uPercent) {\n";b+="    alpha = 1.0; \n";b+="  } else {\n";b+="    alpha = 1.0 - ((uPercent - gl_FragCoord.y) / uSoftEdge);\n";b+="  }\n";b+=" }\n";b+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, alpha);\n";
b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),d=null);this.ra=a.createProgram();a.attachShader(this.ra,c);a.attachShader(this.ra,d);a.linkProgram(this.ra);a.getProgramParameter(this.ra,a.LINK_STATUS)||alert("Could not initialise shaders");this.ra.ca=a.getAttribLocation(this.ra,"aVertexPosition");a.enableVertexAttribArray(this.ra.ca);this.ra.Fa=a.getAttribLocation(this.ra,"aTextureCoord");a.enableVertexAttribArray(this.ra.Fa)};
f.prototype.qc=function(){var a=this.m.a;if(!a)return!1;if(this.kb=a.createFramebuffer()){a.bindFramebuffer(a.FRAMEBUFFER,this.kb);this.kb.width=1024;this.kb.height=1024;this.Jc=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.Jc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.kb.width,this.kb.height,0,a.RGBA,a.UNSIGNED_BYTE,null);var c=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,
c);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,this.kb.width,this.kb.height);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Jc,0);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,c);a.bindTexture(a.TEXTURE_2D,null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null);return!0}return!1};f.prototype.jh=function(a){var c=this.m.a,b=this.m.Ra;if(this.xc){c.useProgram(this.fa);c.bindBuffer(c.ARRAY_BUFFER,this.m.Ea);
c.vertexAttribPointer(this.fa.ca,this.m.Ea.Rb,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.m.$c);c.vertexAttribPointer(this.fa.Fa,2,c.FLOAT,!1,0,0);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,this.Jc);var b=1+(this.Ma-1)*a,d=c.getUniformLocation(this.fa,"uAlpha");c.uniform1f(d,1);d=c.getUniformLocation(this.fa,"uZoomIn");c.uniform1i(d,1);var d=c.getUniformLocation(this.fa,"uZoomCenter"),e=.5+(this.Yd-.5)*Math.sqrt(a),f=.5+(this.Zd-.5)*Math.sqrt(a);0>e-.5/b&&(e=.5/b);0>f-.5/b&&(f=.5/
b);1<e+.5/b&&(e=1-.5/b);1<f+.5/b&&(f=1-.5/b);c.uniform2f(d,e,f);e=c.getUniformLocation(this.fa,"uZoomFactor");c.uniform1f(e,b);c.uniform1i(c.getUniformLocation(this.fa,"uSampler"),0);c.drawArrays(c.TRIANGLE_STRIP,0,this.m.Ea.tc);c.useProgram(this.m.G)}else{this.m.kd();c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.SRC_ALPHA,c.ONE);c.enable(c.BLEND);c.disable(c.DEPTH_TEST);e=.5+(this.Yd-.5);f=.5+(this.Zd-.5);0>e-.5/this.Ma&&(e=.5/this.Ma);0>f-.5/this.Ma&&(f=.5/this.Ma);1<e+.5/this.Ma&&(e=
1-.5/this.Ma);1<f+.5/this.Ma&&(f=1-.5/this.Ma);if("crossdissolve"==this.type)c.useProgram(this.fa),c.bindBuffer(c.ARRAY_BUFFER,this.m.Ea),c.vertexAttribPointer(this.fa.ca,this.m.Ea.Rb,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this.m.$c),c.vertexAttribPointer(this.fa.Fa,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this.Jc),d=c.getUniformLocation(this.fa,"uAlpha"),c.uniform1f(d,1-a),d=c.getUniformLocation(this.fa,"uZoomIn"),c.uniform1i(d,1==this.Ba||2==this.Ba?1:0),d=c.getUniformLocation(this.fa,
"uZoomCenter"),c.uniform2f(d,e,f),e=c.getUniformLocation(this.fa,"uZoomFactor"),c.uniform1f(e,this.Ma),c.uniform1i(c.getUniformLocation(this.fa,"uSampler"),0);else if("diptocolor"==this.type)c.useProgram(this.wa),c.bindBuffer(c.ARRAY_BUFFER,this.m.Ea),c.vertexAttribPointer(this.wa.ca,this.m.Ea.Rb,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this.m.$c),c.vertexAttribPointer(this.wa.Fa,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this.Jc),c.uniform1f(c.getUniformLocation(this.wa,
"uColorPercent"),Math.min(2*a,1)),d=c.getUniformLocation(this.wa,"uAlpha"),a=Math.max(2*(a-.5),0),c.uniform1f(d,1-a),c.uniform3f(c.getUniformLocation(this.wa,"uDipColor"),(this.be>>16&255)/255,(this.be>>8&255)/255,(this.be&255)/255),d=c.getUniformLocation(this.wa,"uZoomIn"),c.uniform1i(d,1==this.Ba||2==this.Ba?1:0),d=c.getUniformLocation(this.wa,"uZoomCenter"),c.uniform2f(d,e,f),e=c.getUniformLocation(this.wa,"uZoomFactor"),c.uniform1f(e,this.Ma),c.uniform1i(c.getUniformLocation(this.wa,"uSampler"),
0);else if("irisround"==this.type||"irisrectangular"==this.type){c.useProgram(this.na);c.bindBuffer(c.ARRAY_BUFFER,this.m.Ea);c.vertexAttribPointer(this.na.ca,this.m.Ea.Rb,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.m.$c);c.vertexAttribPointer(this.na.Fa,2,c.FLOAT,!1,0,0);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,this.Jc);var g;1==this.Ba||2==this.Ba?g=d=.5:(d=this.Yd,g=this.Zd);var k=d*b.width,n=g*b.height,k=Math.max(k,b.width-k),n=Math.max(n,b.height-n);"irisround"==this.type?
c.uniform1f(c.getUniformLocation(this.na,"uRadius"),(Math.sqrt(k*k+n*n)+this.Zb)*a):(k>n?(n=b.height/b.width*k+this.Zb,k+=this.Zb):(k=b.width/b.height*n+this.Zb,n+=this.Zb),c.uniform2f(c.getUniformLocation(this.na,"uRectDim"),k*a,n*a));a=c.getUniformLocation(this.na,"uSoftEdge");c.uniform1f(a,this.Zb);c.uniform1i(c.getUniformLocation(this.na,"uRound"),"irisround"==this.type?1:0);c.uniform2f(c.getUniformLocation(this.na,"uIrisCenter"),d*b.width,g*b.height);d=c.getUniformLocation(this.na,"uZoomIn");
c.uniform1i(d,1==this.Ba||2==this.Ba?1:0);d=c.getUniformLocation(this.na,"uZoomCenter");c.uniform2f(d,e,f);e=c.getUniformLocation(this.na,"uZoomFactor");c.uniform1f(e,this.Ma);c.uniform1i(c.getUniformLocation(this.na,"uSampler"),0)}else if("wipeleftright"==this.type||"wiperightleft"==this.type||"wipetopbottom"==this.type||"wipebottomtop"==this.type||"wiperandom"==this.type)c.useProgram(this.ra),c.bindBuffer(c.ARRAY_BUFFER,this.m.Ea),c.vertexAttribPointer(this.ra.ca,this.m.Ea.Rb,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,
this.m.$c),c.vertexAttribPointer(this.ra.Fa,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this.Jc),c.uniform1f(c.getUniformLocation(this.ra,"uPercent"),3>this.nf?a*(b.width+this.Zb):a*(b.height+this.Zb)),a=c.getUniformLocation(this.ra,"uSoftEdge"),c.uniform1f(a,this.Zb),c.uniform1i(c.getUniformLocation(this.ra,"uDirection"),this.nf),c.uniform2f(c.getUniformLocation(this.ra,"uCanvasDimensions"),b.width,b.height),d=c.getUniformLocation(this.ra,"uZoomIn"),c.uniform1i(d,1==
this.Ba||2==this.Ba?1:0),d=c.getUniformLocation(this.ra,"uZoomCenter"),c.uniform2f(d,e,f),e=c.getUniformLocation(this.ra,"uZoomFactor"),c.uniform1f(e,this.Ma),c.uniform1i(c.getUniformLocation(this.ra,"uSampler"),0);c.drawArrays(c.TRIANGLE_STRIP,0,this.m.Ea.tc);c.useProgram(this.m.G);c.disable(c.BLEND);c.enable(c.DEPTH_TEST)}};return f}(),O=function(){function f(a){this.Sd=[];this.m=a;this.enable=!1;this.yc=2;this.lg=!1}f.prototype.rf=function(a){if(2==a.mode||3==a.mode||5==a.mode){var c=this.m.lb.currentTime,
b=a.zb.gain.value,d=a.xb.gain.value,e=a.yb.gain.value;a.wb.gain.linearRampToValueAtTime(a.wb.gain.value,c);a.wb.gain.linearRampToValueAtTime(0,c+this.yc);a.zb.gain.linearRampToValueAtTime(b,c);a.zb.gain.linearRampToValueAtTime(0,c+this.yc);a.xb.gain.linearRampToValueAtTime(d,c);a.xb.gain.linearRampToValueAtTime(0,c+this.yc);a.yb.gain.linearRampToValueAtTime(e,c);a.yb.gain.linearRampToValueAtTime(0,c+this.yc)}else c=this.m.lb.currentTime,a.ec.gain.linearRampToValueAtTime(a.ec.gain.value,c),a.ec.gain.linearRampToValueAtTime(0,
c+this.yc);a.sf=!0};f.prototype.Mj=function(){for(var a=0;a<this.m.T.length;a++){var c=this.m.T[a];this.m.Tc(c.id)||4==c.mode||6==c.mode||(c.c.play(),c.c.currentTime=0)}};f.prototype.ni=function(){for(var a=(this.m.lb.currentTime-this.Jj)/this.yc,a=Math.min(1,a),c=0;c<this.m.T.length;c++){var b=this.m.T[c];this.m.Tc(b.id)&&1>b.aa&&(b.aa=a)}1==a&&clearInterval(this.Ij)};return f}(),P=function(){function f(a){this.Hd=[];this.Ac=null;this.ib=[];this.bb=[];this.jb=[];this.m=a;this.ki()}f.prototype.Dd=
function(){var a=this.m.a,c=a.createShader(a.VERTEX_SHADER),b;b="attribute vec3 aVertexPosition;\nvoid main(void) {\n";b+=" gl_Position = vec4(aVertexPosition, 1.0);\n";b+="}\n";a.shaderSource(c,b);a.compileShader(c);a.getShaderParameter(c,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(c)),c=null);var d=a.createShader(a.FRAGMENT_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\n";b+="precision highp float;\n";b+="#else\n";b+="precision mediump float;\n";b+="#endif\n";b+="varying vec4 vColor;\n";b+="uniform vec2 uCanvasDimensions;\n";
b+="uniform vec2 uFlareCenterPosition;\n";b+="uniform float uBlindingValue;\n";b+="uniform float uAspectRatio;\n";b+="void main(void) {\n";b+=" float canvasDiag = sqrt( (uCanvasDimensions.x * uCanvasDimensions.x) + (uCanvasDimensions.y * uCanvasDimensions.y) );\n";b+=" vec2 diff = uFlareCenterPosition - gl_FragCoord.xy;\n";b+=" diff.y = diff.y * uAspectRatio;\n";b+=" float distFromFlarePoint = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n";b+=" float factor = (distFromFlarePoint / canvasDiag) / 10.0;\n";
b+=" gl_FragColor = vec4(1.0, 1.0, 1.0, pow(((1.0 - factor) * 0.8) * uBlindingValue, 2.0));\n";b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),d=null);this.nb=a.createProgram();a.attachShader(this.nb,c);a.attachShader(this.nb,d);a.linkProgram(this.nb);a.getProgramParameter(this.nb,a.LINK_STATUS)||alert("Could not initialise shaders");this.nb.ca=a.getAttribLocation(this.nb,"aVertexPosition");a.enableVertexAttribArray(this.nb.ca);
d=a.createShader(a.VERTEX_SHADER);c=a.createShader(a.VERTEX_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\n";b+="precision highp float;\n";b+="#else\n";b+="precision mediump float;\n";b+="#endif\n";b+="attribute vec3 aVertexPosition;\n";b+="varying vec4 vColor;\n";b+="uniform vec2 uCirclePosition;\n";b+="uniform float uCircleRadius;\n";b+="uniform vec2 uCanvasDimensions2;\n";b+="uniform float uAspectRatio;\n";b+="void main(void) {\n";b+=" vec2 circleOnScreen = aVertexPosition.xy * uCircleRadius + uCirclePosition;\n";
b+=" circleOnScreen.y = circleOnScreen.y / uAspectRatio;\n";b+=" vec2 circleNorm = (circleOnScreen / uCanvasDimensions2) * 2.0 - vec2(1.0, 1.0);\n";b+=" gl_Position = vec4(circleNorm.x, circleNorm.y, 0.0, 1.0);\n";b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),d=null);a.shaderSource(c,b);a.compileShader(c);a.getShaderParameter(c,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(c)),d=null);var e=a.createShader(a.FRAGMENT_SHADER);
b="#ifdef GL_FRAGMENT_PRECISION_HIGH\n";b+="precision highp float;\n";b+="#else\n";b+="precision mediump float;\n";b+="#endif\n";b+="varying vec4 vColor;\n";b+="uniform vec2 uCircleTexturePosition;\n";b+="uniform vec3 uCircleColor;\n";b+="uniform float uCircleRadius;\n";b+="uniform float uCircleAlpha;\n";b+="uniform float uCircleSoftness;\n";b+="uniform float uAspectRatio;\n";b+="void main(void) {\n";b+=" vec2 diff = uCircleTexturePosition - gl_FragCoord.xy;\n";b+=" diff.y = diff.y * uAspectRatio;\n";
b+=" float distFromCircleCenter = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n";b+=" float softnessDistance = uCircleRadius * (1.0 - uCircleSoftness);\n";b+=" if (distFromCircleCenter > uCircleRadius)\n";b+=" {\n";b+="\t  gl_FragColor = vec4(uCircleColor, 0.0);\n";b+=" }\n";b+=" else if (distFromCircleCenter <= (softnessDistance))\n";b+=" {\n";b+="\t  float factor = distFromCircleCenter / softnessDistance;\n";b+="\t  gl_FragColor = vec4(uCircleColor, pow((1.0 - (0.2 * factor)) * uCircleAlpha, 1.8));\n";
b+=" }\n";b+=" else\n";b+=" {\n";b+="\t  float factor = (distFromCircleCenter - softnessDistance) / (uCircleRadius - softnessDistance);\n";b+="\t  gl_FragColor = vec4(uCircleColor, pow((0.8 - (0.8 * factor)) * uCircleAlpha, 1.8));\n";b+=" }\n";b+="}\n";a.shaderSource(e,b);a.compileShader(e);a.getShaderParameter(e,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(e)),e=null);this.ea=a.createProgram();a.attachShader(this.ea,d);a.attachShader(this.ea,e);a.linkProgram(this.ea);a.getProgramParameter(this.ea,
a.LINK_STATUS)||alert("Could not initialise shaders");this.ea.ca=a.getAttribLocation(this.ea,"aVertexPosition");a.enableVertexAttribArray(this.ea.ca);d=a.createShader(a.FRAGMENT_SHADER);b="#ifdef GL_FRAGMENT_PRECISION_HIGH\n";b+="precision highp float;\n";b+="#else\n";b+="precision mediump float;\n";b+="#endif\n";b+="varying vec4 vColor;\n";b+="uniform vec2 uRingTexturePosition;\n";b+="uniform float uRingRadius;\n";b+="uniform float uRingAlpha;\n";b+="uniform float uAspectRatio;\n";b+="uniform sampler2D uSampler;\n";
b+="void main(void) {\n";b+=" vec2 diff = uRingTexturePosition - gl_FragCoord.xy;\n";b+=" diff.y = diff.y * uAspectRatio;\n";b+=" float distFromRingCenter = sqrt( (diff.x * diff.x) + (diff.y * diff.y) );\n";b+=" float factor = distFromRingCenter / uRingRadius;\n";b+=" if (distFromRingCenter > uRingRadius)\n";b+=" {\n";b+="\t gl_FragColor = vec4(1.0, 1.0, 1.0, 0.0);\n";b+=" }\n";b+=" else\n";b+=" {\n";b+=" vec4 textureColor = texture2D(uSampler, vec2(factor / uAspectRatio, 0.5));\n";b+=" gl_FragColor = vec4(textureColor.x, textureColor.y, textureColor.z, uRingAlpha);\n";
b+=" }\n";b+="}\n";a.shaderSource(d,b);a.compileShader(d);a.getShaderParameter(d,a.COMPILE_STATUS)||(alert(a.getShaderInfoLog(d)),d=null);this.Ka=a.createProgram();a.attachShader(this.Ka,c);a.attachShader(this.Ka,d);a.linkProgram(this.Ka);a.getProgramParameter(this.Ka,a.LINK_STATUS)||alert("Could not initialise shaders");this.Ka.ca=a.getAttribLocation(this.Ka,"aVertexPosition")};f.prototype.qc=function(){var a=this.m.a;this.dc=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.dc);a.bufferData(a.ARRAY_BUFFER,
new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),a.STATIC_DRAW);this.dc.Rb=3;this.dc.tc=4;this.Pc=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Pc);for(var c=[0,0,0],b=2*Math.PI/6,d=Math.PI/180*35,e=1,f=d;f<=d+2*Math.PI;f+=b)c.push(Math.sin(f)),c.push(-Math.cos(f)),c.push(0),e++;a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW);this.Pc.Rb=3;this.Pc.tc=e;this.sh=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.sh);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);c=document.createElement("canvas");c.width=100;c.height=1;b=c.getContext("2d");b.width=100;b.height=1;d=b.createLinearGradient(0,0,100,0);d.addColorStop(0,this.m.X(16777215,0));d.addColorStop(.88,this.m.X(0,0));d.addColorStop(.9,this.m.X(16654848,1));d.addColorStop(.92,this.m.X(16776448,1));d.addColorStop(.94,this.m.X(4849466,1));d.addColorStop(.96,
this.m.X(131071,1));d.addColorStop(.98,this.m.X(8190,1));d.addColorStop(1,this.m.X(0,0));b.fillStyle=d;b.fillRect(0,0,100,1);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c)};f.prototype.qj=function(){for(;0<this.Hd.length;)this.Hd.pop()};f.prototype.ki=function(){var a=[],c=[],b=[],d={i:14,alpha:.2,color:11390415,f:.27};a.push(d);d={i:20,alpha:.25,color:11390415,f:.4};a.push(d);d={i:10,alpha:.2,color:12442332,f:.6};a.push(d);d={i:15,alpha:.2,color:11390415,f:.8};a.push(d);d={i:10,alpha:.2,
color:12442332,f:1.5};a.push(d);d={i:15,alpha:.2,color:11390415,f:1.8};a.push(d);d={i:8,alpha:.2,color:12575203,u:.8,f:.7};c.push(d);d={i:7,alpha:.4,color:12575203,u:.5,f:1.6};c.push(d);d={i:5,alpha:.4,color:12575203,u:.6,f:.9};c.push(d);d={i:8,alpha:.3,color:12575203,u:.4,f:1.1};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:30,alpha:.3,color:11390415,f:.5};a.push(d);d={i:10,alpha:.3,color:11390415,f:1};a.push(d);d={i:20,alpha:.3,color:11390415,f:1.3};a.push(d);d={i:10,
alpha:.3,color:11390415,f:1.5};a.push(d);d={i:15,alpha:.3,color:11390415,f:1.8};a.push(d);d={i:10,alpha:.3,color:15506856,u:.8,f:.7};c.push(d);d={i:20,alpha:.5,color:15506856,u:.5,f:1.6};c.push(d);d={i:5,alpha:.5,color:15506856,u:.6,f:.9};c.push(d);d={i:60,alpha:.4,color:15506856,u:.2,f:1.1};c.push(d);b.push({i:220,alpha:.035,f:2});this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:30,alpha:.5,color:15465727,f:.5};a.push(d);d={i:40,alpha:.28,color:15726842,f:.8};a.push(d);d={i:25,
alpha:.32,color:15726842,f:1.1};a.push(d);d={i:15,alpha:.25,color:15726842,f:1.35};a.push(d);d={i:10,alpha:.28,color:15465727,f:1.65};a.push(d);d={i:10,alpha:.45,color:15465727,u:.8,f:.7};c.push(d);d={i:7,alpha:.5,color:15465727,u:.4,f:.9};c.push(d);d={i:40,alpha:.4,color:15465727,u:.3,f:.38};c.push(d);d={i:50,alpha:.4,color:15465727,u:.5,f:1.25};c.push(d);d={i:18,alpha:.2,color:15465727,u:.5,f:1.25};c.push(d);d={i:10,alpha:.34,color:15726842,u:.8,f:1.5};c.push(d);d={i:38,alpha:.37,color:15465727,
u:.3,f:-.5};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:16,alpha:.5,color:16363159,f:.1};a.push(d);d={i:26,alpha:.3,color:16091819,f:.32};a.push(d);d={i:29,alpha:.2,color:16091819,f:1.32};a.push(d);d={i:20,alpha:.18,color:16363159,f:1.53};a.push(d);d={i:27,alpha:.13,color:16425092,f:1.6};a.push(d);d={i:20,alpha:.1,color:16091819,f:1.75};a.push(d);d={i:12,alpha:.45,color:16312238,u:.45,f:.2};c.push(d);d={i:8,alpha:.25,color:16434209,u:.7,f:.33};c.push(d);d={i:9,alpha:.25,
color:16091819,u:.4,f:.7};c.push(d);d={i:7,alpha:.2,color:16091819,u:.4,f:.85};c.push(d);d={i:60,alpha:.23,color:16091819,u:.55,f:1.05};c.push(d);d={i:37,alpha:.1,color:16091819,u:.55,f:1.22};c.push(d);d={i:10,alpha:.25,color:16363159,u:.65,f:1.38};c.push(d);d={i:7,alpha:.2,color:16434209,u:.5,f:1.45};c.push(d);d={i:3,alpha:.2,color:16416033,u:.5,f:1.78};c.push(d);d={i:6,alpha:.18,color:16434209,u:.45,f:1.9};c.push(d);d={i:4,alpha:.14,color:16766514,u:.45,f:2.04};c.push(d);d={i:30,alpha:.14,color:16766514,
u:.8,f:.04};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:9,alpha:.3,color:14346999,u:.3,f:.3};c.push(d);d={i:5,alpha:.5,color:14148072,u:.8,f:.6};c.push(d);d={i:3,alpha:.37,color:14346999,u:.66,f:.8};c.push(d);d={i:45,alpha:.2,color:14346999,u:.36,f:1.2};c.push(d);d={i:13,alpha:.2,color:14346999,u:.36,f:1.23};c.push(d);d={i:11,alpha:.2,color:14148072,u:.36,f:1.28};c.push(d);d={i:27,alpha:.16,color:14346999,u:.36,f:1.55};c.push(d);d={i:6,alpha:.36,color:14148072,u:.8,
f:1.7};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:24,alpha:.2,color:15186464,f:.2};a.push(d);d={i:7,alpha:.26,color:15186464,f:.35};a.push(d);d={i:23,alpha:.18,color:15186464,f:.65};a.push(d);d={i:13,alpha:.2,color:15186464,f:.8};a.push(d);d={i:11,alpha:.15,color:15186464,f:1.4};a.push(d);d={i:15,alpha:.11,color:15451904,f:1.6};a.push(d);d={i:6,alpha:.45,color:15579138,u:.45,f:.22};c.push(d);d={i:3,alpha:.3,color:15451904,u:.25,f:.4};c.push(d);d={i:4,alpha:.2,color:15451904,
u:.25,f:.45};c.push(d);d={i:65,alpha:.17,color:15186464,u:.25,f:.5};c.push(d);d={i:5,alpha:.45,color:15579138,u:.45,f:.88};c.push(d);d={i:140,alpha:.18,color:15579138,u:.32,f:.95};c.push(d);d={i:12,alpha:.22,color:15579138,u:.32,f:1.1};c.push(d);d={i:8,alpha:.32,color:15451904,u:.72,f:1.2};c.push(d);d={i:55,alpha:.2,color:15451904,u:.45,f:1.33};c.push(d);d={i:4,alpha:.3,color:15451904,u:.25,f:1.42};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:16,alpha:.4,color:10933495,
f:.32};a.push(d);d={i:14,alpha:.3,color:11007484,f:.36};a.push(d);d={i:10,alpha:.3,color:4037331,f:.58};a.push(d);d={i:14,alpha:.22,color:8835068,f:.68};a.push(d);d={i:10,alpha:.27,color:11007484,f:.82};a.push(d);d={i:11,alpha:.27,color:10867450,f:1};a.push(d);d={i:9,alpha:.2,color:6158332,f:1.05};a.push(d);d={i:10,alpha:.17,color:10867450,f:1.78};a.push(d);d={i:10,alpha:.3,color:4037331,f:-.23};a.push(d);d={i:8,alpha:.45,color:8835068,u:.45,f:.175};c.push(d);d={i:7,alpha:.4,color:12574715,u:.55,
f:.46};c.push(d);d={i:3,alpha:.3,color:10867450,u:.35,f:.5};c.push(d);d={i:60,alpha:.37,color:4031699,u:.75,f:.75};c.push(d);d={i:3,alpha:.25,color:4031699,u:.25,f:.75};c.push(d);d={i:3,alpha:.2,color:6158332,u:.25,f:.9};c.push(d);d={i:7,alpha:.45,color:8835068,u:.45,f:1.3};c.push(d);d={i:32,alpha:.22,color:8835068,u:.75,f:1.62};c.push(d);d={i:9,alpha:.45,color:4031699,u:.65,f:1.6};c.push(d);d={i:8,alpha:.25,color:4031699,u:.65,f:1.83};c.push(d);d={i:7,alpha:.4,color:12574715,u:.55,f:-.18};c.push(d);
this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:16,alpha:.4,color:16389120,f:.32};a.push(d);d={i:26,alpha:.22,color:16389120,f:.4};a.push(d);d={i:26,alpha:.25,color:16389120,f:.65};a.push(d);d={i:18,alpha:.3,color:16389120,f:1.23};a.push(d);d={i:14,alpha:.26,color:16389120,f:1.33};a.push(d);d={i:17,alpha:.18,color:16389120,f:1.7};a.push(d);d={i:30,alpha:.16,color:16389120,f:2.15};a.push(d);d={i:100,alpha:.25,color:16389120,u:.22,f:1.45};c.push(d);d={i:7,alpha:.5,color:15628151,
u:.3,f:1.5};c.push(d);d={i:3,alpha:.5,color:15628151,u:.3,f:1.52};c.push(d);d={i:4,alpha:.5,color:16389120,u:.3,f:1.745};c.push(d);d={i:9,alpha:.22,color:16389120,u:.3,f:1.8};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:16,alpha:.4,color:10933495,f:.32};a.push(d);d={i:14,alpha:.3,color:11007484,f:.36};a.push(d);d={i:10,alpha:.3,color:4037331,f:.58};a.push(d);d={i:14,alpha:.22,color:8835068,f:.68};a.push(d);d={i:10,alpha:.27,color:11007484,f:.82};a.push(d);d={i:11,
alpha:.27,color:10867450,f:1};a.push(d);d={i:9,alpha:.2,color:6158332,f:1.05};a.push(d);d={i:10,alpha:.17,color:10867450,f:1.78};a.push(d);d={i:10,alpha:.3,color:4037331,f:-.23};a.push(d);d={i:8,alpha:.45,color:8835068,u:.45,f:.175};c.push(d);d={i:7,alpha:.4,color:12574715,u:.55,f:.46};c.push(d);d={i:3,alpha:.3,color:10867450,u:.35,f:.5};c.push(d);d={i:60,alpha:.37,color:4031699,u:.75,f:.75};c.push(d);d={i:3,alpha:.25,color:4031699,u:.25,f:.75};c.push(d);d={i:3,alpha:.2,color:6158332,u:.25,f:.9};
c.push(d);d={i:7,alpha:.45,color:8835068,u:.45,f:1.3};c.push(d);d={i:32,alpha:.22,color:8835068,u:.75,f:1.62};c.push(d);d={i:9,alpha:.45,color:4031699,u:.65,f:1.6};c.push(d);d={i:8,alpha:.25,color:4031699,u:.65,f:1.83};c.push(d);d={i:7,alpha:.4,color:12574715,u:.55,f:-.18};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);a=[];c=[];b=[];d={i:16,alpha:.4,color:16389120,f:.32};a.push(d);d={i:26,alpha:.22,color:16389120,f:.4};a.push(d);d={i:26,alpha:.25,color:16389120,f:.65};a.push(d);d={i:18,
alpha:.3,color:16389120,f:1.23};a.push(d);d={i:14,alpha:.26,color:16389120,f:1.33};a.push(d);d={i:17,alpha:.18,color:16389120,f:1.7};a.push(d);d={i:30,alpha:.16,color:16389120,f:2.15};a.push(d);d={i:100,alpha:.25,color:16389120,u:.22,f:1.45};c.push(d);d={i:7,alpha:.5,color:15628151,u:.3,f:1.5};c.push(d);d={i:3,alpha:.5,color:15628151,u:.3,f:1.52};c.push(d);d={i:4,alpha:.5,color:16389120,u:.3,f:1.745};c.push(d);d={i:9,alpha:.22,color:16389120,u:.3,f:1.8};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b);
a=[];c=[];b=[];d={i:24,alpha:.2,color:15186464,f:.2};a.push(d);d={i:7,alpha:.26,color:15186464,f:.35};a.push(d);d={i:23,alpha:.18,color:15186464,f:.65};a.push(d);d={i:13,alpha:.2,color:15186464,f:.8};a.push(d);d={i:11,alpha:.15,color:15186464,f:1.4};a.push(d);d={i:15,alpha:.11,color:15451904,f:1.6};a.push(d);d={i:6,alpha:.45,color:15579138,u:.45,f:.22};c.push(d);d={i:3,alpha:.3,color:15451904,u:.25,f:.4};c.push(d);d={i:4,alpha:.2,color:15451904,u:.25,f:.45};c.push(d);d={i:65,alpha:.17,color:15186464,
u:.25,f:.5};c.push(d);d={i:5,alpha:.45,color:15579138,u:.45,f:.88};c.push(d);d={i:140,alpha:.18,color:15579138,u:.32,f:.95};c.push(d);d={i:12,alpha:.22,color:15579138,u:.32,f:1.1};c.push(d);d={i:8,alpha:.32,color:15451904,u:.72,f:1.2};c.push(d);d={i:55,alpha:.2,color:15451904,u:.45,f:1.33};c.push(d);d={i:4,alpha:.3,color:15451904,u:.25,f:1.42};c.push(d);this.ib.push(a);this.bb.push(c);this.jb.push(b)};f.prototype.dj=function(){var a=this.m.a,c,b,d,e=new x(0,0,-100),f=this.m.ac(),g,k;if(this.m.ja)g=
this.m.Ra.width,k=this.m.Ra.height,this.m.o.Rd&&(g=this.m.o.kb.width,k=this.m.o.kb.height);else{this.J||(this.J=this.Ac.getContext("2d"));if(this.J.width!==this.m.l.width||this.J.height!==this.m.l.height)this.J.width=this.m.l.width,this.J.height=this.m.l.height;this.J.clear?this.J.clear():this.J.clearRect(0,0,this.Ac.width,this.Ac.height);g=this.J.width;k=this.J.height}var n=Math.sqrt(g*g+k*k),m=n/800;for(b=0;b<this.Hd.length;b++){var p=this.Hd[b];e.Ja(0,0,-100);e.oa(-p.j*Math.PI/180);e.Aa(p.pan*
Math.PI/180);e.Aa(-this.m.pan.b*Math.PI/180);e.oa(this.m.j.b*Math.PI/180);e.Za(this.m.I.b*Math.PI/180);var l=!1;if(-.01>e.z){var u,q;q=-f/e.z;u=e.x*q;q*=e.y;Math.abs(u)<g/2+100&&Math.abs(q)<k/2+100&&(l=!0,u+=g/2,q+=k/2)}if(l){this.m.ja&&(a.blendFunc(a.SRC_ALPHA,a.DST_ALPHA),a.enable(a.BLEND),a.disable(a.DEPTH_TEST));var l=g/2,v=k/2;d=Math.sqrt((l-u)*(l-u)+(v-q)*(v-q));var y=n/2,v=g>k?g:k,l=p.gg/100*((y-d)/y);0>l&&(l=0);if(this.m.ja){a.useProgram(this.nb);a.bindBuffer(a.ARRAY_BUFFER,this.m.Ea);a.vertexAttribPointer(this.nb.ca,
this.m.Ea.Rb,a.FLOAT,!1,0,0);var r=a.getUniformLocation(this.nb,"uCanvasDimensions");a.uniform2f(r,a.drawingBufferWidth,a.drawingBufferHeight);a.uniform2f(a.getUniformLocation(this.nb,"uFlareCenterPosition"),a.drawingBufferWidth/g*u,k-a.drawingBufferHeight/k*q);a.uniform1f(a.getUniformLocation(this.nb,"uBlindingValue"),l);r=a.getUniformLocation(this.nb,"uAspectRatio");a.uniform1f(r,this.m.o.Rd?a.drawingBufferWidth/a.drawingBufferHeight:a.drawingBufferWidth/a.drawingBufferHeight/(g/k));a.drawArrays(a.TRIANGLE_STRIP,
0,this.m.Ea.tc)}else r=this.J.createRadialGradient(u,q,1,u,q,v),r.addColorStop(0,"rgba(255, 255, 255, "+l+")"),r.addColorStop(.5,"rgba(255, 255, 255, "+.8*l+")"),r.addColorStop(1,"rgba(255, 255, 255, "+.6*l+")"),this.J.fillStyle=r,this.J.fillRect(0,0,this.J.width,this.J.height);if(0!=Number(p.type)&&!this.m.o.Rd){var l=g/2-u,v=k/2-q,C=1,B=Number(p.type)-1;d<.35*y&&(C=d/(.35*y),C*=C);d>.7*y&&(C=(y-d)/(.3*y));C*=p.alpha/100;if(0<this.ib[B].length)for(d=0;d<this.ib[B].length;d++){var w=this.ib[B][d],
y=w.i*m;c=w.alpha*C;0>c&&(c=0);var z=w.color;if(8==B||9==B||10==B)z=p.color;if(this.m.ja)a.useProgram(this.ea),a.bindBuffer(a.ARRAY_BUFFER,this.Pc),a.vertexAttribPointer(this.ea.ca,this.Pc.Rb,a.FLOAT,!1,0,0),r=a.getUniformLocation(this.ea,"uCanvasDimensions2"),a.uniform2f(r,a.drawingBufferWidth,a.drawingBufferHeight),a.uniform2f(a.getUniformLocation(this.ea,"uCirclePosition"),a.drawingBufferWidth/g*(u+l*w.f),a.drawingBufferWidth/g*(k-(q+v*w.f))),a.uniform2f(a.getUniformLocation(this.ea,"uCircleTexturePosition"),
a.drawingBufferWidth/g*(u+l*w.f),k-(q+v*w.f)),a.uniform1f(a.getUniformLocation(this.ea,"uCircleRadius"),y),a.uniform3f(a.getUniformLocation(this.ea,"uCircleColor"),(z>>16&255)/255,(z>>8&255)/255,(z&255)/255),a.uniform1f(a.getUniformLocation(this.ea,"uCircleAlpha"),c),a.uniform1f(a.getUniformLocation(this.ea,"uCircleSoftness"),.1),r=a.getUniformLocation(this.ea,"uAspectRatio"),a.uniform1f(r,a.drawingBufferWidth/a.drawingBufferHeight/(g/k)),a.drawArrays(a.TRIANGLE_FAN,0,this.Pc.tc);else{this.J.save();
this.J.translate(u+l*w.f,q+v*w.f);r=this.J.createRadialGradient(0,0,1,0,0,1.1*y);r.addColorStop(0,this.m.X(z,c));r.addColorStop(.65,this.m.X(z,.9*c));r.addColorStop(.8,this.m.X(z,.7*c));r.addColorStop(1,this.m.X(z,.2*c));this.J.beginPath();var z=2*Math.PI/6,w=Math.PI/180*35,E=!0;for(c=w;c<=w+2*Math.PI;c+=z)E?(this.J.moveTo(y*Math.sin(c),y*Math.cos(c)),E=!1):this.J.lineTo(y*Math.sin(c),y*Math.cos(c));this.J.closePath();this.J.fillStyle=r;this.J.fill();this.J.restore()}}if(0<this.bb[B].length)for(d=
0;d<this.bb[B].length;d++){w=this.bb[B][d];y=w.i*m;c=w.alpha*C;0>c&&(c=0);z=w.color;if(8==B||9==B||10==B)z=p.color;this.m.ja?(a.useProgram(this.ea),a.bindBuffer(a.ARRAY_BUFFER,this.dc),a.vertexAttribPointer(this.ea.ca,this.dc.Rb,a.FLOAT,!1,0,0),r=a.getUniformLocation(this.ea,"uCanvasDimensions2"),a.uniform2f(r,a.drawingBufferWidth,a.drawingBufferHeight),r=a.getUniformLocation(this.ea,"uCirclePosition"),a.uniform2f(r,a.drawingBufferWidth/g*(u+l*w.f),a.drawingBufferWidth/g*(k-(q+v*w.f))),r=a.getUniformLocation(this.ea,
"uCircleTexturePosition"),a.uniform2f(r,a.drawingBufferWidth/g*(u+l*w.f),k-(q+v*w.f)),r=a.getUniformLocation(this.ea,"uCircleRadius"),a.uniform1f(r,y),a.uniform3f(a.getUniformLocation(this.ea,"uCircleColor"),(z>>16&255)/255,(z>>8&255)/255,(z&255)/255),a.uniform1f(a.getUniformLocation(this.ea,"uCircleAlpha"),c),a.uniform1f(a.getUniformLocation(this.ea,"uCircleSoftness"),w.u),r=a.getUniformLocation(this.ea,"uAspectRatio"),a.uniform1f(r,a.drawingBufferWidth/a.drawingBufferHeight/(g/k)),a.drawArrays(a.TRIANGLE_FAN,
0,this.dc.tc)):(this.J.save(),this.J.translate(u+l*w.f,q+v*w.f),r=this.J.createRadialGradient(0,0,1,0,0,y),r.addColorStop(0,this.m.X(z,c)),r.addColorStop(1-w.u,this.m.X(z,.8*c)),r.addColorStop(1,this.m.X(z,0)),this.J.beginPath(),this.J.arc(0,0,y,0,2*Math.PI,!1),this.J.closePath(),this.J.fillStyle=r,this.J.fill(),this.J.restore())}if(0<this.jb[B].length)for(d=0;d<this.jb[B].length;d++)p=this.jb[B][d],y=p.i*m,c=p.alpha*C,0>c&&(c=0),this.m.ja?(a.useProgram(this.Ka),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,
this.sh),a.bindBuffer(a.ARRAY_BUFFER,this.dc),a.vertexAttribPointer(this.Ka.ca,this.dc.Rb,a.FLOAT,!1,0,0),r=a.getUniformLocation(this.Ka,"uCanvasDimensions2"),a.uniform2f(r,g,k),r=a.getUniformLocation(this.Ka,"uCirclePosition"),a.uniform2f(r,u+l*p.f,k-(q+v*p.f)),r=a.getUniformLocation(this.Ka,"uRingTexturePosition"),a.uniform2f(r,a.drawingBufferWidth/g*(u+l*p.f),k-(q+v*p.f)),r=a.getUniformLocation(this.Ka,"uCircleRadius"),a.uniform1f(r,y),a.uniform2f(a.getUniformLocation(this.Ka,"uRingPosition"),
u+l*p.f,k-(q+v*p.f)),a.uniform1f(a.getUniformLocation(this.Ka,"uRingRadius"),y),a.uniform1f(a.getUniformLocation(this.Ka,"uRingAlpha"),c),r=a.getUniformLocation(this.Ka,"uAspectRatio"),a.uniform1f(r,a.drawingBufferWidth/a.drawingBufferHeight/(g/k)),a.uniform1i(a.getUniformLocation(this.Ka,"uSampler"),0),a.drawArrays(a.TRIANGLE_FAN,0,this.dc.tc)):(this.J.save(),this.J.translate(u+l*p.f,q+v*p.f),r=this.J.createRadialGradient(0,0,0,0,0,y),r.addColorStop(0,this.m.X(16777215,0)),r.addColorStop(.88,this.m.X(0,
0)),r.addColorStop(.9,this.m.X(16654848,c)),r.addColorStop(.92,this.m.X(16776448,c)),r.addColorStop(.94,this.m.X(4849466,c)),r.addColorStop(.96,this.m.X(131071,c)),r.addColorStop(.98,this.m.X(8190,c)),r.addColorStop(1,this.m.X(0,0)),this.J.beginPath(),this.J.arc(0,0,y,0,2*Math.PI,!1),this.J.closePath(),this.J.fillStyle=r,this.J.fill(),this.J.restore())}this.m.ja&&(a.useProgram(this.m.G),a.disable(a.BLEND),a.enable(a.DEPTH_TEST))}}};return f}();
function Q(){var f="perspective",a=["Webkit","Moz","O","ms","Ms"],c;c=!1;for(c=0;c<a.length;c++)"undefined"!==typeof document.documentElement.style[a[c]+"Perspective"]&&(f=a[c]+"Perspective");"undefined"!==typeof document.documentElement.style[f]?"webkitPerspective"in document.documentElement.style?(f=document.createElement("style"),a=document.createElement("div"),c=document.head||document.getElementsByTagName("head")[0],f.textContent="@media (-webkit-transform-3d) {#ggswhtml5{height:5px}}",c.appendChild(f),
a.id="ggswhtml5",document.documentElement.appendChild(a),c=5===a.offsetHeight,f.parentNode.removeChild(f),a.parentNode.removeChild(a)):c=!0:c=!1;return c}function R(){var f;if(f=!!window.WebGLRenderingContext)try{var a=document.createElement("canvas");a.width=100;a.height=100;var c=a.getContext("webgl");c||(c=a.getContext("experimental-webgl"));f=!!c}catch(b){f=!1}return f}window.ggHasHtml5Css3D=Q;window.ggHasWebGL=R;
var S=this&&this.sk||function(f,a){function c(){this.constructor=f}for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b]);f.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)},T=function(){function f(a){this.m=null;this.zd=this.Ig=this.hb=!1;this.Za=this.Aa=this.oa=0;this.h=70;this.xa=0;this.id="";this.j=this.pan=0;this.m=a;this.Xb=this.Pb=100;this.fc=1}f.prototype.Ya=function(a){var c;if(c=a.getAttributeNode("id"))this.id=c.nodeValue.toString();if(c=a.getAttributeNode("pan"))this.pan=Number(c.nodeValue);
if(c=a.getAttributeNode("tilt"))this.j=Number(c.nodeValue)};f.prototype.Mh=function(a){var c="",b=this.m;b.Fb&&(c+="perspective("+a+"px) ");c=c+("translate3d(0px,0px,"+a+"px) ")+("rotateZ("+b.I.b.toFixed(10)+"deg) ");c+="rotateX("+b.j.b.toFixed(10)+"deg) ";c+="rotateY("+(-b.pan.b).toFixed(10)+"deg) ";c+="rotateY("+this.pan.toFixed(10)+"deg) ";c+="rotateX("+(-this.j).toFixed(10)+"deg) ";a=1E4;var d=this.c.videoWidth,e=this.c.videoHeight;if(0==d||0==e)d=640,e=480;0<this.Pb&&(d=this.Pb);0<this.Xb&&(e=
this.Xb);0<d&&0<e&&(this.c.width=d,this.c.height=e,this.c.style.width=d+"px",this.c.style.height=e+"px");0<this.h&&(a=d/(2*Math.tan(this.h/2*Math.PI/180)));c+="translate3d(0px,0px,"+(-a).toFixed(10)+"px) ";c+="rotateZ("+this.Za.toFixed(10)+"deg) ";c+="rotateY("+(-this.Aa).toFixed(10)+"deg) ";c+="rotateX("+this.oa.toFixed(10)+"deg) ";this.fc&&1!=this.fc&&(c+="scaleY("+this.fc+") ");c+="translate3d("+-d/2+"px,"+-e/2+"px,0px) ";this.c.style[b.ya+"Origin"]="0% 0%";this.hb&&(c="",1==this.xa&&(c+="scale("+
Math.min(b.l.width/d,b.l.height/e)+") "),c+="translate3d("+-d/2+"px,"+-e/2+"px,0px) ");this.Oi!=c&&(this.Oi=c,this.c.style[b.ya]=c,this.c.style.visibility="visible",this.zd&&this.Ig==this.hb&&(this.c.style[b.Vb]="all 0s linear 0s"),this.Ig=this.hb)};f.prototype.Kc=function(){var a=this.m;this.c.style.left=a.margin.left+a.l.width/2+"px";this.c.style.top=a.margin.top+a.l.height/2+"px"};return f}(),U=function(f){function a(a){f.call(this,a);this.Lf=this.sf=this.hd=!1;this.url=[];this.loop=0;this.level=
1;this.Mb=0;this.mode=1;this.qg=10;this.Xe=this.Wa=0;this.aa=1;this.Tb=this.Kb=this.Jb=this.Sb=0}S(a,f);a.prototype.Hj=function(){0==this.loop?this.c.play():0<this.mc&&(this.mc--,this.c.currentTime=0,this.sf&&(this.ec&&0==this.ec.gain.value||0==this.wb.gain.value&&0==this.zb.gain.value&&0==this.xb.gain.value&&0==this.yb.gain.value)||this.c.play())};a.prototype.dg=function(){var a=this.m.lb;a&&(this.source=a.createMediaElementSource(this.c),2==this.mode||3==this.mode||5==this.mode?(this.sd=a.createChannelSplitter(2),
this.wb=a.createGain(),this.xb=a.createGain(),this.yb=a.createGain(),this.zb=a.createGain(),this.rd=a.createChannelMerger(2),this.source.connect(this.sd),this.sd.connect(this.wb,0),this.sd.connect(this.xb,0),this.sd.connect(this.yb,1),this.sd.connect(this.zb,1),this.wb.connect(this.rd,0,0),this.xb.connect(this.rd,0,1),this.yb.connect(this.rd,0,0),this.zb.connect(this.rd,0,1),this.rd.connect(a.destination)):(this.ec=a.createGain(),this.source.connect(this.ec),this.ec.connect(a.destination)))};a.prototype.Nd=
function(){var a=this.m.lb;this.hb||this.Lf||(this.wb.gain.setValueAtTime(this.Sb,a.currentTime),this.zb.gain.setValueAtTime(this.Tb,a.currentTime),this.xb.gain.setValueAtTime(this.Jb,a.currentTime),this.yb.gain.setValueAtTime(this.Kb,a.currentTime))};a.prototype.$f=function(){var a=this.m,b=this.m.lb;if(this.c){var d,e=this.pan-a.pan.b;for(d=this.j-a.j.b;-180>e;)e+=360;for(;180<e;)e-=360;var f=this.Mb,g=this.qg;0==g&&(g=.01);0>g&&(g=a.h.b);this.$a||(this.$a=new x,this.$a.sg(this.pan,this.j));0!=
this.mode&&1!=this.mode||!b||this.ec&&this.ec.gain.setValueAtTime(this.level*a.ba*this.aa,b.currentTime);if(2==this.mode&&b){var k=.5*Math.cos(e*Math.PI/180)+.5;this.Sb=Math.sqrt(k)*this.aa;this.Tb=Math.sqrt(k)*this.aa;this.Jb=Math.sqrt(1-k)*this.aa;this.Kb=Math.sqrt(1-k)*this.aa;this.Nd()}if(3==this.mode){0>e?e<-this.Wa?e+=this.Wa:e=0:e=e>this.Wa?e-this.Wa:0;k=this.level;d=Math.abs(d);d=d<this.Xe?0:d-this.Xe;var n=1-d/g;if(Math.abs(e)>g||0>n){var m=k*f*a.ba;b?(this.Sb=m*this.aa,this.Tb=m*this.aa,
this.Kb=this.Jb=0,this.Nd()):this.c.volume=k*f*a.ba}else if(m=1-Math.abs(e/g),b){var p=k*(f+(1-f)*n*m)*a.ba,m=k*f*a.ba;0<=e?(this.Sb=p*this.aa,this.Tb=m*this.aa):(this.Sb=m*this.aa,this.Tb=p*this.aa);2*Math.abs(e)<g?(m=1-Math.abs(2*e)/g,p=k*(f+(1-f)*n*m)*a.ba,m=.5*k*(1-f)*n*(1-m)*a.ba,0<=e?(this.Tb=p*this.aa,this.Kb=m*this.aa,this.Jb=0):(this.Sb=p*this.aa,this.Jb=m*this.aa,this.Kb=0)):(m=1-(Math.abs(2*e)-g)/g,p=.5*k*(1-f)*n*m*a.ba,0<=e?(this.Kb=p*this.aa,this.Jb=0):(this.Jb=p*this.aa,this.Kb=0));
this.Nd()}else this.c.volume=k*(f+(1-f)*n*m)*a.ba}4==this.mode&&(Math.abs(e)<this.Wa&&Math.abs(d)<this.Xe?this.hd||(this.hd=!0,this.c.play()):this.hd=!1);5==this.mode&&(d=180*Math.acos(a.lf.He(this.$a))/Math.PI,d<this.Wa?b?(this.Sb=this.level*a.ba*this.aa,this.Tb=this.level*a.ba*this.aa,this.Kb=this.Jb=0,this.Nd()):this.c.volume=this.level*a.ba:b?d<this.Wa+g?(0>e?e=e>-this.Wa?0:e+this.Wa:e=e<this.Wa?0:e-this.Wa,p=1-Math.max(d-this.Wa,0)/g,m=Math.max(1-Math.abs(e)*Math.cos(this.j*Math.PI/180)/g,0),
0<e?(this.Sb=this.level*(p*(1-this.Mb)+this.Mb)*this.aa,this.Tb=this.level*(p*m*(1-this.Mb)+this.Mb)*this.aa,this.Jb=0,this.Kb=this.level*p*(1-m)*this.aa):(this.Sb=this.level*(p*m*(1-this.Mb)+this.Mb)*this.aa,this.Tb=this.level*(p*(1-this.Mb)+this.Mb)*this.aa,this.Jb=this.level*p*(1-m)*this.aa,this.Kb=0),this.Nd()):(p=this.level*this.Mb,this.Sb=p*this.aa,this.Tb=p*this.aa,this.Kb=this.Jb=0):(d-=this.Wa,this.c.volume=d<g&&0<g?this.level*(f+(1-f)*(1-Math.abs(d/g)))*a.ba:f*a.ba));6==this.mode&&(d=180*
Math.acos(a.lf.He(this.$a))/Math.PI,Math.abs(d)<this.Wa?this.hd||(this.hd=!0,this.c.play()):this.hd=!1)}};a.prototype.addElement=function(){var a=-1,b=this,d=this.m,e=this.m.lb;try{for(var f=!1,g=0;g<d.T.length;g++)d.T[g].id==b.id&&(a=g,null!=d.T[g].c&&d.T[g].url.join()==b.url.join()&&d.T[g].loop==b.loop&&d.T[g].mode==b.mode&&(f=!0));if(!f){if(0<=a){var k=d.T[a];if(null!=k.c)if(e&&d.pa.enabled)d.pa.Sd.push(k),1!=d.o.Ba&&2!=d.o.Ba&&d.pa.rf(k);else{try{k.c.pause()}catch(m){}try{k.ad()}catch(m){}}}b.c=
document.createElement("audio");b.c.setAttribute("class","ggmedia");d.Sc&&b.c.setAttribute("id",d.Sc+b.id);for(g=0;g<b.url.length;g++){var n;n=document.createElement("source");""!=b.url[g]&&"#"!=b.url[g]&&(n.setAttribute("src",d.ub(b.url[g])),b.c.appendChild(n))}b.c.volume=b.level*d.ba;1<=b.loop&&(b.mc=b.loop-1);0<=a?d.T[a]=b:d.T.push(b);0<b.c.childNodes.length&&(d.N.appendChild(b.c),b.c.addEventListener("ended",function(){b.Hj()},!1),e&&(b.dg(),b.sf=!1,0==b.loop&&b.source.mediaElement&&(b.source.mediaElement.loop=
!0)));1!=b.mode&&2!=b.mode&&3!=b.mode&&5!=b.mode||!(0<=b.loop)||e&&d.pa.enabled||(b.c.autoplay=!0)}}catch(m){}};a.prototype.ad=function(){try{this.m.N.removeChild(this.c),delete this.c,this.c=null}catch(a){}};a.prototype.Ya=function(a){f.prototype.Ya.call(this,a);var b;(b=a.getAttributeNode("url"))&&this.url.push(b.nodeValue.toString());if(b=a.getAttributeNode("level"))this.level=Number(b.nodeValue);if(b=a.getAttributeNode("loop"))this.loop=Number(b.nodeValue);if(b=a.getAttributeNode("mode"))this.mode=
Number(b.nodeValue);if(b=a.getAttributeNode("field"))this.qg=Number(b.nodeValue);if(b=a.getAttributeNode("ambientlevel"))this.Mb=Number(b.nodeValue);if(b=a.getAttributeNode("pansize"))this.Wa=Number(b.nodeValue);if(b=a.getAttributeNode("tiltsize"))this.Xe=Number(b.nodeValue);for(a=a.firstChild;a;)"source"==a.nodeName&&(b=a.getAttributeNode("url"))&&this.url.push(b.nodeValue.toString()),a=a.nextSibling};return a}(T),V=function(f){function a(a){f.call(this,a);this.poster="";this.Za=this.Aa=this.oa=
0;this.h=50;this.xa=0}S(a,f);a.prototype.Yb=function(){1!=this.xa&&4!=this.xa||this.Ad(!this.hb);2==this.xa&&this.m.lh(this.id)};a.prototype.Ad=function(a){var b=this.m.lb;if(1==this.xa||4==this.xa)if(this.hb=a,this.m.Qa)(b=this.m.Y)&&b.activateSound(this.id,this.hb?1:0);else{if(this.hb)this.c.play(),this.c.style.zIndex="80000",this.c.style[this.m.Vb]="all 1s ease 0s",this.m.Fe(this.id);else{this.c.style.zIndex="0";this.c.style[this.m.Vb]="all 1s ease 0s";this.Lf=!0;var d=this;setTimeout(function(){d.Lf=
!1},1E3)}if(b){var b=b.currentTime,e=this.wb.gain.value,f=this.zb.gain.value,g=this.xb.gain.value,k=this.yb.gain.value;this.hb?(this.wb.gain.linearRampToValueAtTime(e,b),this.wb.gain.linearRampToValueAtTime(this.level*this.m.ba,b+1),this.zb.gain.linearRampToValueAtTime(f,b),this.zb.gain.linearRampToValueAtTime(this.level*this.m.ba,b+1),this.xb.gain.linearRampToValueAtTime(g,b),this.xb.gain.linearRampToValueAtTime(0,b+1),this.yb.gain.linearRampToValueAtTime(k,b),this.yb.gain.linearRampToValueAtTime(0,
b+1)):(this.wb.gain.linearRampToValueAtTime(e,b),this.wb.gain.linearRampToValueAtTime(this.Sb,b+1),this.zb.gain.linearRampToValueAtTime(f,b),this.zb.gain.linearRampToValueAtTime(this.Tb,b+1),this.xb.gain.linearRampToValueAtTime(g,b),this.xb.gain.linearRampToValueAtTime(this.Jb,b+1),this.yb.gain.linearRampToValueAtTime(k,b),this.yb.gain.linearRampToValueAtTime(this.Kb,b+1))}this.zd=!0;this.m.Nh()}2==this.xa&&(a?this.m.Fe(this.id):this.m.Kf(this.id))};a.prototype.Bd=function(){this.zd=!1;this.c.style[this.m.Vb]=
"none"};a.prototype.ik=function(){0==this.loop?this.c.play():0<this.mc?(this.mc--,this.c.currentTime=0,this.c.play()):this.Tg=!1};a.prototype.Ya=function(a){f.prototype.Ya.call(this,a);var b;if(b=a.getAttributeNode("poster"))this.poster=String(b.nodeValue);if(b=a.getAttributeNode("rotx"))this.oa=Number(b.nodeValue);if(b=a.getAttributeNode("roty"))this.Aa=Number(b.nodeValue);if(b=a.getAttributeNode("rotz"))this.Za=Number(b.nodeValue);if(b=a.getAttributeNode("fov"))this.h=Number(b.nodeValue);if(b=a.getAttributeNode("width"))this.Pb=
Number(b.nodeValue);if(b=a.getAttributeNode("height"))this.Xb=Number(b.nodeValue);this.fc=(b=a.getAttributeNode("stretch"))?Number(b.nodeValue):1;if(b=a.getAttributeNode("clickmode"))this.xa=Number(b.nodeValue)};a.prototype.addElement=function(){var a=this,b=this.m;try{this.c=document.createElement("video");this.c.setAttribute("class","ggmedia");b.Sc&&this.c.setAttribute("id",b.Sc+this.id);if(b.Ud)this.c.setAttribute("style","display: none; max-width:none;");else if(this.c.setAttribute("style","max-width:none;pointer-events:none;"),
1==this.xa||4==this.xa)this.c.addEventListener(b.Th(),function(){a.Bd()},!1),this.c.addEventListener("transitionend",function(){a.Bd()},!1);var d;for(d=0;d<this.url.length;d++){var e;e=document.createElement("source");e.setAttribute("src",b.ub(this.url[d]));this.c.appendChild(e)}""!=this.poster&&(this.c.poster=b.ub(this.poster),0>this.loop&&(this.c.Xh="none"));this.c.volume=this.level*b.ba;1<=this.loop&&(this.mc=this.loop-1);(1==this.mode||2==this.mode||3==this.mode||5==this.mode)&&0<=this.loop&&
(this.Tg=this.c.autoplay=!0);b.L.push(this);b.Ud?b.N.appendChild(this.c):(this.c.style.position="absolute",this.Pb&&(this.c.width=this.Pb),this.Xb&&(this.c.height=this.Xb),b.A.appendChild(this.c),this.dg());this.c.onclick=function(){a.Yb()};this.c.addEventListener("ended",function(){a.ik()},!1)}catch(f){}};a.prototype.ad=function(){var a=this.m;a.Ud&&(a.a.deleteTexture(this.Hb),this.Hb=0,a.N.removeChild(this.c));a.Oh&&a.A.removeChild(this.c);delete this.c;this.c=null};return a}(U),W=function(f){function a(a){f.call(this,
a);this.url="";this.Za=this.Aa=this.oa=0;this.h=50;this.xa=0;this.Xb=this.Pb=100;this.fc=1}S(a,f);a.prototype.Ya=function(a){f.prototype.Ya.call(this,a);var b;if(b=a.getAttributeNode("url"))this.url=b.nodeValue.toString();if(b=a.getAttributeNode("rotx"))this.oa=Number(b.nodeValue);if(b=a.getAttributeNode("roty"))this.Aa=Number(b.nodeValue);if(b=a.getAttributeNode("rotz"))this.Za=Number(b.nodeValue);if(b=a.getAttributeNode("fov"))this.h=Number(b.nodeValue);if(b=a.getAttributeNode("width"))this.Pb=
Number(b.nodeValue);if(b=a.getAttributeNode("height"))this.Xb=Number(b.nodeValue);this.fc=(b=a.getAttributeNode("stretch"))?Number(b.nodeValue):1;if(b=a.getAttributeNode("clickmode"))this.xa=Number(b.nodeValue);for(a=a.firstChild;a;)"source"==a.nodeName&&(b=a.getAttributeNode("url"))&&(this.url=b.nodeValue.toString()),a=a.nextSibling};a.prototype.Bd=function(){this.zd=!1;this.c.style[this.m.Vb]="none"};a.prototype.Yb=function(){1!==this.xa&&4!==this.xa||this.Ad(!this.hb)};a.prototype.Ad=function(a){var b=
this.m;if(1===this.xa||4===this.xa)this.hb=a,this.m.Qa?(a=this.m.Y)&&a.activateSound(this.id,this.hb?1:0):(this.c.style.zIndex=this.hb?"80000":"0",this.c.style[b.Vb]="all 1s ease 0s",this.zd=!0,b.Ih())};a.prototype.addElement=function(){var a=this,b=this.m;try{a.c=document.createElement("img");a.c.setAttribute("style","-webkit-user-drag:none; max-width:none;");a.c.setAttribute("class","ggmedia");b.Sc&&a.c.setAttribute("id",b.Sc+a.id);a.c.ondragstart=function(){return!1};if(1===a.xa||4===a.xa)a.c.addEventListener(b.Th(),
function(){a.Bd()},!1),a.c.addEventListener("transitionend",function(){a.Bd()},!1);a.c.setAttribute("src",b.ub(a.url));a.Pb&&(a.c.width=a.Pb);a.Xb&&(a.c.height=a.Xb);b.Sa.push(a);a.c.style.position="absolute";a.Yb&&(a.c.onclick=function(){a.Yb()});b.A.appendChild(a.c)}catch(d){}};a.prototype.ad=function(){this.m.A.removeChild(this.c);delete this.c;this.c=null};return a}(T),X=function(f){function a(a){f.call(this,a);this.alpha=this.gg=50;this.type=0;this.color=16777215}S(a,f);a.prototype.Ya=function(a){f.prototype.Ya.call(this,
a);var b;if(b=a.getAttributeNode("blinding"))this.gg=Number(b.nodeValue);if(b=a.getAttributeNode("alpha"))this.alpha=Number(b.nodeValue);if(b=a.getAttributeNode("type"))this.type=Number(b.nodeValue);if(b=a.getAttributeNode("color"))this.color=1*Number(b.nodeValue)};return a}(T),Y=function(){function f(a){this.type="empty";this.zh=this.id=this.target=this.description=this.title=this.url="";this.af=100;this.re=20;this.bf=!1;this.c=null;this.Ga=this.da=this.j=this.pan=0;this.ob=a.w.ob;this.mb=a.w.mb;
this.Ob=a.w.Ob;this.Nb=a.w.Nb;this.Rc=a.w.Rc;this.Wd=[]}f.prototype.Oc=function(){this.id=this.id;this.pan=this.pan;this.tilt=this.j;this.url=this.url;this.target=this.target;this.title=this.title;this.description=this.description;this.skinid=this.zh;this.obj=this.c};f.prototype.Ya=function(a){var c;if(c=a.getAttributeNode("url"))this.url=c.nodeValue.toString();if(c=a.getAttributeNode("target"))this.target=c.nodeValue.toString();if(c=a.getAttributeNode("title"))this.title=c.nodeValue.toString();if(c=
a.getAttributeNode("description"))this.description=c.nodeValue.toString();if(c=a.getAttributeNode("id"))this.id=c.nodeValue.toString();if(c=a.getAttributeNode("skinid"))this.zh=c.nodeValue.toString();if(c=a.getAttributeNode("width"))this.af=Number(c.nodeValue);if(c=a.getAttributeNode("height"))this.re=Number(c.nodeValue);if(c=a.getAttributeNode("wordwrap"))this.bf=1==Number(c.nodeValue);c=a.getAttributeNode("pan");this.pan=1*(c?Number(c.nodeValue):0);c=a.getAttributeNode("tilt");this.j=1*(c?Number(c.nodeValue):
0);if(c=a.getAttributeNode("bordercolor"))this.ob=1*Number(c.nodeValue);if(c=a.getAttributeNode("backgroundcolor"))this.mb=1*Number(c.nodeValue);if(c=a.getAttributeNode("borderalpha"))this.Ob=1*Number(c.nodeValue);if(c=a.getAttributeNode("backgroundalpha"))this.Nb=1*Number(c.nodeValue);if(c=a.getAttributeNode("handcursor"))this.Rc=1==Number(c.nodeValue);for(a=a.firstChild;a;){if("vertex"==a.nodeName){var b={pan:0,j:0};c=a.getAttributeNode("pan");b.pan=1*(c?Number(c.nodeValue):0);c=a.getAttributeNode("tilt");
b.j=1*(c?Number(c.nodeValue):0);this.Wd.push(b)}a=a.nextSibling}this.Oc()};return f}();function aa(){this.Xc={wd:1,xd:1,Jd:0,Kd:0,ld:0,Xd:0,scale:1};this.Ab=!0;this.Mc=[]}
var ba=function(){function f(){var a;this.Ia=Array(6);for(a=0;6>a;a++)this.Ia[a]=new aa}f.prototype.ji=function(a,c,b,d){for(var e=0;6>e;e++){var f;if(f=this.Ia[e]){var g;g=[];g.push(new x(-1,-1,-1,0,0));g.push(new x(1,-1,-1,1,0));g.push(new x(1,1,-1,1,1));g.push(new x(-1,1,-1,0,1));for(var k=0;k<g.length;k++)4>e?g[k].Aa(-Math.PI/2*e):g[k].oa(Math.PI/2*(4===e?-1:1)),d&&(g[k].Za(d.I*Math.PI/180),g[k].oa(-d.pitch*Math.PI/180)),g[k].Aa(-a*Math.PI/180),g[k].oa(c*Math.PI/180),g[k].Za(b*Math.PI/180);f.Ab=
0<g.length}}};return f}(),Z=function(){function f(a,c){this.pan={b:0,eb:0,min:0,max:360,d:0,Hf:0};this.j={b:0,eb:0,min:-90,max:90,d:0};this.I={b:0,eb:0,min:-180,max:180,d:0};this.h={b:90,eb:90,min:1,Ef:0,max:170,Yc:0,d:0,mode:0,Bh:0,mg:0};this.ua={I:0,pitch:0};this.l={width:10,height:10};this.Db=0;this.lf=new x;this.O={start:{x:0,y:0},W:{x:0,y:0},ic:{x:0,y:0},b:{x:0,y:0},V:{x:0,y:0}};this.M={Da:-1,startTime:0,start:{x:0,y:0},W:{x:0,y:0},ic:{x:0,y:0},b:{x:0,y:0},V:{x:0,y:0}};this.D={enabled:!0,W:{x:0,
y:0},V:{x:0,y:0},h:{active:!1,Ha:0}};this.s={src:[],ae:4,width:640,height:480,Uc:!1,we:!1,ud:"loop",c:null,Hb:null,ag:null,Se:null,zf:null,format:"",qe:0};this.Ec=0;this.Y=this.la=this.ta=this.N=this.pb=this.Na=this.A=null;this.Cc="pano";this.tf="flashcontainer";this.mf="";this.control=null;this.qb=[];this.Pa=!1;this.je=1;this.F=null;this.nd=this.se=!1;this.jc="";this.bd=this.Fb=!1;this.Ee=0;this.fe=[];this.Nc=[];this.Pd=this.wc=1;this.pd=1024;this.Je=!1;this.Dh=0;this.v={enabled:!1,timeout:5,active:!1,
Od:!1,speed:.4,We:0,Gf:0,Ff:!0,Ph:!1,startTime:0,hc:0};this.R={active:!1,md:!1,speed:.1,pan:0,j:0,I:0,h:70,ed:70,Wg:0,Yg:0,Xg:0,Vg:0};this.va=null;this.Vd={};this.w={mode:1,Fd:-1,da:0,Ga:0,Ub:.05,ob:255,Ob:1,mb:255,Nb:.3,Rc:!0,Xf:{enabled:!0,width:180,height:20,Yf:0,Wf:1,background:!0,mb:16777215,Nb:1,ob:0,Ob:1,ef:3,ff:1,bf:!0}};this.ma=null;this.K=[];this.fb=new Y(this);this.T=[];this.L=[];this.Sa=[];this.Ic=[];this.qa=[];this.Bc=[];this.ba=1;this.kc=this.lc=null;this.vd={};this.addListener=function(a,
c){(this.vd[a]=this.vd[a]||[]).push(c)};this.Fh=function(a,c){var e=this.vd[a],f,g;if(e)for(g=0,f=e.length;g<f;g++)e[g].apply(null,c)};this.removeEventListener=function(a,c){var e=this.vd[a];if(e){var f,g;g=0;for(f=e.length;g<f;g++)if(e[g]===c){1===f?delete this.vd[a]:e.splice(g,1);break}}};this.g={H:[],Zc:"0x000000",mh:!1,ah:.4,bh:.4,Z:512,Ua:1,Zg:0,dh:"",width:0,height:0};this.cj={target:0,current:0,Ub:.01,li:2,pf:0,ie:!1,ai:!1};this.margin={left:0,top:0,right:0,bottom:0};this.C={Id:!1,Cf:!1,Va:!1,
Df:!1,rc:!0,Og:!1,Ah:1,of:!0,ee:!0,te:!1,sensitivity:8};this.Ld=[];this.bc=!0;this.za={x:0,y:0};this.Ud=this.Qa=this.Td=this.Ib=this.ja=!1;this.$e=this.Oh=!0;this.yf=!1;this.me=!0;this.xf=!1;this.ia=0;this.Te=5;this.Hc=0;this.fh=200;this.sa=this.zc="";this.Vb="transition";this.ya="transform";this.cc="perspective";this.og="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC";this.Ra={width:0,
height:0};this.vg=new x;this.ug=new x;this.wg=new x;this.xg=new x;this.tg=new x;this.xe=!1;this.currentNode="";this.bg=[];this.Ye=[];this.Pg=this.Bf=this.Sg=this.Af=this.ue=this.Qg=this.uh=this.Dc=this.Rg=!1;this.Oa=new ba;this.Zf=!1;this.td=function(a,c){if(0==a.length)return a;var e,f,g,k,n,m,p,l;l=[];e=c.He(a[0])-0;for(k=0;k<a.length;k++){m=k;p=k+1;p==a.length&&(p=0);f=c.He(a[p])-0;if(0<=e&&0<=f)l.push(a[m]);else if(0<=e||0<=f)g=f/(f-e),0>g&&(g=0),1<g&&(g=1),n=new x,n.gc(a[m],a[p],g),0>e||l.push(a[m]),
l.push(n);e=f}return l};this.Uf=0;this.pg=1;this.cb=[];this.P=A();this.rb=A();this.ze=-1;this.Be=1;this.oi=this.uf=this.qf=this.Pf=this.Ie=0;this.le=!0;this.ng();this.cd(this.fb);this.checkLoaded=this.qb;this.isLoaded=!1;c&&c.hasOwnProperty("useFlash")&&c.useFlash&&(this.Qa=!0,this.ja=this.Ib=!1,c.hasOwnProperty("flashPlayerId")?this.Cc=c.flashPlayerId:this.Cc="pano",c.hasOwnProperty("flashContainerId")?this.tf=c.flashContainerId:this.tf=a+"flash");this.ha();this.Qa||(this.Ta=new P(this));this.kg(a);
this.$h();this.ke();this.userdata=this.Vd;this.emptyHotspot=this.fb;this.mouse=this.za;this.rj();this.o=new N(this);this.pa=new O(this)}f.prototype.ng=function(){var a=0;this.Rg=navigator.userAgent.match(/(MSIE)/g)?!0:!1;if(this.Dc=navigator.userAgent.match(/(Safari)/g)?!0:!1)a=navigator.userAgent.indexOf("Safari"),this.Md=navigator.userAgent.substring(a+7),a=navigator.userAgent.indexOf("Version"),-1!=a&&(this.Md=navigator.userAgent.substring(a+8)),this.Md=this.Md.substring(0,this.Md.indexOf(" ")),
this.uh=!0;if(this.Qg=navigator.userAgent.match(/(Chrome)/g)?!0:!1)this.Dc=!1;this.ue=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;this.Af=navigator.userAgent.match(/(android)/i)?!0:!1;this.Sg=navigator.userAgent.match(/(IEMobile)/i)?!0:!1;this.Bf=this.ue||this.Af||this.Sg;var a=["Webkit","Moz","O","ms","Ms"],c;this.sa="";this.Vb="transition";this.ya="transform";this.cc="perspective";for(c=0;c<a.length;c++)"undefined"!==typeof document.documentElement.style[a[c]+"Transform"]&&(this.sa="-"+
a[c].toLowerCase()+"-",this.Vb=a[c]+"Transition",this.ya=a[c]+"Transform",this.cc=a[c]+"Perspective");this.yf=Q();this.ja=R();this.Ib=this.yf;this.ja&&(this.Ib=!1);this.Fb=!0;this.bd=!1;if(this.ue||this.Af)this.xh(80),this.Te=2;this.Vc("Pano2VR player - Prefix:"+this.sa+", "+(this.yf?"CSS 3D available":"CSS 3D not available")+", "+(this.ja?"WebGL available":"WebGL not available"));try{this.lb=new (window.audioContext||window.webkitAudioContext)}catch(b){this.lb=null}if(this.Dc&&!(this.uh&&9<=Number(this.Md))||
this.ue)this.lb=null};f.prototype.Vc=function(a){var c=document.getElementById("debug");c&&(c.innerHTML=a+"<br />");window.console&&window.console.log(a)};f.prototype.rj=function(){this.requestAnimationFrame=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return a?a:function(a){window.setTimeout(a,10)}}()};f.prototype.xh=function(a){this.fh=a};f.prototype.xj=function(a){this.Sc=
a};f.prototype.Fi=function(){return this.Ee};f.prototype.vj=function(a){this.zc=a};f.prototype.wi=function(){return this.Bf};f.prototype.ui=function(){return this.v.active};f.prototype.yj=function(a){this.Bf=Boolean(a)};f.prototype.ac=function(){return 1*this.l.height/(2*Math.tan(Math.PI/180*(this.Wb()/2)))};f.prototype.yh=function(a,c){this.isFullscreen&&(a=window.innerWidth,c=window.innerHeight);var b=a-this.margin.left-this.margin.right,d=c-this.margin.top-this.margin.bottom;if(!(10>b||10>d)){var e=
window.devicePixelRatio||1;this.Je&&(e=1);this.A.style.width=b+"px";this.A.style.height=d+"px";this.A.style.left=this.margin.left+"px";this.A.style.top=this.margin.top+"px";if(this.ja)try{this.Na&&(this.Na.style.position="absolute",this.Na.style.display="inline",this.Na.style.width=b+"px",this.Na.style.height=d+"px",this.Na.width=b*e,this.Na.height=d*e),this.a&&(this.Ra.width=b*e,this.Ra.height=d*e,this.a.viewport(0,0,this.a.drawingBufferWidth,this.a.drawingBufferHeight))}catch(f){alert(f)}this.pb&&
(this.pb.style.width=a+"px",this.pb.style.height=c+"px",this.pb.width=a,this.pb.height=c);this.ta&&(this.ta.style.width=a+"px",this.ta.style.height=c+"px",this.la.style.width=a+"px",this.la.style.height=c+"px",this.la.width=a,this.la.height=c,this.la.style.left=this.margin.left+"px",this.la.style.top=this.margin.top+"px",this.F&&this.F!=this.ta&&(this.F.style.width=a+"px",this.F.style.height=c+"px"));this.Ta&&(b=this.Ta.Ac,b.style.width=a+"px",b.style.height=c+"px",b.width=a,b.height=c,b.style.left=
this.margin.left+"px",b.style.top=this.margin.top+"px");this.se&&this.kd();b=this.A.offsetWidth;d=this.A.offsetHeight;if(this.l.width!=b||this.l.height!=d)this.l.width=b,this.l.height=d;this.hk();this.F&&this.F.ggUpdateSize&&this.F.ggUpdateSize(a,c)}};f.prototype.Kc=function(){this.Zf=!0};f.prototype.Lc=function(){this.yh(this.lc.offsetWidth,this.lc.offsetHeight)};f.prototype.Ni=function(){var a={width:0,height:0};a.width=this.l.width;a.height=this.l.height;return a};f.prototype.Qc=function(){var a=
{x:0,y:0},c=this.A;if(c.offsetParent){do a.x+=c.offsetLeft,a.y+=c.offsetTop,c=c.offsetParent;while(c)}return a};f.prototype.Dj=function(a){this.va=a};f.prototype.wh=function(a,c,b,d){this.margin.left=a;this.margin.top=c;this.margin.right=b;this.margin.bottom=d;this.va=this.skinObj;this.Kc()};f.prototype.gi=function(a){0==a&&(this.C.rc=!1);1==a&&(this.C.rc=!0);2==a&&(this.C.rc=this.C.rc?!1:!0)};f.prototype.mk=function(){return 1==this.C.rc?1:0};f.prototype.ei=function(a,c){this.w.mode=1==c&&0<this.w.mode?
0:Math.round(a);this.update();this.Y&&(this.Y.changePolygonMode(a,c),this.Y.update())};f.prototype.mj=function(){return this.w.mode};f.prototype.hi=function(){};f.prototype.nk=function(){return 0};f.prototype.Lg=function(a,c,b){a=Math.atan2(a+1,b);var d=Math.atan2(c+1,b);c=Math.sin(a);b=Math.sin(d);a=Math.cos(a);d=Math.cos(d);this.vg.Ja(0,0,-1);this.ug.Ja(a,0,-c);this.wg.Ja(-a,0,-c);this.xg.Ja(0,d,-b);this.tg.Ja(0,-d,-b)};f.prototype.jf=function(a){a=this.td(a,this.vg);a=this.td(a,this.ug);a=this.td(a,
this.wg);a=this.td(a,this.xg);return a=this.td(a,this.tg)};f.prototype.Hh=function(a){if(!this.Fb&&this.Si!=a){this.Si=a;var c;c=this.margin.left+this.l.width/2+"px ";c+=this.margin.top+this.l.height/2+"px ";this.ta.style[this.cc]=a+"px";this.ta.style[this.cc+"Origin"]=c;this.A.style[this.cc]=a+"px";this.A.style[this.cc+"Origin"]=c}};f.prototype.Ze=function(){var a,c=new x(0,0,-100),b=this.ac(),d,e,f;e=100/this.h.b;f=this.g.width/this.g.height;d=this.l.height*e*f;e*=this.l.height;for(var g=0;g<this.K.length;g++){var k=
this.K[g],n,m;"point"==k.type&&(m=!1,2==this.Db?(a=(this.pan.b-k.pan)/100/f*d,n=(this.j.b-k.j)/100*e,Math.abs(a)<this.l.width/2+500&&Math.abs(n)<this.l.height/2+500&&(m=!0)):(c.Ja(0,0,-100),c.oa(-k.j*Math.PI/180),c.Aa(k.pan*Math.PI/180),c.Aa(-this.pan.b*Math.PI/180),c.oa(this.j.b*Math.PI/180),c.Za(this.I.b*Math.PI/180),.01>c.z?(n=-b/c.z,a=c.x*n,n*=c.y,Math.abs(a)<this.l.width/2+500&&Math.abs(n)<this.l.height/2+500&&(m=!0)):n=a=0),k.sb=a+this.l.width/2,k.Xa=n+this.l.height/2,k.c&&k.c.__div&&("none"!=
k.c.__div.style[this.Vb]&&(k.c.__div.style[this.Vb]="none"),k.c.ggUse3d?(this.Fb||this.Hh(b),k.c.__div.style.width="1px",k.c.__div.style.height="1px",a="",this.Fb&&(a+="perspective("+b+"px) "),a+="translate3d(0px,0px,"+b+"px) ",a+="rotateZ("+this.I.b.toFixed(10)+"deg) ",a+="rotateX("+this.j.b.toFixed(10)+"deg) ",a+="rotateY("+(-this.pan.b).toFixed(10)+"deg) ",a+="rotateY("+k.pan.toFixed(10)+"deg) ",a+="rotateX("+(-k.j).toFixed(10)+"deg) ",a+="translate3d(0px,0px,"+(-1*k.c.gg3dDistance).toFixed(10)+
"px) ",k.c.__div.style[this.ya+"Origin"]="0% 0%",k.c.__div.style[this.ya]=a,k.c.__div.style.left=this.margin.left+this.l.width/2+"px",k.c.__div.style.top=this.margin.top+this.l.height/2+"px"):!m||this.o.gd||this.o.xc?(k.c.__div.style.left="-1000px",k.c.__div.style.top="-1000px"):(k.c.__div.style.left=this.margin.left+a+this.l.width/2+"px",k.c.__div.style.top=this.margin.top+n+this.l.height/2+"px")));if("poly"==k.type){var p=[];if(2==this.Db)for(k.uc=[],m=0;m<k.Wd.length;m++)n=k.Wd[m],a=(this.pan.b-
n.pan)/100/f*d,n=(this.j.b-n.j)/100*e,a+=this.margin.left+this.l.width/2,n+=this.margin.top+this.l.height/2,k.uc.push({sb:a,Xa:n});else{for(m=0;m<k.Wd.length;m++)n=k.Wd[m],c.Ja(0,0,-100),c.oa(-n.j*Math.PI/180),c.Aa(n.pan*Math.PI/180),c.Aa(-this.pan.b*Math.PI/180),c.oa(this.j.b*Math.PI/180),c.Za(this.I.b*Math.PI/180),p.push(c.clone());p=this.jf(p);if(0<p.length)for(m=0;m<p.length;m++)c=p[m],.1>c.z?(n=-b/c.z,a=this.l.width/2+c.x*n,n=this.l.height/2+c.y*n):n=a=0,c.sb=a,c.Xa=n;k.uc=p}}}};f.prototype.ri=
function(){for(var a=[],c=0;c<this.K.length;c++){var b=this.K[c];"point"==b.type&&b.c&&b.c.__div&&a.push(b.c.__div)}return a};f.prototype.X=function(a,c){a=Number(a);isNaN(c)&&(c=0);0>c&&(c=0);1<c&&(c=1);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+c+")"};f.prototype.ej=function(){var a,c;if(this.la&&(this.w.Fd!=this.w.mode&&(this.w.Fd=this.w.mode,this.la.style.visibility=0<this.w.mode?"inherit":"hidden"),0<this.w.mode)){this.U||(this.U=this.la.getContext("2d"));if(this.U.width!=this.l.width||
this.U.height!=this.l.height)this.U.width=this.l.width,this.U.height=this.l.height;this.U.clear?this.U.clear():this.U.clearRect(0,0,this.la.width,this.la.height);var b=1;3==this.w.mode&&(b=this.w.da);for(a=0;a<this.K.length;a++)if(c=this.K[a],"poly"==c.type){var d=c.uc;2==this.w.mode&&(b=c.da);this.U.fillStyle=this.X(c.mb,c.Nb*b);this.U.strokeStyle=this.X(c.ob,c.Ob*b);if(0<d.length){this.U.beginPath();for(c=0;c<d.length;c++){var e=d[c];0==c?this.U.moveTo(e.sb,e.Xa):this.U.lineTo(e.sb,e.Xa)}this.U.closePath();
this.U.stroke();this.U.fill()}}}};f.prototype.fj=function(){var a,c;this.la.style.visibility="hidden";this.w.Fd!=this.w.mode&&(this.w.Fd=this.w.mode);if(0<this.w.mode&&!this.o.Rd){var b=1;3==this.w.mode&&(b=this.w.da);for(a=0;a<this.K.length;a++){var d=this.K[a];if("poly"==d.type){var e=d.uc;2==this.w.mode&&(b=d.da);if(0<e.length){var f=[];for(c=0;c<e.length;c++)f.push(e[c].sb),f.push(e[c].Xa),f.push(0);this.a.useProgram(this.Eb);this.a.enable(this.a.BLEND);this.a.blendFuncSeparate(this.a.SRC_ALPHA,
this.a.ONE_MINUS_SRC_ALPHA,this.a.SRC_ALPHA,this.a.ONE);this.a.disable(this.a.DEPTH_TEST);c=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,c);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(f),this.a.STATIC_DRAW);this.a.uniform2f(this.a.getUniformLocation(this.Eb,"uCanvasDimensions"),this.l.width,this.l.height);c=this.a.getUniformLocation(this.Eb,"uColor");this.a.uniform3f(c,(d.ob>>16&255)/255,(d.ob>>8&255)/255,(d.ob&255)/255);e=this.a.getUniformLocation(this.Eb,"uAlpha");this.a.uniform1f(e,
d.Ob*b);this.a.vertexAttribPointer(this.Eb.ca,3,this.a.FLOAT,!1,0,0);this.a.drawArrays(this.a.LINE_LOOP,0,f.length/3);this.a.uniform3f(c,(d.mb>>16&255)/255,(d.mb>>8&255)/255,(d.mb&255)/255);this.a.uniform1f(e,d.Nb*b);this.a.enable(this.a.STENCIL_TEST);this.a.clearStencil(0);this.a.clear(this.a.STENCIL_BUFFER_BIT);this.a.colorMask(!1,!1,!1,!1);this.a.stencilFunc(this.a.ALWAYS,1,1);this.a.stencilOp(this.a.INCR,this.a.INCR,this.a.INCR);this.a.drawArrays(this.a.TRIANGLE_FAN,0,f.length/3);this.a.colorMask(!0,
!0,!0,!0);this.a.stencilFunc(this.a.EQUAL,1,1);this.a.stencilOp(this.a.ZERO,this.a.ZERO,this.a.ZERO);this.a.drawArrays(this.a.TRIANGLE_FAN,0,f.length/3);this.a.disable(this.a.BLEND);this.a.enable(this.a.DEPTH_TEST);this.a.disable(this.a.STENCIL_TEST);this.a.useProgram(this.G)}}}}};f.prototype.Kg=function(a,c,b){var d,e,f=!1;d=0;for(e=a.length-1;d<a.length;e=d++){var g=a[d];e=a[e];g.Xa>b!=e.Xa>b&&c<(e.sb-g.sb)*(b-g.Xa)/(e.Xa-g.Xa)+g.sb&&(f=!f)}return f};f.prototype.hf=function(a,c){var b=-1;if(0<=
this.w.mode)for(var d=0;d<this.K.length;d++){var e=this.K[d];"poly"==e.type&&e.uc&&0<e.uc.length&&this.Kg(e.uc,a,c)&&(b=d,e.sb=a,e.Xa=c)}return 0<=b?this.K[b]:!1};f.prototype.Wb=function(){var a;switch(this.h.mode){case 0:a=this.h.b/2;break;case 1:a=180*Math.atan(this.l.height/this.l.width*Math.tan(this.h.b/2*Math.PI/180))/Math.PI;break;case 2:a=180*Math.atan(this.l.height/Math.sqrt(this.l.width*this.l.width+this.l.height*this.l.height)*Math.tan(this.h.b/2*Math.PI/180))/Math.PI;break;case 3:a=4*this.l.height/
3>this.l.width?this.h.b/2:180*Math.atan(4*this.l.height/(3*this.l.width)*Math.tan(this.h.b/2*Math.PI/180))/Math.PI}return 2*a};f.prototype.Pe=function(a){a=a/2;var c;switch(this.h.mode){case 0:this.h.b=2*a;break;case 1:a=180*Math.atan(this.l.width/this.l.height*Math.tan(a*Math.PI/180))/Math.PI;this.h.b=2*a;break;case 2:c=Math.sqrt(this.l.width*this.l.width+this.l.height*this.l.height);a=180*Math.atan(c/this.l.height*Math.tan(a*Math.PI/180))/Math.PI;this.h.b=2*a;break;case 3:4*this.l.height/3>this.l.width||
(a=180*Math.atan(3*this.l.width/(4*this.l.height)*Math.tan(a*Math.PI/180))/Math.PI),this.h.b=2*a}};f.prototype.ab=function(){var a,c;if(2==this.Db){c=this.h.b/2;var b=this.l.width/this.l.height;a=b*c;var d=50*this.g.width/(.01+this.g.height);this.h.b<this.h.min&&(this.h.b=this.h.min);this.h.b>this.h.max&&(this.h.b=this.h.max);100<this.h.b&&(this.h.b=100);this.h.b>2*d/b&&(this.h.b=2*d/b);this.h.b>this.j.max-this.j.min&&(this.h.b=this.j.max-this.j.min);this.h.b>this.pan.max-this.pan.min&&(this.h.b=
this.pan.max-this.pan.min);50<this.j.b+c&&(this.j.b=50-c);-50>this.j.b-c&&(this.j.b=-50+c);this.pan.b+a>d&&(this.pan.b=d-a);this.pan.b-a<-d&&(this.pan.b=-d+a);this.j.b+c>this.j.max&&(this.j.b=this.j.max-c);this.j.b-c<this.j.min&&(this.j.b=this.j.min+c)}else if(0<this.h.Ef&&(a=this.wc,this.g.H&&0<this.g.H.length&&(a=this.g.H[0].height),this.h.min=360*Math.atan2(this.l.height/2,a/2*this.h.Ef)/Math.PI),this.h.b<this.h.min&&(this.h.b=this.h.min),this.h.b>this.h.max&&(this.h.b=this.h.max),c=this.Wb()/
2,a=180*Math.atan(this.l.width/this.l.height*Math.tan(c*Math.PI/180))/Math.PI,2*c>this.j.max-this.j.min&&(c=(this.j.max-this.j.min)/2),this.Pe(2*c),90>this.j.max?this.j.b+c>this.j.max&&(this.j.b=this.j.max-c):this.j.b>this.j.max&&(this.j.b=this.j.max),-90<this.j.min?this.j.b-c<this.j.min&&(this.j.b=this.j.min+c):this.j.b<this.j.min&&(this.j.b=this.j.min),359.99>this.pan.max-this.pan.min){b=0;if(0!=this.j.b){var e=this.l.height/2,d=e*Math.tan(c*Math.PI/180),e=e/Math.tan(Math.abs(this.j.b)*Math.PI/
180),e=e-d;0<e&&(b=180*Math.atan(1/(e/d))/Math.PI,b=b*(this.pan.max-this.pan.min)/360)}this.pan.b+(a+b)>this.pan.max&&(this.pan.b=this.pan.max-(a+b),this.v.active&&(this.v.speed=-this.v.speed,this.pan.d=0));this.pan.b-(a+b)<this.pan.min&&(this.pan.b=this.pan.min+(a+b),this.v.active&&(this.v.speed=-this.v.speed,this.pan.d=0));90<this.j.b+c&&(this.j.b=90-c);-90>this.j.b-c&&(this.j.b=-90+c)}};f.prototype.update=function(a){void 0===a&&(a=0);this.Pa=!0;a&&(this.je=a)};f.prototype.xi=function(){return this.Y?
Boolean(this.Y.isTileLoading):0<this.ia||0<this.Hc};f.prototype.kd=function(){var a=Date.now(),c;this.Qa?this.Y&&(this.Yj(),2===this.Db?(this.ab(),this.ab(),this.Ze()):0===this.Db&&(c=this.ac(),this.Lg(this.l.width/2,this.l.height/2,c),this.Ze())):2===this.Db?(this.ab(),this.ab(),this.Ze(),this.bk()):0===this.Db&&(c=this.ac(),this.Lg(this.l.width/2,this.l.height/2,c),this.Ze(),this.Ud?this.gk():this.Oh&&this.Nh(),this.Ih(),this.ja?(this.s.Uc?this.fk():0<this.g.H.length?this.ek():this.dk(),this.fj()):
(this.Ib?0<this.g.H.length?this.ak():this.$j():this.Td&&this.Xj(),this.ej()),this.Ta&&this.Ta.dj());50<Date.now()-a?this.Je||(2<this.Uf?(this.Je=!0,this.Lc()):this.Uf++):this.Uf=0};f.prototype.dk=function(){var a;this.ab();if(this.l.width!=this.A.offsetWidth||this.l.height!=this.A.offsetHeight)this.l.width=this.A.offsetWidth,this.l.height=this.A.offsetHeight;this.me&&(this.qc(0),this.Lc());if(this.a)for(this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT),D(this.rb),L(this.Wb(),this.Ra.width/
this.Ra.height,this.rb),this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb),a=0;6>a;a++)D(this.P),K(this.P,-this.I.b*Math.PI/180,[0,0,1]),K(this.P,-this.j.b*Math.PI/180,[1,0,0]),K(this.P,(180-this.pan.b)*Math.PI/180,[0,1,0]),this.ua&&(K(this.P,-this.ua.pitch*Math.PI/180,[1,0,0]),K(this.P,this.ua.I*Math.PI/180,[0,0,1])),4>a?K(this.P,-Math.PI/2*a,[0,1,0]):K(this.P,Math.PI/2*(5==a?1:-1),[1,0,0]),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.kf),this.a.vertexAttribPointer(this.G.ca,3,this.a.FLOAT,!1,0,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,
this.he),this.a.vertexAttribPointer(this.G.Fa,2,this.a.FLOAT,!1,0,0),6<=this.cb.length&&this.cb[a].loaded&&(this.a.activeTexture(this.a.TEXTURE0),this.a.bindTexture(this.a.TEXTURE_2D,this.cb[a]),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.ge),this.a.uniform1i(this.G.Ke,0),this.a.uniformMatrix4fv(this.G.Ce,!1,this.P),this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb),this.a.drawElements(this.a.TRIANGLES,6,this.a.UNSIGNED_SHORT,0))};f.prototype.Rj=function(a){var c=this;return function(){c.Pa=!0;
c.bc=!0;a.loaded=!0;c.ia&&c.ia--;0==c.ia&&c.F&&c.F.ggLoadedLevels&&c.F.ggLoadedLevels();c.a.pixelStorei(c.a.UNPACK_FLIP_Y_WEBGL,1);if(null!=a.g&&a.g.complete){a.Qb=c.a.createTexture();try{c.a.bindTexture(c.a.TEXTURE_2D,a.Qb),c.a.texImage2D(c.a.TEXTURE_2D,0,c.a.RGBA,c.a.RGBA,c.a.UNSIGNED_BYTE,a.g)}catch(b){}c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_MAG_FILTER,c.a.LINEAR);c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_MIN_FILTER,c.a.LINEAR);c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_WRAP_S,c.a.CLAMP_TO_EDGE);
c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_WRAP_T,c.a.CLAMP_TO_EDGE);c.a.bindTexture(c.a.TEXTURE_2D,null)}c.update()}};f.prototype.Yi=function(a){var c=this;return function(){c.Pa=!0;c.bc=!0;try{if(null!=a&&a.complete){var b={width:a.width,height:a.width,cache:!0,Mf:!0,La:1,Gb:1,$:[]},d;for(d=0;6>d;d++){var e={B:null,ga:null,g:null,Qb:null};e.B=document.createElement("canvas");c.ja?(e.B.width=b.width,e.B.height=b.height):(e.B.width=c.g.Z+2*c.g.Ua,e.B.height=c.g.Z+2*c.g.Ua);e.ga=e.B.getContext("2d");
e.B.Gg=e.ga;e.B.style[c.ya+"Origin"]="0% 0%";e.B.style.overflow="hidden";e.B.style.position="absolute";e.g=a;e.ga&&(c.Ib?e.ga.drawImage(a,0,d*b.height,b.width,b.height,0,0,b.width+2,b.height+2):e.ga.drawImage(a,0,d*b.height,b.width,b.height,0,0,b.width,b.height));c.ja&&c.a&&(c.a.pixelStorei(c.a.UNPACK_FLIP_Y_WEBGL,1),e.Qb=c.a.createTexture(),c.a.bindTexture(c.a.TEXTURE_2D,e.Qb),c.a.texImage2D(c.a.TEXTURE_2D,0,c.a.RGBA,c.a.RGBA,c.a.UNSIGNED_BYTE,e.B),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_MAG_FILTER,
c.a.LINEAR),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_MIN_FILTER,c.a.LINEAR),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_WRAP_S,c.a.CLAMP_TO_EDGE),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_WRAP_T,c.a.CLAMP_TO_EDGE),c.a.bindTexture(c.a.TEXTURE_2D,null));c.Ib&&(e.B.pc=-1,c.A.insertBefore(e.B,c.A.firstChild));b.$[d]=e}c.g.H.push(b)}}catch(f){}c.update()}};f.prototype.Eh=function(){var a=this;return function(){a.Pa=!0;a.bc=!0;a.ia&&a.ia--;0==a.ia&&a.F&&a.F.ggLoadedLevels&&a.F.ggLoadedLevels()}};
f.prototype.ek=function(){this.ab();var a,c,b;this.me&&(this.qc(0),this.Lc());if(this.a){this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);this.a.enable(this.a.DEPTH_TEST);D(this.rb);L(this.Wb(),this.Ra.width/this.Ra.height,this.rb);this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb);this.Hc=0;this.Kh();this.eh();var d=this.rg(),e;for(e=this.g.H.length-1;e>=d;){var f=this.g.H[e],g=1;e==this.g.H.length-1&&0==this.g.Ua&&(g=this.g.Z/(this.g.Z-.5));for(var k=0;6>k;k++){var n;n=this.Oa.Ia[k];var m=
n.Xc;if(n.Ab&&0<m.ld&&0<m.Xd&&0<m.scale||f.cache){n.Pa=!1;var p;n.Mc[e]||(n.Mc[e]={gb:0,vb:0,Bb:0,Cb:0});p=n.Mc[e];f.cache?(p.gb=0,p.vb=0,p.Bb=f.La-1,p.Cb=f.Gb-1):this.Fg(f,m,p);m=!0;for(c=p.vb;c<=p.Cb;c++)for(a=p.gb;a<=p.Bb;a++){b=a+c*f.La+k*f.La*f.Gb;var l=f.$[b];l||(l=f.$[b]={});this.ia<this.Te?l.g||(l.g=new Image,l.g.onload=this.Rj(l),l.g.onerror=this.Eh(),l.g.onabort=this.Eh(),l.g.setAttribute("src",this.Ve(k,e,a,c)),f.cache&&this.qb.push(l.g),0==this.ia&&this.F&&this.F.ggReLoadedLevels&&this.F.ggReLoadedLevels(),
this.ia++,this.Pa=!0):this.Hc++;if(l.Qb){if(!l.Cd){var u;u=.5*e+1;l.Cd=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,l.Cd);var q=[-1,-1,1,1,-1,1,1,1,1,-1,1,1];q[3]=a*this.g.Z-this.g.Ua;q[0]=Math.min((a+1)*this.g.Z,f.width)+this.g.Ua;q[7]=c*this.g.Z-this.g.Ua;q[1]=Math.min((c+1)*this.g.Z,f.height)+this.g.Ua;q[4]=q[1];q[6]=q[3];q[9]=q[0];q[10]=q[7];for(b=0;12>b;b++)q[b]=0==b%3?g*u*(-2*q[b]/f.width+1):1==b%3?g*u*(-2*q[b]/f.height+1):u;this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(q),
this.a.STATIC_DRAW)}}else m=!1;l.visible=n.Ab}p.$g=m}}e--}for(k=0;6>k;k++)if(n=this.Oa.Ia[k],n.Ab)for(m=n.Xc,D(this.P),K(this.P,-this.I.b*Math.PI/180,[0,0,1]),K(this.P,-this.j.b*Math.PI/180,[1,0,0]),K(this.P,(180-this.pan.b)*Math.PI/180,[0,1,0]),this.ua&&(K(this.P,-this.ua.pitch*Math.PI/180,[1,0,0]),K(this.P,this.ua.I*Math.PI/180,[0,0,1])),4>k?K(this.P,-Math.PI/2*k,[0,1,0]):K(this.P,Math.PI/2*(5==k?1:-1),[1,0,0]),this.a.uniform1i(this.G.Ke,0),this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb),this.a.uniformMatrix4fv(this.G.Ce,
!1,this.P),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.he),this.a.vertexAttribPointer(this.G.Fa,2,this.a.FLOAT,!1,0,0),this.a.activeTexture(this.a.TEXTURE0),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.ge),this.a.useProgram(this.G),e=d;e<=this.g.H.length-1;){f=this.g.H[e];if(n.Ab&&0<m.ld&&n.Mc[e]&&0<=n.Mc[e].gb){p=n.Mc[e];for(c=p.vb;c<=p.Cb;c++)for(a=p.gb;a<=p.Bb;a++)b=a+c*f.La+k*f.La*f.Gb,(l=f.$[b])||(l=f.$[b]={}),l.Qb&&(this.a.uniform1f(this.G.Wh,1E-4*(a%2+c%2*2)),this.a.bindBuffer(this.a.ARRAY_BUFFER,
l.Cd),this.a.vertexAttribPointer(this.G.ca,3,this.a.FLOAT,!1,0,0),this.a.bindTexture(this.a.TEXTURE_2D,l.Qb),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.a.drawElements(this.a.TRIANGLES,6,this.a.UNSIGNED_SHORT,0)),l.visible=
n.Ab;p.$g&&(e=this.g.H.length)}e++}for(a=0;a<this.g.H.length;a++)if(f=this.g.H[a],!f.cache)for(var v in f.$)f.$.hasOwnProperty(v)&&(l=f.$[v],l.visible||(l.Qb&&this.a.deleteTexture(l.Qb),l.g=null,l.Cd&&this.a.deleteBuffer(l.Cd),delete f.$[v]));this.bc=!1}};f.prototype.gk=function(){this.a.disable(this.a.DEPTH_TEST);var a;for(a=0;a<this.L.length;a++){var c=this.L[a];D(this.P);K(this.P,-this.I.b*Math.PI/180,[0,0,1]);K(this.P,-this.j.b*Math.PI/180,[1,0,0]);K(this.P,(180-this.pan.b)*Math.PI/180,[0,1,0]);
K(this.P,c.pan*Math.PI/180,[0,1,0]);K(this.P,-c.j*Math.PI/180,[1,0,0]);F(this.P,[0,0,1]);K(this.P,c.Za*Math.PI/180,[0,0,1]);K(this.P,-c.Aa*Math.PI/180,[0,1,0]);K(this.P,c.oa*Math.PI/180,[1,0,0]);var b=Math.tan(c.h/2*Math.PI/180),d=c.eg;d||(d=16/9);var e=this.P,b=[b,b/d,1],d=b[0],f=b[1],b=b[2];e[0]*=d;e[1]*=d;e[2]*=d;e[3]*=d;e[4]*=f;e[5]*=f;e[6]*=f;e[7]*=f;e[8]*=b;e[9]*=b;e[10]*=b;e[11]*=b;F(this.P,[0,0,-1]);this.a.bindBuffer(this.a.ARRAY_BUFFER,this.kf);this.a.vertexAttribPointer(this.G.ca,3,this.a.FLOAT,
!1,0,0);this.a.bindBuffer(this.a.ARRAY_BUFFER,this.he);this.a.vertexAttribPointer(this.G.Fa,2,this.a.FLOAT,!1,0,0);this.a.activeTexture(this.a.TEXTURE0);this.a.bindTexture(this.a.TEXTURE_2D,c.Hb);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE);
this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.ge);this.a.uniform1i(this.G.Ke,0);this.a.uniformMatrix4fv(this.G.Ce,!1,this.P);this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb);this.a.drawElements(this.a.TRIANGLES,6,this.a.UNSIGNED_SHORT,0)}this.a.enable(this.a.DEPTH_TEST)};f.prototype.fk=function(){this.ab();var a;if(this.l.width!=this.A.offsetWidth||this.l.height!=this.A.offsetHeight)this.l.width=this.A.offsetWidth,this.l.height=this.A.offsetHeight;this.me&&(this.qc(0),this.Lc());if(this.a)for(this.a.clear(this.a.COLOR_BUFFER_BIT|
this.a.DEPTH_BUFFER_BIT),D(this.rb),L(this.Wb(),this.Ra.width/this.Ra.height,this.rb),this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb),this.a.bindTexture(this.a.TEXTURE_2D,this.s.Hb),a=0;1>a;a++)D(this.P),K(this.P,-this.I.b*Math.PI/180,[0,0,1]),K(this.P,-this.j.b*Math.PI/180,[1,0,0]),K(this.P,(180-this.pan.b)*Math.PI/180,[0,1,0]),this.ua&&(K(this.P,-this.ua.pitch*Math.PI/180,[1,0,0]),K(this.P,this.ua.I*Math.PI/180,[0,0,1])),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.s.ag),this.a.vertexAttribPointer(this.G.ca,
3,this.a.FLOAT,!1,0,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,this.s.Se),this.a.vertexAttribPointer(this.G.Fa,2,this.a.FLOAT,!1,0,0),this.a.activeTexture(this.a.TEXTURE0),this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.s.zf),this.a.uniform1i(this.G.Ke,0),this.a.uniformMatrix4fv(this.G.Ce,!1,this.P),this.a.uniformMatrix4fv(this.G.Gc,!1,this.rb),this.a.drawElements(this.a.TRIANGLES,36,this.a.UNSIGNED_SHORT,0)};f.prototype.$j=function(){this.ab();var a=!1;if(this.l.width!=this.A.offsetWidth||this.l.height!=
this.A.offsetHeight)this.l.width=this.A.offsetWidth,this.l.height=this.A.offsetHeight,this.A.style[this.ya+"OriginX"]=this.l.width/2+"px",this.A.style[this.ya+"OriginY"]=this.l.height/2+"px",a=!0;var c=Math.round(this.ac());this.Gd==c&&!a||this.Fb||(this.Gd=c,this.A.style[this.cc]=c+"px");this.Oa.ji(this.pan.b,this.j.b,this.I.b,this.ua);for(a=0;6>a;a++){var b,d;if(b=this.Oa.Ia[a])d="",this.Fb?(d+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,0px) ",d+="perspective("+c+"px) ",d+="translate3d(0px,0px,"+
c+"px) "):d+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,"+c+"px) ",d+="rotateZ("+Number(this.I.b).toFixed(10)+"deg) rotateX("+Number(this.j.b).toFixed(10)+"deg)\trotateY("+Number(-this.pan.b).toFixed(10)+"deg) ",b.Hg&&(d+=b.Hg,b.Ab||(d="translate3d(-10px,-10px,0px) scale(0.001,0.001)"),b.B.style[this.ya]=d)}};f.prototype.Xj=function(){this.ab();var a;this.pb&&(a=this.pb.getContext("2d"));if(this.l.width!==this.A.offsetWidth||this.l.height!==this.A.offsetHeight)this.l.width=this.A.offsetWidth,
this.l.height=this.A.offsetHeight;if(a){var c=a.canvas.width/2,b=a.canvas.height/2,d=a.createRadialGradient(c,b,5,c,b,Math.max(c,b));d.addColorStop(0,"#333");d.addColorStop(1,"#fff");a.rect(0,0,a.canvas.width,a.canvas.height);a.fillStyle=d;a.fill();a.fillStyle="#f00";a.font="20px Helvetica";a.textAlign="center";a.fillText("Pan: "+this.pan.b.toFixed(1),c,b-60);a.fillText("Tilt: "+this.j.b.toFixed(1),c,b-30);a.fillText("Fov: "+this.h.b.toFixed(1),c,b+0);a.fillText("Node: "+this.Ag(),c,b+30);a.fillText("Title: "+
this.Vd.title,c,b+60)}};f.prototype.Yj=function(){this.ab();if(this.l.width!==this.A.offsetWidth||this.l.height!==this.A.offsetHeight)this.l.width=this.A.offsetWidth,this.l.height=this.A.offsetHeight;this.Y&&this.Y.setPan&&(this.Y.setPan(this.pan.b),this.Y.setTilt(this.j.b),this.Y.setFov(this.h.b))};f.prototype.bk=function(){this.la.style.visibility="inherit";this.U||(this.U=this.la.getContext("2d"));if(this.U.width!=this.l.width||this.U.height!=this.l.height)this.U.width=this.l.width,this.U.height=
this.l.height;this.U.clear?this.U.clear():this.U.clearRect(0,0,this.la.width,this.la.height);this.Hc=0;this.ab();var a,c,b;c=100/this.h.b;b=this.g.width/this.g.height;e=this.l.height*c*b;c*=this.l.height;a=(this.pan.b/100/b-.5)*e+this.l.width/2;var d,e;d=(this.j.b/100-.5)*c+this.l.height/2;for(var f,g,k,n,m,p=0;this.g.H.length>=p+2&&this.g.H[p+1].width>e;)p++;var l,u;u=[];for(l=this.g.H.length-1;l>=p;){b=this.g.H[l];var q;b.cache?(q={gb:0,vb:0},q.Bb=b.La-1,q.Cb=b.Gb-1):(q={},m=-d/c*(b.height/this.g.Z),
f=(-a+this.l.width)/e*(b.width/this.g.Z),g=(-d+this.l.height)/c*(b.height/this.g.Z),q.gb=Math.min(Math.max(0,Math.floor(-a/e*(b.width/this.g.Z))),b.La-1),q.vb=Math.min(Math.max(0,Math.floor(m)),b.Gb-1),q.Bb=Math.min(Math.max(0,Math.floor(f)),b.La-1),q.Cb=Math.min(Math.max(0,Math.floor(g)),b.Gb-1));u[l]=q;var v=!0;for(g=q.vb;g<=q.Cb;g++)for(f=q.gb;f<=q.Bb;f++)n=f+g*b.La,(m=b.$[n])||(m=b.$[n]={}),this.ia<this.Te?m.g||(m.g=new Image,m.g.onload=this.Qj(),m.g.onerror=this.Ue(m),m.g.onabort=this.Ue(m),
m.g.setAttribute("src",this.Ve(0,l,f,g)),b.cache&&this.qb.push(m.g),0==this.ia&&this.F&&this.F.ggReLoadedLevels&&this.F.ggReLoadedLevels(),this.ia++,this.Pa=!0):this.Hc++,m.g&&m.g.complete||(v=!1),m.visible=!0;q.$g=v;l--}for(l=this.g.H.length-1;l>=p;){b=this.g.H[l];if(u[l]&&0<=u[l].gb)for(q=u[l],g=q.vb;g<=q.Cb;g++)for(f=q.gb;f<=q.Bb;f++)n=f+g*b.La,(m=b.$[n])||(m=b.$[n]={}),m.g&&m.g.complete&&this.U.drawImage(m.g,a+(-this.g.Ua+this.g.Z*f)*e/b.width,d+(-this.g.Ua+this.g.Z*g)*c/b.height,m.g.width*e/
b.width,m.g.height*c/b.height),m.visible=!0;l--}for(e=0;e<this.g.H.length;e++)if(b=this.g.H[e],!b.cache)for(k in b.$)b.$.hasOwnProperty(k)&&(m=b.$[k],m.visible||(m.g=null,delete b.$[k]));if(0<this.w.mode)for(e=1,3==this.w.mode&&(e=this.w.da),k=0;k<this.K.length;k++)if(b=this.K[k],"poly"==b.type&&(c=b.uc,2==this.w.mode&&(e=b.da),0<c.length)){this.U.fillStyle=this.X(b.mb,b.Nb*e);this.U.strokeStyle=this.X(b.ob,b.Ob*e);this.U.beginPath();for(b=0;b<c.length;b++)a=c[b],0==b?this.U.moveTo(a.sb,a.Xa):this.U.lineTo(a.sb,
a.Xa);this.U.closePath();this.U.stroke();this.U.fill()}this.bc=!1};f.prototype.Pj=function(a){var c=this;return function(){c.Pa=!0;c.bc=!0;a.loaded=!0;a.g&&!a.B&&c.A.appendChild(a.g);c.ia&&c.ia--;0==c.ia&&c.F&&c.F.ggLoadedLevels&&c.F.ggLoadedLevels();a.g&&a.ga&&(a.ga.drawImage(a.g,0,0),a.g=null)}};f.prototype.Qj=function(){var a=this;return function(){a.Pa=!0;a.bc=!0;a.ia&&a.ia--;0==a.ia&&a.F&&a.F.ggLoadedLevels&&a.F.ggLoadedLevels()}};f.prototype.Ue=function(a){var c=this;return function(){c.Pa=
!0;c.bc=!0;c.ia&&c.ia--;0==c.ia&&c.F&&c.F.ggLoadedLevels&&c.F.ggLoadedLevels();a.g=null}};f.prototype.Fg=function(a,c,b){b.gb=a.width/this.g.Z*c.wd;b.vb=a.height/this.g.Z*c.xd;b.Bb=a.width/this.g.Z*c.Jd;b.Cb=a.height/this.g.Z*c.Kd;b.gb=Math.min(Math.max(0,Math.floor(b.gb)),a.La-1);b.vb=Math.min(Math.max(0,Math.floor(b.vb)),a.Gb-1);b.Bb=Math.min(Math.max(0,Math.floor(b.Bb)),a.La-1);b.Cb=Math.min(Math.max(0,Math.floor(b.Cb)),a.Gb-1)};f.prototype.Bj=function(a){a=Math.round(a);this.Fb=0<(a&1);this.bd=
0<(a&2);this.$e=0<(a&4);this.Je=0<(a&8);4096<=a&&(this.Ib=0<(a&4096),this.ja=0<(a&8192),this.Td=0<(a&32768))};f.prototype.Ii=function(){var a=0;this.Fb&&(a|=1);this.bd&&(a|=2);this.$e&&(a|=4);this.Ib&&(a|=4096);this.ja&&(a|=8192);this.Td&&(a|=32768);return a};f.prototype.Kh=function(){var a;if(!(6>this.Oa.Ia.length))for(a=0;6>a;a++){var c;c=this.Oa.Ia[a];var b;b=[];b.push(new x(-1,-1,-1,0,0));b.push(new x(1,-1,-1,1,0));b.push(new x(1,1,-1,1,1));b.push(new x(-1,1,-1,0,1));for(var d=0;4>d;d++)4>a?b[d].Aa(-Math.PI/
2*a):b[d].oa(Math.PI/2*(4==a?-1:1)),this.ua&&(b[d].Za(this.ua.I*Math.PI/180),b[d].oa(-this.ua.pitch*Math.PI/180)),b[d].Aa(-this.pan.b*Math.PI/180),b[d].oa(this.j.b*Math.PI/180),b[d].Za(this.I.b*Math.PI/180);b=this.jf(b);c.Ab=0<b.length;if(c.Ab){c=c.Xc;c.wd=b[0].$b;c.Jd=b[0].$b;c.xd=b[0].$a;c.Kd=b[0].$a;for(d=1;d<b.length;d++)c.wd=Math.min(c.wd,b[d].$b),c.Jd=Math.max(c.Jd,b[d].$b),c.xd=Math.min(c.xd,b[d].$a),c.Kd=Math.max(c.Kd,b[d].$a);c.ld=c.Jd-c.wd;c.Xd=c.Kd-c.xd;c.scale=Math.max(c.ld,c.Xd)}else c.Xc.ld=
-1,c.Xc.Xd=-1}};f.prototype.eh=function(){for(var a=0;a<this.g.H.length;a++){var c=this.g.H[a],b;for(b in c.$)c.$.hasOwnProperty(b)&&(c.$[b].visible=!1)}};f.prototype.rg=function(){for(var a=0,c=Math.tan(this.Wb()*Math.PI/360),b=this.l.height/(2*c),b=b*(1+this.l.width/this.l.height*c/2),b=b*Math.pow(2,1<(window.devicePixelRatio||1)?this.g.bh:this.g.ah);this.g.H.length>=a+2&&!this.g.H[a+1].Mf&&this.g.H[a+1].width>b;)a++;return a};f.prototype.ak=function(){this.ab();var a=!1,c=!1,b,d,e,c=!1;this.pg++;
if(this.l.width!==this.A.offsetWidth||this.l.height!==this.A.offsetHeight)this.l.width=this.A.offsetWidth,this.l.height=this.A.offsetHeight,this.A.style[this.ya+"OriginX"]=this.l.width/2+"px",this.A.style[this.ya+"OriginY"]=this.l.height/2+"px",a=!0;var f=Math.round(this.ac());if(this.Gd!=f||a)this.Gd=f,this.Fb||(this.A.style[this.cc]=f+"px",this.A.style[this.cc+"Origin"]="50% 50%");this.Hc=0;if(0<this.g.H.length){this.Kh();this.eh();var g;g="";for(b=0;6>b;b++){var k;k=this.Oa.Ia[b];k.Ab&&(g=g+b+
",")}var n=this.rg(),m;for(m=this.g.H.length-1;m>=n;){var a=this.g.H[m],p=1;m==this.g.H.length-1&&0==this.g.Ua&&(p=this.g.Z/(this.g.Z-2));for(b=0;6>b;b++){k=this.Oa.Ia[b];var l=k.Xc;if(k.Ab&&0<l.ld&&0<l.Xd&&0<l.scale||a.cache){k.Pa=!1;var u;u={};a.cache?(u.gb=0,u.vb=0,u.Bb=a.La-1,u.Cb=a.Gb-1):this.Fg(a,l,u);for(e=u.vb;e<=u.Cb;e++)for(d=u.gb;d<=u.Bb;d++){g=d+e*a.La+b*a.La*a.Gb;(l=a.$[g])||(l=a.$[g]={});if(!l.B&&this.ia<this.Te){if(0<this.Ye.length){l.B=this.Ye.shift();for(g=this.A.firstChild;g&&g.pc&&
(-1==g.pc||g.pc>=m);)g=g.nextSibling;this.A.insertBefore(l.B,g);l.ga=l.B.Gg}else if(this.Dh<this.fh){this.Dh++;l.B=document.createElement("canvas");l.B.width=this.g.Z+2*this.g.Ua;l.B.height=this.g.Z+2*this.g.Ua;l.ga=l.B.getContext("2d");l.B.Gg=l.ga;l.B.style[this.ya+"Origin"]="0% 0%";l.B.style.overflow="hidden";l.B.style.position="absolute";for(g=this.A.firstChild;g&&g.pc&&(-1==g.pc||g.pc>=m);)g=g.nextSibling;this.A.insertBefore(l.B,g)}l.B&&(l.g=new Image,l.g.style[this.ya+"Origin"]="0% 0%",l.g.style.position=
"absolute",l.g.style.overflow="hidden",l.B.pc=m,c&&(l.B.id="tile"+b+"_"+m+"___"+e+"_"+d),l.g.onload=this.Pj(l),l.g.onerror=this.Ue(l),l.g.onabort=this.Ue(l),l.g.setAttribute("src",this.Ve(b,m,d,e)),a.cache&&this.qb.push(l.g),0==this.ia&&this.F&&this.F.ggReLoadedLevels&&this.F.ggReLoadedLevels(),this.ia++,this.Pa=!0)}else this.Hc++;if(l.B){g="";this.Fb?(g+="translate3d("+this.l.width/2+"px,"+this.l.height/2+"px,0px) ",g+=" perspective("+f+"px) ",g+="translate3d(0px,0px,"+f+"px) "):g+="translate3d("+
this.l.width/2+"px,"+this.l.height/2+"px,"+f+"px) ";g+="rotateZ("+Number(this.I.b).toFixed(10)+"deg) rotateX("+Number(this.j.b).toFixed(10)+"deg) rotateY("+Number(-this.pan.b).toFixed(10)+"deg) ";this.ua&&(g+="rotateX("+Number(-this.ua.pitch).toFixed(10)+"deg) rotateZ("+Number(this.ua.I).toFixed(10)+"deg) ");g=4>b?g+("rotateY("+-90*b+"deg)"):g+("rotateX("+(4==b?-90:90)+"deg)");var q=1;this.bd?(q=this.pd/this.g.Z*(this.g.Z/a.width)*(2*m+1),q=this.Dc?2/Math.tan(this.h.b*Math.PI/360)*q:2*q,g+=" scale("+
q*p*p+")"):q=1/(p*p);g+=" translate3d("+(1/p*d*this.g.Z-this.g.Ua-a.width/2)+"px,"+(1/p*e*this.g.Z-this.g.Ua-a.width/2)+"px,"+-a.width*q/2+"px)";c&&(l.B.id="rtile_"+this.pg+"_"+b+"_"+m+"___"+e+"_"+d);k.Ab&&(l.visible=!0,l.B?l.B.style[this.ya]=g:l.g&&(l.g.style[this.ya]=g))}}}}m--}for(f=0;f<this.g.H.length;f++){var a=this.g.H[f],v;for(v in a.$)a.$.hasOwnProperty(v)&&(l=a.$[v],!l.visible&&l.B&&(a.cache?(g="translate3d(-10px,-10px,0px) scale(0.001,0.001)",l.B?(l.B.style[this.ya]=g,c&&(l.B.id="cache")):
l.g&&(l.g.style[this.ya]="")):(l.ga&&(l.ga.clear?l.ga.clear():l.ga.clearRect(0,0,l.ga.canvas.width,l.ga.canvas.height)),this.Ye.push(l.B),l.B?(c&&(l.B.id="unused"),g="translate3d(-10px,-10px,0px) scale(0.001,0.001)",l.B.style[this.ya]=g,l.B.pc=-1):l.loaded&&this.A.removeChild(l.g),l.B=null,l.g=null,l.ga=null,delete a.$[v])))}this.bc=!1}};f.prototype.Ih=function(){var a=Math.round(this.ac()),c;this.Fb||this.Hh(a);for(c=0;c<this.Sa.length;c++)this.Sa[c].Mh(a)};f.prototype.Nh=function(){for(var a=Math.round(this.ac()),
c=0;c<this.L.length;c++)this.L[c].Mh(a)};f.prototype.hk=function(){for(var a=0;a<this.L.length;a++){var c=void 0,c=this.L[a];c.Kc()}for(a=0;a<this.Sa.length;a++)c=this.Sa[a],c.Kc()};f.prototype.qc=function(a){this.me=!1;try{if(a?this.Na=a:this.Na=document.createElement("canvas"),this.Na.width=100,this.Na.height=100,this.Na.style.display="none",this.Na.style.vk="none",this.A.insertBefore(this.Na,this.A.firstChild),this.a=this.Na.getContext("webgl",{premultipliedAlpha:!1,stencil:!0}),this.a||(this.a=
this.Na.getContext("experimental-webgl",{premultipliedAlpha:!1,stencil:!0})),this.a){this.Ra.width=500;this.Ra.height=500;this.a.clearColor(0,0,0,0);if(this.g.Zc&&6<this.g.Zc.length){var c=parseInt(this.g.Zc);this.a.clearColor((c>>16&255)/255,(c>>8&255)/255,(c>>0&255)/255,1)}this.a.enable(this.a.DEPTH_TEST);this.a.viewport(0,0,500,500);this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);this.Dd();this.Mg(this.Pd);this.Ng();this.o&&(this.o.Dd(),this.o.qc());this.Ta&&(this.Ta.Dd(),this.Ta.qc())}}catch(b){}this.a?
this.ja=!0:alert("Could not initialise WebGL!")};f.prototype.Dd=function(){var a=this.a.createShader(this.a.FRAGMENT_SHADER),c;c="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n";c+="void main(void) {\n";c+=" gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n";c+="}\n";this.a.shaderSource(a,c);this.a.compileShader(a);this.a.getShaderParameter(a,this.a.COMPILE_STATUS)||
(console&&console.log(this.a.getShaderInfoLog(a)),alert(this.a.getShaderInfoLog(a)),a=null);var b=this.a.createShader(this.a.VERTEX_SHADER);c="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nattribute vec3 aVertexPosition;\n";c+="attribute vec2 aTextureCoord;\n";c+="uniform mat4 uMVMatrix;\n";c+="uniform mat4 uPMatrix;\n";c+="uniform float uZoffset;\n";c+="varying vec2 vTextureCoord;\n";c+="void main(void) {\n";c+=" gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n";
c+=" gl_Position.z += uZoffset;\n";c+=" vTextureCoord = aTextureCoord;\n";c+="}\n";this.a.shaderSource(b,c);this.a.compileShader(b);this.a.getShaderParameter(b,this.a.COMPILE_STATUS)||(console&&console.log(this.a.getShaderInfoLog(a)),alert(this.a.getShaderInfoLog(b)),b=null);this.G=this.a.createProgram();this.a.attachShader(this.G,b);this.a.attachShader(this.G,a);this.a.linkProgram(this.G);this.a.getProgramParameter(this.G,this.a.LINK_STATUS)||alert("Could not initialise shaders");this.a.useProgram(this.G);
this.G.ca=this.a.getAttribLocation(this.G,"aVertexPosition");this.a.enableVertexAttribArray(this.G.ca);this.G.Fa=this.a.getAttribLocation(this.G,"aTextureCoord");this.a.enableVertexAttribArray(this.G.Fa);this.G.Gc=this.a.getUniformLocation(this.G,"uPMatrix");this.G.Ce=this.a.getUniformLocation(this.G,"uMVMatrix");this.G.Ke=this.a.getUniformLocation(this.G,"uSampler");this.G.Wh=this.a.getUniformLocation(this.G,"uZoffset");a=this.a.createShader(this.a.VERTEX_SHADER);c="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nattribute vec3 aVertexPosition;\n";
c+="uniform vec2 uCanvasDimensions;\n";c+="void main(void) {\n";c+=" vec2 pointNorm = (aVertexPosition.xy / uCanvasDimensions) * 2.0 - vec2(1.0, 1.0);\n";c+=" gl_Position = vec4(pointNorm.x, pointNorm.y * -1.0, 0.0, 1.0);\n";c+="}\n";this.a.shaderSource(a,c);this.a.compileShader(a);this.a.getShaderParameter(a,this.a.COMPILE_STATUS)||(alert(this.a.getShaderInfoLog(a)),a=null);b=this.a.createShader(this.a.FRAGMENT_SHADER);c="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform vec3 uColor;\n";
c+="uniform float uAlpha;\n";c+="void main(void) {\n";c+=" gl_FragColor = vec4(uColor, uAlpha);\n";c+="}\n";this.a.shaderSource(b,c);this.a.compileShader(b);this.a.getShaderParameter(b,this.a.COMPILE_STATUS)||(alert(this.a.getShaderInfoLog(b)),b=null);this.Eb=this.a.createProgram();this.a.attachShader(this.Eb,a);this.a.attachShader(this.Eb,b);this.a.linkProgram(this.Eb);this.a.getProgramParameter(this.Eb,this.a.LINK_STATUS)||alert("Could not initialise shaders");this.Eb.ca=this.a.getAttribLocation(this.Eb,
"aVertexPosition");this.a.enableVertexAttribArray(this.Eb.ca)};f.prototype.wf=function(a){var c=this;return function(){try{if(a.$i)return;c.a.pixelStorei(c.a.UNPACK_FLIP_Y_WEBGL,1);var b=!1;null!=a.Ae&&a.Ae.complete?a.Jg||(c.a.bindTexture(c.a.TEXTURE_2D,a),c.a.texImage2D(c.a.TEXTURE_2D,0,c.a.RGBA,c.a.RGBA,c.a.UNSIGNED_BYTE,a.Ae),b=a.Jg=!0):null!=a.Ge&&a.Ge.complete&&(c.a.bindTexture(c.a.TEXTURE_2D,a),c.a.texImage2D(c.a.TEXTURE_2D,0,c.a.RGBA,c.a.RGBA,c.a.UNSIGNED_BYTE,a.Ge),b=!0);b&&(c.a.texParameteri(c.a.TEXTURE_2D,
c.a.TEXTURE_MAG_FILTER,c.a.LINEAR),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_MIN_FILTER,c.a.LINEAR),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_WRAP_S,c.a.CLAMP_TO_EDGE),c.a.texParameteri(c.a.TEXTURE_2D,c.a.TEXTURE_WRAP_T,c.a.CLAMP_TO_EDGE),a.loaded=!0);c.a.bindTexture(c.a.TEXTURE_2D,null)}catch(d){}c.update()}};f.prototype.ub=function(a){return a?"{"==a.charAt(0)||"/"==a.charAt(0)||0<a.indexOf("://")||0==a.indexOf("javascript:")?a:this.zc+a:this.zc};f.prototype.vc=function(a,c,b){var d=(new RegExp("%0*"+
c,"i")).exec(a.toString());if(d){var d=d.toString(),e=b.toString();for(d.charAt(d.length-1)!=c&&(e=(1+b).toString());e.length<d.length-1;)e="0"+e;a=a.replace(d,e)}return a};f.prototype.Ve=function(a,c,b,d){var e=this.g.Zg-1-c,f=this.g.dh,g="x";switch(a){case 0:g="f";break;case 1:g="r";break;case 2:g="b";break;case 3:g="l";break;case 4:g="u";break;case 5:g="d"}for(var k=0;3>k;k++)f=this.vc(f,"c",a),f=this.vc(f,"s",g),f=this.vc(f,"r",c),f=this.vc(f,"l",e),f=this.vc(f,"x",b),f=this.vc(f,"y",d),f=this.vc(f,
"v",d),f=this.vc(f,"h",b);return this.ub(f)};f.prototype.Ng=function(){var a,c;if(this.cb)for(;0<this.cb.length;)this.a.deleteTexture(this.cb.pop());this.cb=[];for(var b=0;6>b;b++)c=this.a.createTexture(),c.Ge=null,c.Ae=null,c.Jg=!1,this.a.bindTexture(this.a.TEXTURE_2D,c),this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,1,1,0,this.a.RGB,this.a.UNSIGNED_BYTE,null),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,
this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),this.Nc[b]&&(a=new Image,a.crossOrigin="anonymous",a.src=this.ub(this.Nc[b]),c.Ge=a,a.addEventListener&&a.addEventListener("load",this.wf(c),!1),this.qb.push(a)),this.cb.push(c);for(b=0;6>b;b++)this.fe[b]&&(a=new Image,a.crossOrigin="anonymous",a.src=this.ub(this.fe[b]),a.addEventListener?a.addEventListener("load",this.wf(this.cb[b]),!1):a.onload=this.wf(this.cb[b]),this.cb[b].Ae=a,this.qb.push(a));
for(b=0;b<this.L.length;b++)this.L[b].Hb=this.a.createTexture(),this.a.bindTexture(this.a.TEXTURE_2D,this.L[b].Hb),this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,1,1,0,this.a.RGB,this.a.UNSIGNED_BYTE,null),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE);this.s.Hb=this.a.createTexture();this.a.bindTexture(this.a.TEXTURE_2D,
this.s.Hb);this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,1,1,0,this.a.RGB,this.a.UNSIGNED_BYTE,null);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE);this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE);this.a.bindTexture(this.a.TEXTURE_2D,null)};f.prototype.Mg=function(a){var c,b,d,e;this.kf=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,
this.kf);var f=[-1,-1,1,1,-1,1,1,1,1,-1,1,1];for(c=0;12>c;c++)2>c%3&&(f[c]*=a);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(f),this.a.STATIC_DRAW);this.he=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,this.he);var g=[1,0,0,0,0,1,1,1];this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(g),this.a.STATIC_DRAW);this.ge=this.a.createBuffer();this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.ge);var k=[0,1,2,0,2,3];this.a.bufferData(this.a.ELEMENT_ARRAY_BUFFER,new Uint16Array(k),
this.a.STATIC_DRAW);var f=[],k=[],g=[],n=new x;for(a=0;6>a;a++){d=a%3;e=3>a?1:0;for(b=0;4>b;b++){n.x=-1;n.y=-1;n.z=1;for(c=0;c<b;c++)n.th();g.push((0>n.x?.33:0)+.33*d,(0>n.y?0:.5)+.5*e);if(4>a)for(c=0;c<a;c++)n.uj();else 5==a?n.tj():n.sj();f.push(n.x,n.y,n.z)}c=4*a;k.push(0+c,1+c,2+c,0+c,2+c,3+c)}this.s.ag=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,this.s.ag);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(f),this.a.STATIC_DRAW);this.s.Se=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,
this.s.Se);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(g),this.a.STATIC_DRAW);this.s.zf=this.a.createBuffer();this.a.bindBuffer(this.a.ELEMENT_ARRAY_BUFFER,this.s.zf);this.a.bufferData(this.a.ELEMENT_ARRAY_BUFFER,new Uint16Array(k),this.a.STATIC_DRAW);this.Ea=this.a.createBuffer();this.a.bindBuffer(this.a.ARRAY_BUFFER,this.Ea);this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0]),this.a.STATIC_DRAW);this.Ea.Rb=3;this.Ea.tc=4;this.$c=this.a.createBuffer();
this.a.bindBuffer(this.a.ARRAY_BUFFER,this.$c);g=[0,0,1,0,0,1,1,1];this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(g),this.a.STATIC_DRAW)};f.prototype.ne=function(){return this.pan.b};f.prototype.Di=function(){return this.R.pan};f.prototype.Ei=function(){for(var a=this.pan.b;-180>a;)a+=360;for(;180<a;)a-=360;return a};f.prototype.oe=function(){for(var a=this.pan.b-this.pan.Hf;-180>a;)a+=360;for(;180<a;)a-=360;return a};f.prototype.Qf=function(a){this.ha();isNaN(a)||(this.pan.b=Number(a));this.update()};
f.prototype.Rf=function(a){this.ha();isNaN(a)||(this.pan.b=Number(a)+this.pan.Hf);this.update()};f.prototype.ce=function(a,c){isNaN(a)||(this.Qf(this.ne()+a),c&&(this.pan.d=a))};f.prototype.di=function(a,c){this.ce(a*this.oc(),c)};f.prototype.pe=function(){return this.j.b};f.prototype.Ki=function(){return this.R.j};f.prototype.Tf=function(a){this.ha();isNaN(a)||(this.j.b=Number(a));this.update()};f.prototype.de=function(a,c){this.Tf(this.pe()+a);c&&(this.j.d=a)};f.prototype.fi=function(a,c){this.de(a*
this.oc(),c)};f.prototype.Cj=function(a){this.ha();isNaN(a)||(this.I.b=Number(a));this.update()};f.prototype.Ji=function(){return this.I.b};f.prototype.yd=function(){return this.h.b};f.prototype.si=function(){return this.R.ed};f.prototype.Me=function(a){this.ha();if(!isNaN(a)&&0<a&&180>a){var c=this.h.b;this.h.b=Number(a);this.ab();c!=this.h.b&&this.update()}};f.prototype.hg=function(a,c){this.Me(this.yd()+a);c&&(this.h.d=a)};f.prototype.qd=function(a,c){if(!isNaN(a)){var b;b=a/90*Math.cos(this.h.b*
Math.PI/360);b=this.h.b*Math.exp(b);this.Me(b);c&&(this.h.d=a)}};f.prototype.Aj=function(a,c){this.ha();isNaN(a)||(this.pan.b=a);isNaN(c)||(this.j.b=c);this.update()};f.prototype.Sf=function(a,c,b){this.ha();isNaN(a)||(this.pan.b=a);isNaN(c)||(this.j.b=c);!isNaN(b)&&0<b&&180>b&&(this.h.b=b);this.update()};f.prototype.wj=function(){this.Sf(this.pan.eb,this.j.eb,this.h.eb)};f.prototype.zj=function(a){this.Oe(a);this.vh(a);this.Ne(a)};f.prototype.Oe=function(a){this.C.Va=a};f.prototype.Ne=function(a){this.C.Id=
a};f.prototype.vh=function(a){this.C.Df=a};f.prototype.moveTo=function(a,c,b,d,e){this.ha();this.R.active=!0;this.R.md=!1;var f=a.toString().split("/");1<f.length&&(a=Number(f[0]),d=c,c=Number(f[1]),2<f.length&&(b=Number(f[2])));this.R.pan=isNaN(a)?this.pan.b:a;this.R.j=isNaN(c)?this.j.b:c;this.R.h=!isNaN(b)&&0<b&&180>b?b:this.h.b;!isNaN(d)&&0<d?this.R.speed=d:this.R.speed=1;this.R.I=isNaN(e)?this.I.b:e};f.prototype.Wi=function(a){this.moveTo(this.pan.eb,this.j.eb,this.h.eb,a)};f.prototype.Zh=function(a,
c,b,d){var e=new Y(this);e.type="point";e.pan=c;e.j=b;e.id=a;e.c={};e.c.player=this.ka.Oc();e.c.hotspot=e;e.c.__div=document.createElement("div");e.c.__div.appendChild(d);this.K.push(e);e.c.__div.style.left="-1000px";e.c.__div.style.top="-1000px";this.ta.insertBefore(e.c.__div,this.ta.firstChild);this.Pa=!0};f.prototype.Zj=function(a,c,b){for(var d=0;d<this.K.length;d++){var e=this.K[d];e.id==a&&(e.pan=c,e.j=b,e.Oc())}this.Pa=!0};f.prototype.pj=function(a){for(var c=-1,b,d=0;d<this.K.length;d++)b=
this.K[d],b.id==a&&(c=d);-1<c&&(b=this.K.slice(c,1)[0],b.c&&b.c.__div&&this.ta.removeChild(b.c.__div))};f.prototype.Gi=function(){for(var a=[],c=0;c<this.K.length;c++){var b=this.K[c];"point"==b.type&&a.push(String(b.id))}return a};f.prototype.ti=function(a){for(var c=0;c<this.K.length;c++){var b=this.K[c];if(b.id==a)return c={},c.id=a,c.pan=b.pan,c.tilt=b.j,b.c&&b.c.__div&&(c.div=b.c.__div),c}};f.prototype.Sh=function(a,c){this.O.start.x=a;this.O.start.y=c;this.O.W.x=a;this.O.W.y=c;this.D.W.x=a;
this.D.W.y=c;this.Pf++};f.prototype.Qh=function(a,c){var b=this.Wb();this.pan.b+=a*b/this.l.height;this.j.b+=c*b/this.l.height;this.ab()};f.prototype.Rh=function(a,c){this.O.b.x=a;this.O.b.y=c;this.O.V.x=this.O.b.x-this.O.W.x;this.O.V.y=this.O.b.y-this.O.W.y;this.C.rc&&(this.O.W.x=this.O.b.x,this.O.W.y=this.O.b.y,this.update())};f.prototype.ha=function(){this.v.active&&(this.v.active=!1,this.pan.d=0,this.j.d=0,this.h.d=0);this.R.active&&(this.R.active=!1,this.pan.d=0,this.j.d=0,this.h.d=0);this.nd=
this.R.md=!1;this.ye=(new Date).getTime()};f.prototype.yi=function(){return this.ye};f.prototype.sc=function(a){return a==this.control||a&&a.ggType&&("container"==a.ggType||"cloner"==a.ggType||"timer"==a.ggType)?!0:!1};f.prototype.ig=function(a,c){var b=this.ac(),d,e,f;for(d=0;d<this.L.length+this.Sa.length;d++){var g=void 0,g=d<this.L.length?this.L[d]:this.Sa[d-this.L.length];if(g.hb)return g}for(d=0;d<this.L.length+this.Sa.length;d++){var g=d<this.L.length?this.L[d]:this.Sa[d-this.L.length],k=[],
n=new x,m,p,l;0<g.h&&(p=Math.tan(g.h/2*Math.PI/180),l=0<g.Pb?p*g.Xb/g.Pb:p,g.fc&&1!=g.fc&&(l*=g.fc));for(m=0;4>m;m++){switch(m){case 0:n.Ja(-p,-l,-1);break;case 1:n.Ja(p,-l,-1);break;case 2:n.Ja(p,l,-1);break;case 3:n.Ja(-p,l,-1)}n.oa(-g.j*Math.PI/180);n.Aa(g.pan*Math.PI/180);n.Aa(-this.pan.b*Math.PI/180);n.oa(this.j.b*Math.PI/180);n.Za(this.I.b*Math.PI/180);k.push(n.clone())}k=this.jf(k);if(0<k.length){for(m=0;m<k.length;m++)n=k[m],.1>n.z?(f=-b/n.z,e=this.l.width/2+n.x*f,f=this.l.height/2+n.y*f):
f=e=0,n.sb=e,n.Xa=f;if(this.Kg(k,a,c))return g}}return null};f.prototype.ve=function(){return document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement&&null!=document.msFullscreenElement||document.fullScreen};f.prototype.Vi=function(a){this.Jh(a);if(this.Ca)this.Ca.onclick();this.kc=null;if(!this.C.Va){a=a?a:window.event;if((a.which||0==a.which||1==a.which)&&this.sc(a.target)){var c;(c=this.ig(this.za.x,this.za.y))&&c.Yb&&(this.kc=c);this.Sh(a.pageX,a.pageY);this.M.Da=1;this.M.startTime=
(new Date).getTime();a.preventDefault();this.ha()}this.O.V.x=0;this.O.V.y=0}};f.prototype.jd=function(a,c){var b=this.w.Xf;b.enabled&&(this.ka!=this.fb&&0<=a&&0<=c&&""!=this.ka.title?(this.ma.innerHTML=this.ka.title,this.ma.style.color=this.X(b.Yf,b.Wf),b.background?this.ma.style.backgroundColor=this.X(b.mb,b.Nb):this.ma.style.backgroundColor="transparent",this.ma.style.border="solid "+this.X(b.ob,b.Ob)+" "+b.ff+"px",this.ma.style.borderRadius=b.ef+"px",this.ma.style.textAlign="center",0<b.width?
(this.ma.style.left=a-b.width/2+this.margin.left+"px",this.ma.style.width=b.width+"px"):(this.ma.style.width="auto",this.ma.style.left=a-this.ma.offsetWidth/2+this.margin.left+"px"),this.ma.style.height=0<b.height?b.height+"px":"auto",this.ma.style.top=c+25+ +this.margin.top+"px",this.ma.style.visibility="inherit",this.ma.style.overflow="hidden"):(this.ma.style.visibility="hidden",this.ma.innerHTML=""))};f.prototype.Jh=function(a){var c=this.Qc();this.ve()?(this.za.x=a.pageX-this.margin.left,this.za.y=
a.pageY-this.margin.top):(this.za.x=a.pageX-c.x,this.za.y=a.pageY-c.y);return c};f.prototype.cd=function(a){a&&null!==a&&"object"==typeof a?this.ka=a:this.ka=this.fb;this.ka.Oc&&this.ka.Oc();this.hotspot=this.ka};f.prototype.Ui=function(a){a=a?a:window.event;var c=this.Jh(a);if(!this.C.Va&&(0<=this.M.Da&&(a.preventDefault(),(a.which||0==a.which||1==a.which)&&this.Rh(a.pageX,a.pageY),this.ha()),this.ka==this.fb||"poly"==this.ka.type)){var b=this.fb;0<this.K.length&&this.sc(a.target)&&(b=this.hf(this.za.x,
this.za.y));this.Le(b);this.jd(a.pageX-c.x,a.pageY-c.y)}};f.prototype.Le=function(a){!1===a&&(a=this.fb);this.ka!=a&&(this.ka!=this.fb&&(0<this.w.mode&&(this.ka.Ga=0),this.va&&this.va.hotspotProxyOut&&this.va.hotspotProxyOut(this.ka.id)),a!=this.fb?(this.cd(a),this.va&&this.va.hotspotProxyOver&&this.va.hotspotProxyOver(this.ka.id),this.ka.Rc&&(this.ta.style.cursor="pointer"),0<this.w.mode&&(this.w.Ga=1,this.ka.Ga=1)):(this.cd(this.fb),this.ka.Rc&&(this.ta.style.cursor="auto"),0<this.w.mode&&(this.w.Ga=
0)),this.Y&&this.Y.changeCurrentHotspot(this.ka.id))};f.prototype.Ti=function(a){a=a?a:window.event;this.ze=-1;if(!this.C.Va&&0<=this.M.Da){this.ha();a.preventDefault();this.M.Da=-3;this.O.V.x=0;this.O.V.y=0;a=(new Date).getTime();var c=-1,c=Math.abs(this.O.start.x-this.O.W.x)+Math.abs(this.O.start.y-this.O.W.y);if(400>a-this.M.startTime&&0<=c&&20>c){this.kc&&this.kc.Yb();(c=this.hf(this.za.x,this.za.y))&&this.Gh(c);c=Math.abs(this.O.ic.x-this.O.W.x)+Math.abs(this.O.ic.y-this.O.W.y);if(700>a-this.Ed&&
0<=c&&20>c){if(this.C.of){var b=this;setTimeout(function(){b.Qd()},10)}this.Ed=0}else this.Ed=a;this.O.ic.x=this.O.W.x;this.O.ic.y=this.O.W.y}}};f.prototype.gh=function(a){if(!this.C.Df&&(a=a?a:window.event,this.sc(a.target))){var c=a.detail?-1*a.detail:a.wheelDelta/40;this.C.Og&&(c=-c);a.axis&&(-1==this.ze?this.ze=a.axis:this.ze!=a.axis&&(c=0));var b=0<c?1:-1;0!=c&&(this.qd(b*this.C.Ah,!0),this.update());a.preventDefault();this.ha()}};f.prototype.Wj=function(a){a||(a=window.event);var c=a.touches,
b=this.Qc();this.za.x=c[0].pageX-b.x;this.za.y=c[0].pageY-b.y;this.fd=this.kc=null;if(!this.C.Va){if(0>this.M.Da&&c[0]){this.M.startTime=(new Date).getTime();this.M.start.x=c[0].pageX;this.M.start.y=c[0].pageY;this.M.W.x=c[0].pageX;this.M.W.y=c[0].pageY;this.tb=c[0].target;if(this.sc(a.target)){var d;(d=this.ig(this.za.x,this.za.y))&&d.Yb&&(this.kc=d);if(d=this.hf(this.za.x,this.za.y))this.fd=d,this.Le(d),this.jd(a.pageX-b.x,a.pageY-b.y);this.Sh(c[0].pageX,c[0].pageY);this.M.Da=c[0].identifier;a.preventDefault();
this.ha()}if(this.tb){b=this.tb;for(d=!1;b&&b!=this.control;){if(b.onmouseover)b.onmouseover();b.onmousedown&&!d&&(b.onmousedown(),d=!0);b=b.parentNode}d&&a.preventDefault()}}1<c.length&&(this.M.Da=-5);!this.xf&&2==c.length&&c[0]&&c[1]&&(a=c[0].pageX-c[1].pageX,c=c[0].pageY-c[1].pageY,this.h.Bh=Math.sqrt(a*a+c*c),this.h.Yc=this.h.b);this.O.V.x=0;this.O.V.y=0}};f.prototype.Vj=function(a){a||(a=window.event);var c=a.touches,b=this.Qc();this.za.x=c[0].pageX-b.x;this.za.y=c[0].pageY-b.y;if(!this.C.Va){c[0]&&
(this.M.W.x=c[0].pageX,this.M.W.y=c[0].pageY);if(0<=this.M.Da){a.preventDefault();for(var d=0;d<c.length;d++)if(c[d].identifier==this.M.Da){this.Rh(c[d].pageX,c[d].pageY);break}this.fd&&this.jd(a.pageX-b.x,a.pageY-b.y);this.ha()}2==c.length&&c[0]&&c[1]&&(this.M.Da=-6,this.xf||(b=c[0].pageX-c[1].pageX,c=c[0].pageY-c[1].pageY,this.h.mg=Math.sqrt(b*b+c*c),this.D.h.active=!0,this.D.h.Ha=this.h.Yc*Math.sqrt(this.h.Bh/this.h.mg),this.D.h.Ha>this.h.max&&(this.D.h.Ha=this.h.max),this.D.h.Ha<this.h.min&&(this.D.h.Ha=
this.h.min),this.ha(),a.preventDefault()))}};f.prototype.Uj=function(a){var c,b=this.Qc(),d=!1;if(!this.C.Va){0<=this.M.Da&&this.ha();var e=(new Date).getTime(),f;c=Math.abs(this.M.start.x-this.M.W.x)+Math.abs(this.M.start.y-this.M.W.y);if(0<=c&&20>c){a.preventDefault();d=!0;this.sc(this.tb)&&this.kc&&this.kc.Yb();if(this.tb)for(c=this.tb,f=!1;c&&c!=this.control;)c.onclick&&!f&&(c.onclick(),f=!0,d=!1),c=c.parentNode;c=Math.abs(this.M.ic.x-this.M.W.x)+Math.abs(this.M.ic.y-this.M.W.y);if(700>e-this.Ed&&
0<=c&&20>c){a.preventDefault();if(this.sc(this.tb)&&this.C.of){var g=this;setTimeout(function(){g.Qd()},1)}if(this.tb)for(c=this.tb,f=!1;c&&c!=this.control;)c.ondblclick&&!f&&(c.ondblclick(),f=!0,d=!1),c=c.parentNode;this.Ed=0}else this.Ed=e;this.M.ic.x=this.M.W.x;this.M.ic.y=this.M.W.y}if(this.tb)for(a.preventDefault(),c=this.tb,f=!1;c&&c!=this.control;){if(c.onmouseout)c.onmouseout();c.onmouseup&&!f&&(c.onmouseup(),f=!0);c=c.parentNode}this.tb=null;this.M.Da=-11;this.Le(this.fb);this.jd(a.pageX-
b.x,a.pageY-b.y);this.fd&&d&&this.Gh(this.fd);this.fd=null}};f.prototype.Tj=function(a){var c=this.Qc();this.C.Va||(this.M.Da=-2);this.fd=null;this.Le(this.fb);this.jd(a.pageX-c.x,a.pageY-c.y)};f.prototype.Pi=function(){return null!=this.tb||0<=this.M.Da};f.prototype.ih=function(a){!this.Fc&&window.MSGesture&&(this.Fc=new MSGesture,this.Fc.target=this.control);this.Fc&&this.Fc.addPointer(a.pointerId)};f.prototype.zg=function(a){this.xf=!0;this.Be=1;this.C.Va||(a.touches?(this.tb=a.touches.target,
this.sc(a.target)&&(a.preventDefault(),this.h.Yc=this.h.b,this.ha())):(a.preventDefault(),this.h.Yc=this.h.b,this.ha()))};f.prototype.pi=function(a){!this.C.Va&&this.sc(a.target)&&(a.preventDefault(),this.D.h.active=!0,this.D.h.Ha=this.h.Yc/Math.sqrt(a.scale),this.D.h.Ha>this.h.max&&(this.D.h.Ha=this.h.max),this.D.h.Ha<this.h.min&&(this.D.h.Ha=this.h.min),this.update(),this.ha())};f.prototype.Xi=function(a){this.C.Va||(a.preventDefault(),1!=a.scale&&(this.D.h.active=!0,this.Be*=a.scale,this.D.h.Ha=
this.h.Yc/Math.sqrt(this.Be),this.D.h.Ha>this.h.max&&(this.D.h.Ha=this.h.max),this.D.h.Ha<this.h.min&&(this.D.h.Ha=this.h.min),this.update(),this.ha()))};f.prototype.yg=function(a){this.C.Va||(a.preventDefault(),this.ha(),this.Fc&&this.Fc.reset&&this.Fc.reset())};f.prototype.Qi=function(a){this.C.Id||(this.isFullscreen&&a.preventDefault(),this.Ec=a.keyCode,this.ha())};f.prototype.Ri=function(a){this.Ec&&(this.Ec=0,a.preventDefault(),this.ha())};f.prototype.bj=function(){this.Ec=0};f.prototype.De=
function(){this.isFullscreen&&(this.ve()||this.exitFullscreen(),this.ve()&&(this.N.style.left="0px",this.N.style.top="0px"))};f.prototype.Gh=function(a){this.va&&this.va.hotspotProxyClick&&this.va.hotspotProxyClick(a.id);""!=a.url&&(this.If(a.url,a.target),this.jd(-1,-1))};f.prototype.oc=function(){return Math.min(1,2*Math.tan(Math.PI*this.h.b/360))};f.prototype.kh=function(){var a=this;setTimeout(function(){a.kh()},100);9!=this.Ie||this.Pg||requestAnimationFrame(function(){this.Vc("restart recover timer")});
10<this.Ie&&1<this.Pf&&(this.Vc("recover timer - disabling requestAnimationFrame"),this.Pg=!0,this.Jf());this.Ie++};f.prototype.ck=function(){var a=this.a;if(0<this.L.length)for(var c=0;c<this.L.length;c++){var b=this.L[c];if(b.Tg&&b.qe!=b.c.currentTime&&(b.qe=b.c.currentTime,!b.eg&&0<b.c.videoHeight&&(b.eg=b.c.videoWidth/b.c.videoHeight),this.Ud))try{b.Hb&&(a.bindTexture(a.TEXTURE_2D,b.Hb),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,b.c),this.update())}catch(d){}}if(this.s.c&&this.s.qe!=
this.s.c.currentTime){this.s.qe=this.s.c.currentTime;try{this.s.Hb&&this.s.we&&0<this.s.c.readyState&&(this.s.Uc=!0,a.bindTexture(a.TEXTURE_2D,this.s.Hb),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,0),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,this.s.c),this.update())}catch(d){}}};f.prototype.gj=function(a){var c;if(this.R.active){this.pan.d=this.R.pan-this.pan.b;if(360==this.pan.max-this.pan.min){for(;-180>this.pan.d;)this.pan.d+=360;for(;180<this.pan.d;)this.pan.d-=360}this.j.d=this.R.j-this.j.b;
this.I.d=this.R.I-this.I.b;this.h.d=this.R.h-this.h.b;var b=this.R.speed*this.oc(),d=Math.sqrt(this.pan.d*this.pan.d+this.j.d*this.j.d+this.I.d*this.I.d+this.h.d*this.h.d);c=this.pan.b-this.R.Wg;var e=this.j.b-this.R.Yg,f=this.I.b-this.R.Xg,g=this.h.b-this.R.Vg;100*Math.sqrt(c*c+e*e+f*f+g*g)<b&&(this.R.md=!0);this.R.Wg=this.pan.b;this.R.Yg=this.j.b;this.R.Xg=this.I.b;this.R.Vg=this.h.b;if(100*d<b||this.R.md){if(this.R.active=!1,this.pan.d=0,this.j.d=0,this.I.d=0,this.h.d=0,this.pan.b=this.R.pan,this.j.b=
this.R.j,this.I.b=this.R.I,this.h.b=this.R.h,this.onMoveComplete)this.onMoveComplete()}else d=d>5*b?b/d:.2,this.pan.d*=d,this.j.d*=d,this.h.d*=d;this.pan.b+=this.pan.d;this.j.b+=this.j.d;this.I.b+=this.I.d;this.h.b+=this.h.d;this.ye=a.getTime();this.update()}else if(this.v.active)if(d=a.getTime()-this.v.startTime,this.v.Ph){d/=100;e=!1;if(this.jc!=this.S.cliptitle){for(c=0;c<this.Bc.length;c++)if(""==this.jc||""!=this.jc&&this.Bc[c].cliptitle==this.jc){e=!0;this.S=this.Bc[c];this.jc=this.S.cliptitle;
break}!e&&0<this.Bc.length&&(e=!0,this.S=this.Bc[0],this.jc=this.S.cliptitle)}else e=!0;if(e)if(this.nd)if(d>=this.S.length)if(this.nd=!1,this.jc=this.S.nextcliptitle,this.jc==this.S.cliptitle){if(1<this.qa.length){if(this.v.Ff){c=1E3;do b=this.qa[Math.floor(Math.random()*this.qa.length)];while(c--&&b==this.currentNode)}else b=this.Dg();this.Wc("{"+b+"}");this.v.startTime=a.getTime();this.nd=!1;this.v.active=!0;this.o.od=!0}}else this.xe&&this.S.nextclipnodeid!=this.currentNode&&(this.Wc("{"+this.S.nextclipnodeid+
"}"),this.o.enabled?(this.v.active=!1,this.o.od=!0):this.v.active=!0),this.v.startTime=a.getTime();else{a={qk:{value:0,name:"pan"},rk:{value:1,name:"tilt"},pk:{value:2,name:"fov"}};for(b in a){c=a[b];e=0;for(e=Math.floor(d);!this.Bg(e,c.value)&&0<e;)e--;var g=this.Bg(e,c.value),k=this.zi(g);if(k){var e=new h(g.time,g.value),f=new h(k.time,k.value),n=(d-g.time)/(k.time-g.time);if(0!=g.type||0!=k.type&&3!=k.type)if(3==g.type)e=g.value;else{var n=new h,m=new h,p=k.time-g.time;0==g.type?m.Ja(g.time+.3*
p,g.value):m.Ja(g.bezierouttime,g.bezieroutvalue);0==k.type||3==k.type?n.Ja(k.time-.3*p,k.value):n.Ja(k.bezierintime,k.bezierinvalue);g=new h;g.ci(e,f,m,n,d);e=g.y}else g=new h,g.gc(e,f,n),e=g.y}else e=g.value;switch(c.value){case 0:c=this.pan.b;this.pan.b=e;this.pan.d=this.pan.b-c;break;case 1:c=this.j.b;this.j.b=e;this.j.d=this.j.b-c;break;case 2:c=this.h.b,this.h.b=e,this.h.d=this.h.b-c}}this.update()}else b=this.S.keyframes[0],d=this.S.keyframes[1],c=this.S.keyframes[2],this.R.md||this.ne()==
b.value&&this.pe()==d.value&&this.yd()==c.value?(this.nd=!0,this.v.startTime=a.getTime()):(this.moveTo(b.value,d.value,c.value,1),this.v.active=!0)}else if(0<this.v.Gf&&this.xe&&d>=1E3*this.v.Gf){if(1<this.qa.length){if(this.v.Ff){c=1E3;do b=this.qa[Math.floor(Math.random()*this.qa.length)];while(c--&&b==this.currentNode)}else c=this.qa.indexOf(this.currentNode),c++,c>=this.qa.length&&(c=0),b=this.qa[c];this.v.startTime=a.getTime();this.v.hc=a.getTime();this.v.timeout=0;this.Wc("{"+b+"}");this.v.active=
!0;this.o.od=!0}}else b=a.getTime(),a=d=1E3/60,0!=this.v.hc&&(a=b-this.v.hc),this.j.d=this.v.We*(0-this.j.b)/100,this.h.d=this.v.We*(this.h.eb-this.h.b)/100,this.pan.d=.95*this.pan.d+-this.v.speed*this.oc()*.05,d=a/d,this.pan.b+=this.pan.d*d,this.j.b+=this.j.d*d,this.h.b+=this.h.d*d,this.v.hc=b,this.update();else this.v.enabled&&0>this.M.Da&&a.getTime()-this.ye>1E3*this.v.timeout&&(this.v.Od&&this.isLoaded||!this.v.Od)&&(this.v.active=!0,this.v.startTime=a.getTime(),this.v.hc=0,this.pan.d=0,this.j.d=
0,this.h.d=0),this.D.enabled&&0==this.Ec&&0>this.M.Da&&(0!=this.pan.d||0!=this.j.d||0!=this.h.d)&&(this.pan.d*=.9,this.j.d*=.9,this.h.d*=.9,this.pan.b+=this.pan.d,this.j.b+=this.j.d,this.qd(this.h.d),1E-4>this.pan.d*this.pan.d+this.j.d*this.j.d+this.h.d*this.h.d&&(this.pan.d=0,this.j.d=0,this.h.d=0),this.update())};f.prototype.hj=function(a){var c;if(this.o.xc)if(c=a.getTime()-this.o.Vh,c/=1E3*this.o.Uh,1<=c){this.o.xc=!1;for(c=0;c<this.pa.Sd.length;c++)this.pa.rf(this.pa.Sd[c]);this.o.Vf=a.getTime();
this.Ch();this.o.gd=!0;1!=this.o.Lb&&2!=this.o.Lb&&3!=this.o.Lb||this.o.df||this.moveTo(this.o.Qe,this.o.Re,this.o.ed,this.o.$d)}else this.o.jh(c);else this.o.gd&&(c=a.getTime()-this.o.Vf,c/=1E3*this.o.fg,1<=c?(this.o.gd=!1,this.ye=a.getTime(),this.update(),1!=this.o.Lb&&2!=this.o.Lb&&3!=this.o.Lb||!this.o.df||this.moveTo(this.o.Qe,this.o.Re,this.o.ed,this.o.$d),this.Oe(this.o.hh),this.Ne(this.o.Ug),this.v.active=this.o.od,this.v.hc=0,this.o.od=!1):this.o.jh(c));c=this.cj;c.ai&&(c.ie?a.getTime()-
c.pf>=1E3*c.li&&(c.ie=!1):(c.current+=c.Ub,0>c.current&&(c.current=0,c.Ub=-c.Ub,c.ie=!0,c.pf=a.getTime()),1<c.current&&(c.current=1,c.Ub=-c.Ub,c.ie=!0,c.pf=a.getTime())))};f.prototype.lj=function(){var a;if(2==this.w.mode)for(a=0;a<this.K.length;a++){var c=this.K[a];"poly"==c.type&&c.Ga!=c.da&&(c.Ga>c.da?(c.da+=this.w.Ub,c.Ga<c.da&&(c.da=c.Ga)):(c.da-=this.w.Ub,c.Ga>c.da&&(c.da=c.Ga)),this.update())}3==this.w.mode&&this.w.Ga!=this.w.da&&(this.w.Ga>this.w.da?(this.w.da+=this.w.Ub,this.w.Ga<this.w.da&&
(this.w.da=this.w.Ga)):(this.w.da-=this.w.Ub,this.w.Ga>this.w.da&&(this.w.da=this.w.Ga)),this.update())};f.prototype.ij=function(){0<=this.M.Da&&(this.C.rc?(this.D.V.x=.4*(this.O.W.x-this.D.W.x),this.D.V.y=.4*(this.O.W.y-this.D.W.y),this.D.W.x+=this.D.V.x,this.D.W.y+=this.D.V.y):(this.D.V.x=.1*-this.O.V.x*this.C.sensitivity/8,this.D.V.y=.1*-this.O.V.y*this.C.sensitivity/8),this.Qh(this.D.V.x,this.D.V.y),this.update());this.D.h.active&&(this.hg(.4*(this.D.h.Ha-this.h.b)),.001>Math.abs(this.D.h.Ha-
this.h.b)/this.h.b&&(this.D.h.active=!1),this.update());this.D.enabled&&(0!=this.D.V.x||0!=this.D.V.y)&&0>this.M.Da&&(this.D.V.x=.9*this.D.V.x,this.D.V.y=.9*this.D.V.y,.1>this.D.V.x*this.D.V.x+this.D.V.y*this.D.V.y?(this.D.V.x=0,this.D.V.y=0):(this.Qh(this.D.V.x,this.D.V.y),this.update()))};f.prototype.jj=function(){if(0!=this.Ec){var a=this.C.sensitivity/8;switch(this.Ec){case 37:case 65:this.ce(a*this.oc(),!0);break;case 38:case 87:this.de(a*this.oc(),!0);break;case 39:case 68:this.ce(-a*this.oc(),
!0);break;case 40:case 83:this.de(-a*this.oc(),!0);break;case 43:case 107:case 16:case 81:this.C.Cf||this.qd(-a,!0);break;case 17:case 18:case 109:case 45:case 91:case 69:this.C.Cf||this.qd(a,!0)}this.update()}};f.prototype.kj=function(){if(!this.isLoaded&&this.se){var a,c=0,b=this.qb.length;if(this.Td)b=50,this.qf<b&&this.qf++,c=this.qf;else for(a=0;a<b;a++)this.qb[a].complete&&this.qb[a].src!=this.og&&c++;c==b?(this.Ee=1,this.isLoaded=!0,this.F&&this.F.ggLoaded&&this.F.ggLoaded(),this.v.Od&&this.v.enabled&&
!this.R.active&&!this.o.xc&&(this.v.active=!0,this.v.hc=0)):this.Ee=c/(1*b)}};f.prototype.Jf=function(){var a=new Date;this.Qa&&""!==this.Cc&&!this.Y&&document.hasOwnProperty(this.Cc)&&document[this.Cc].setPan&&0==this.oi--&&(this.Y=document[this.Cc],this.Ib=this.ja=!1,this.la&&(this.la.style.visibility="hidden"),this.Y.setLocked(!0),this.Y.setSlaveMode(!0),this.Y.readConfigString(this.mf),this.Vc("Flash player '"+this.Cc+"' connected."));this.uf++;120<=this.uf&&(this.uf=0);this.Pf=this.Ie=0;this.Zf&&
(this.Lc(),this.Zf=!1);this.ij();this.jj();for(this.kj();360<this.pan.b;)this.pan.b-=360;for(;-360>this.pan.b;)this.pan.b+=360;this.gj(a);this.hj(a);this.ck();0<this.w.mode&&this.lj();this.$f();this.Pa&&(0<this.je?this.je--:(this.Pa=!1,this.je=0),this.o.gd||this.o.xc||this.kd());var c=this;setTimeout(function(){c.Jf()},1E3/60)};f.prototype.Lh=function(){var a=this;setTimeout(function(){a.dd(!1)},10);setTimeout(function(){a.dd(!1)},100)};f.prototype.$f=function(){this.lf.sg(this.pan.b,this.j.b);for(var a=
0;a<this.T.length+this.L.length;a++)(a<this.T.length?this.T[a]:this.L[a-this.T.length]).$f()};f.prototype.Gj=function(a,c){var b,d,e=this;if(0!=this.Ld.length||!this.C.te||this.C.ee)if(this.Ca)this.N.removeChild(this.Ca),this.Ca=null;else{this.Ca=document.createElement("div");b="left: "+a+"px;"+("top:\t "+c+"px;");b+="z-index: 5000;";b+="position:relative;";b+="display: table;";b+="background-color: white;";b+="border: 1px solid lightgray;";b+="box-shadow: 1px 1px 3px #333;";b+="font-family: Verdana, Arial, Helvetica, sans-serif;";
b+="font-size: 9pt;";b+="opacity : 0.95;";this.Ca.setAttribute("style",b);b=document.createElement("style");d=document.createTextNode(".contextrow:hover { background-color: #3399FF }");b.type="text/css";b.styleSheet?b.styleSheet.cssText=d.nodeValue:b.appendChild(d);this.Ca.appendChild(b);for(d=0;d<this.Ld.length;d++){var f=this.Ld[d],g=document.createElement("div");b="text-align: left;";b+="margin: 0;";b+="padding: 5px 20px;";b+="vertical-align: left;";g.setAttribute("style",b);g.setAttribute("class",
"contextrow");b=document.createElement("a");b.href=f.url;b.target="_blank";b.innerHTML=f.text;b.setAttribute("style","color: black; text-decoration: none;");g.appendChild(b);this.Ca.appendChild(g)}0<this.Ld.length&&(!this.C.te||this.C.ee)&&this.Ca.appendChild(document.createElement("hr"));this.C.ee&&(d=document.createElement("div"),d.setAttribute("class","contextrow"),b="text-align: left;margin: 0;",b+="padding: 5px 20px;",b+="vertical-align: left;",b+="cursor: pointer;",d.setAttribute("style",b),
d.onclick=function(){e.Qd()},d.innerHTML=this.ve()?"Exit Fullscreen":"Enter Fullscreen",this.Ca.appendChild(d));this.C.te||(d=document.createElement("div"),b="text-align: left;margin: 0;",b+="padding: 5px 20px;",b+="vertical-align: left;",d.setAttribute("style",b),d.setAttribute("class","contextrow"),b=document.createElement("a"),b.href="http://pano2vr.com/",b.target="_blank",b.innerHTML="Created with Pano2VR",b.setAttribute("style","color: black; text-decoration: none;"),d.appendChild(b),this.Ca.appendChild(d));
this.N.insertBefore(this.Ca,this.N.firstChild);this.Ca.onclick=function(){e.Ca&&(e.N.removeChild(e.Ca),e.Ca=null)};this.Ca.oncontextmenu=this.Ca.onclick}};f.prototype.$h=function(){var a=this,c;this.control=this.control=c=this.ta;this.Lh();setTimeout(function(){a.Jf()},10);setTimeout(function(){a.kh()},200);setTimeout(function(){a.Kc();a.kd()},10);c.addEventListener&&(c.addEventListener("touchstart",function(b){a.Wj(b)},!1),c.addEventListener("touchmove",function(b){a.Vj(b)},!1),c.addEventListener("touchend",
function(b){a.Uj(b)},!1),c.addEventListener("touchcancel",function(b){a.Tj(b)},!1),c.addEventListener("pointerdown",function(b){a.ih(b)},!1),c.addEventListener("MSPointerDown",function(b){a.ih(b)},!1),c.addEventListener("MSGestureStart",function(b){a.zg(b)},!1),c.addEventListener("MSGestureEnd",function(b){a.yg(b)},!1),c.addEventListener("MSGestureChange",function(b){a.Xi(b)},!1),c.addEventListener("gesturestart",function(b){a.zg(b)},!1),c.addEventListener("gesturechange",function(b){a.pi(b)},!1),
c.addEventListener("gestureend",function(b){a.yg(b)},!1),c.addEventListener("mousedown",function(b){a.Vi(b)},!1),c.addEventListener("mousemove",function(b){a.Ui(b)},!1),document.addEventListener("mouseup",function(b){a.Ti(b)},!1),c.addEventListener("mousedblclick",function(){a.Qd()},!1),c.addEventListener("mousewheel",function(b){a.gh(b)},!1),c.addEventListener("DOMMouseScroll",function(b){a.gh(b)},!1),document.addEventListener("keydown",function(b){a.Qi(b)},!1),document.addEventListener("keyup",
function(b){a.Ri(b)},!1),window.addEventListener("orientationchange",function(){a.Lh()},!1),window.addEventListener("resize",function(){a.Kc()},!1),window.addEventListener("blur",function(){a.bj()},!1),this.N.addEventListener("webkitfullscreenchange",function(){a.De()},!1),document.addEventListener("mozfullscreenchange",function(){a.De()},!1),window.addEventListener("webkitfullscreenchange",function(){a.De()},!1),document.addEventListener("MSFullscreenChange",function(){a.De()},!1));c.oncontextmenu=
function(b){void 0===b&&(b=window.event);if(!b.ctrlKey){var c=b.pageX;b=b.pageY;a.isFullscreen||(c-=a.lc.offsetLeft,b-=a.lc.offsetTop);a.Gj(c,b);return!1}return!0}};f.prototype.cg=function(){for(var a=0;a<this.K.length;a++)if("point"==this.K[a].type&&(this.va&&this.va.addSkinHotspot?(this.K[a].Oc(),this.K[a].c=new this.va.addSkinHotspot(this.K[a])):this.K[a].c=new M(this,this.K[a]),this.K[a].c.__div.style.left="-1000px",this.K[a].c.__div.style.top="-1000px",this.K[a].c&&this.K[a].c.__div)){var c=
this.ta.firstChild;c?this.ta.insertBefore(this.K[a].c.__div,c):this.ta.appendChild(this.K[a].c.__div)}};f.prototype.Th=function(){var a,c=document.createElement("fakeelement"),b={OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionEnd"};for(a in b)if(void 0!==c.style[a])return b[a]};f.prototype.nc=function(a){var c=[];a=new RegExp(a,"");for(var b=0;b<this.T.length;b++)a.test(this.T[b].id)&&c.push(this.T[b]);
for(b=0;b<this.L.length;b++)a.test(this.L[b].id)&&c.push(this.L[b]);for(b=0;b<this.Sa.length;b++)a.test(this.Sa[b].id)&&c.push(this.Sa[b]);return c};f.prototype.Tc=function(a){if(this.Qa){var c=this.Y;if(c)return c.isPlaying(a)}else{if("_main"===a)return!0;a=this.nc(a);if(0<a.length)return!a[0].c.ended&&!a[0].c.paused}return!1};f.prototype.Fe=function(a,c){if(this.Qa){var b=this.Y;b&&b.playSound(a,c)}else for(var b=this.nc(a),d=0;d<b.length;d++){var e=b[d];e.mc=c&&!isNaN(Number(c))?Number(c)-1:e.loop-
1;-1==e.mc&&(e.mc=1E7);e.c.play()}};f.prototype.lh=function(a,c){for(var b=this.nc(a),d=0;d<b.length;d++){var e=b[d];this.Tc(e.id)?this.Kf(e.id):this.Fe(e.id,c)}};f.prototype.Kf=function(a){if(this.Qa){var c=this.Y;c&&c.pauseSound(a)}else if("_main"==a){for(a=0;a<this.T.length;a++)this.T[a].c.pause();for(a=0;a<this.L.length;a++)this.L[a].c.pause()}else for(c=this.nc(a),a=0;a<c.length;a++)c[a].c.pause()};f.prototype.Yh=function(a,c){for(var b=this.nc(a),d=0;d<b.length;d++){var e=b[d];0==c||1==c?e.Ad&&
e.Ad(1==c):2==c&&e.Yb&&e.Yb()}};f.prototype.Oj=function(a){if(this.Qa){var c=this.Y;c&&c.stopSound(a)}else if("_main"===a){for(a=0;a<this.T.length;a++)this.T[a].c.pause(),this.T[a].c.currentTime=0;for(a=0;a<this.L.length;a++)this.L[a].c.pause(),this.L[a].c.currentTime=0}else for(c=this.nc(a),a=0;a<c.length;a++){var b=c[a];b.c&&b.c.pause&&(b.c.pause(),b.c.currentTime=0)}};f.prototype.Fj=function(a,c){if(this.Qa){var b=this.Y;b&&b.setVolume(a,c)}else{var d=Number(c);1<d&&(d=1);0>d&&(d=0);"_video"===
a&&this.s.c&&(this.s.c.volume=d);if("_main"===a){this.ba=d;for(b=0;b<this.T.length;b++)this.T[b].c.volume=this.T[b].level*this.ba;for(b=0;b<this.L.length;b++)this.L[b].c.volume=this.L[b].level*this.ba;this.s.c&&(this.s.c.volume=this.ba)}else for(var e=this.nc(a),b=0;b<e.length;b++){var f=e[b];f.c&&f.c.volume&&(f.level=d,f.c.volume=d*this.ba)}}};f.prototype.ii=function(a,c){if(this.Qa){var b=this.Y;b&&b.changeVolume(a,c)}else{var d;"_video"===a&&this.s.c&&(this.s.c.volume=this.s.c.volume+Number(c));
if("_main"===a){b=this.ba;b+=Number(c);1<b&&(b=1);0>b&&(b=0);this.ba=b;for(d=0;d<this.T.length;d++)this.T[d].c.volume=this.T[d].level*this.ba;for(d=0;d<this.L.length;d++)this.L[d].c.volume=this.L[d].level*this.ba;this.s.c&&(this.s.c.volume=this.ba)}else{var e=this.nc(a);for(d=0;d<e.length;d++){var f=e[d],b=f.level,b=b+Number(c);1<b&&(b=1);0>b&&(b=0);f.level=b;f.c.volume=b*this.ba}}}};f.prototype.Ch=function(){for(var a=this,c=!1,b=!1,d=0;d<this.T.length;d++){var e=this.T[d];-1!=e.loop&&(this.lb&&
this.pa.enabled&&4!=e.mode&&6!=e.mode?this.pa.lg?(e.c.play(),e.c.currentTime=0,e.aa=0,b=!0):c=!0:4==e.mode||6==e.mode||"_background"==e.id&&this.Tc(e.id)||(e.c.play(),e.c.currentTime&&(e.c.currentTime=0)))}c&&setTimeout(function(){a.pa.Mj()},1E3*this.pa.yc);b&&(this.pa.Jj=this.lb.currentTime,this.pa.Ij=setInterval(function(){a.pa.ni()},10))};f.prototype.qh=function(){for(var a;0<this.K.length;)a=this.K.pop(),a.c&&(this.ta.removeChild(a.c.__div),delete a.c),a.c=null};f.prototype.dd=function(a){var c=
this.isFullscreen!==a;this.isFullscreen!==a&&(this.isFullscreen=a,this.update(100));if(this.isFullscreen){if(this.$e)try{this.N.webkitRequestFullScreen?this.N.webkitRequestFullScreen():this.N.mozRequestFullScreen?this.N.mozRequestFullScreen():this.N.msRequestFullscreen?this.N.msRequestFullscreen():this.N.requestFullScreen?this.N.requestFullScreen():this.N.requestFullscreen&&this.N.requestFullscreen()}catch(b){}this.N.style.position="absolute";a=this.Qc();this.N.style.left=window.pageXOffset-a.x+this.margin.left+
"px";this.N.style.top=window.pageYOffset-a.y+this.margin.top+"px";document.body.style.overflow="hidden";c&&this.F&&this.F.ggEnterFullscreen&&this.F.ggEnterFullscreen()}else{if(this.$e)try{document.webkitIsFullScreen?document.webkitCancelFullScreen():document.mozFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.fullScreen&&(document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen&&document.exitFullscreen())}catch(b){}this.N.style.position=
"relative";this.N.style.left="0px";this.N.style.top="0px";document.body.style.overflow="";c&&this.F&&this.F.ggExitFullscreen&&this.F.ggExitFullscreen()}this.Kc()};f.prototype.Qd=function(){this.dd(!this.isFullscreen)};f.prototype.mi=function(){this.dd(!0)};f.prototype.exitFullscreen=function(){this.dd(!1)};f.prototype.vi=function(){return this.isFullscreen};f.prototype.Kj=function(a,c,b){this.v.enabled=!0;this.v.active=!0;this.v.hc=0;this.v.startTime=(new Date).getTime();a&&0!=a&&(this.v.speed=a);
c&&(this.v.timeout=c);b&&(this.v.We=b)};f.prototype.Nj=function(){this.v.active=!1;this.v.enabled=!1};f.prototype.Sj=function(){this.v.enabled=!this.v.active;this.v.active=this.v.enabled;this.v.hc=0;this.v.enabled&&(this.v.startTime=(new Date).getTime())};f.prototype.kg=function(a){if(this.lc=document.getElementById(a)){this.lc.innerHTML="";this.N=document.createElement("div");a="top:\t0px;left: 0px;position:relative;";a+="-ms-touch-action: none;";a+="touch-action: none;";a+="text-align: left;";a+=
this.sa+"user-select: none;";this.N.setAttribute("style",a);this.lc.appendChild(this.N);this.A=document.createElement("div");a="top:\t0px;left: 0px;";a+="width:  100px;";a+="height: 100px;";a+="overflow: hidden;";a+="position:absolute;";a+="-ms-touch-action: none;";a+="touch-action: none;";a+=this.sa+"user-select: none;";this.A.setAttribute("style",a);this.N.appendChild(this.A);if(this.Qa){var c=document.createElement("div");a="top:\t0px;left: 0px;";a+="width:  100%;";a+="height: 100%;";a+="overflow: hidden;";
a+="position:absolute;";a+="-ms-touch-action: none;";a+="touch-action: none;";a+=this.sa+"user-select: none;";c.setAttribute("id",this.tf);c.setAttribute("style",a);this.A.appendChild(c)}this.Ta&&(this.Ta.Ac=document.createElement("canvas"),a="top:\t0px;left: 0px;",a+="width:  100px;",a+="height: 100px;",a+="overflow: hidden;",a+="position:absolute;",a+="z-index: 900;",a+=this.sa+"user-select: none;",a+=this.sa+"pointer-events: none;",this.Ta.Ac.setAttribute("style",a),this.N.appendChild(this.Ta.Ac));
this.ta=document.createElement("div");a="top:\t0px;left: 0px;";a+="width:  100px;";a+="height: 100px;";a+="overflow: hidden;";a+="position:absolute;";a+="z-index: 1000;";this.Rg&&(a+="background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);");this.Dc&&!this.ja&&(a+=this.sa+"transform: translateZ(9999999px);");a+=this.sa+"user-select: none;";this.ta.setAttribute("style",a);this.N.appendChild(this.ta);this.la=document.createElement("canvas");a="top:\t0px;left: 0px;";
a+="width:  100px;";a+="height: 100px;";a+="overflow: hidden;";a+="position:absolute;";a+="z-index: 900;";a+=this.sa+"user-select: none;";a+=this.sa+"pointer-events: none;";this.la.setAttribute("style",a);this.N.appendChild(this.la);this.ma=document.createElement("div");a="top:\t0px;left: 0px;";a+="position:absolute;";a+="padding: 3px;";a+="visibility: hidden;";a+="z-index: 1100;";this.ma.setAttribute("style",a);this.ma.innerHTML=" Hotspot text!";this.N.appendChild(this.ma);this.divSkin=this.F=this.ta}else alert("container not found!")};
f.prototype.jg=function(a){var c,b,d,e=128;this.g.Zc&&(this.A.style.backgroundColor=this.g.Zc.replace("0x","#"));a?(e=this.pd,this.Pd=1):this.wc>e&&(e=this.wc);for(d=0;6>d;d++){b=this.Oa.Ia[d];a?(b.width=this.pd,b.height=this.pd):(b.B=document.createElement("canvas"),b.B.width=this.wc,b.B.height=this.wc,b.width=this.wc,b.height=this.wc,b.ga=b.B.getContext("2d"));c="position:absolute;";c+="left: 0px;";c+="top: 0px;";c+="width: "+e+"px;";c+="height: "+e+"px;";a&&(c+="outline: 1px solid transparent;");
c+=this.sa+"transform-origin: 0% 0%;";c+="-webkit-user-select: none;";c+=this.sa+"transform: ";var f;f="";var g=1;this.bd&&(g=100);f=4>d?f+("rotateY("+-90*d+"deg)"):f+("rotateX("+(4==d?-90:90)+"deg)");this.bd&&(f+=" scale("+g+")");f+=" translate3d("+-e/2+"px,"+-e/2+"px,"+-e*g/(2*this.Pd)+"px)";c+=f+";";b.Hg=f;a||(b.B.setAttribute("style",c),this.A.insertBefore(b.B,this.A.firstChild))}if(!a){for(d=0;6>d;d++)b=this.Oa.Ia[d],""!=this.Nc[d]&&(b.nj=new Image,b.oj.g.onload=function(){},b.oj.g.setAttribute("src",
this.ub(this.Nc[d])),this.qb.push(b.nj));for(d=0;6>d;d++)b=this.Oa.Ia[d],b.loaded=!1,b.g=new Image,b.g.onload=function(){},b.g.setAttribute("src",this.ub(this.fe[d])),this.qb.push(b.g)}};f.prototype.rh=function(){var a;if(this.Ib){for(a=0;a<this.Oa.Ia.length;a++)this.Oa.Ia[a].B&&this.Oa.Ia[a].B.setAttribute&&(this.Oa.Ia[a].B.setAttribute("src",this.og),this.A.removeChild(this.Oa.Ia[a].B));if(this.g.H){for(a=0;a<this.g.H.length;a++){var c=this.g.H[a],b;for(b in c.$)if(c.$.hasOwnProperty(b)){var d=
c.$[b];d.visible=!1;d.B&&(d.ga&&(d.ga.clear?d.ga.clear():d.ga.clearRect(0,0,d.ga.canvas.width,d.ga.canvas.height)),this.Ye.push(d.B));d.g&&delete d.g;d.Qb&&this.a.deleteTexture(d.Qb);d.ga=null;d.B=null;d.g=null}delete c.$}delete this.g.H;this.g.H=null}}if(this.a&&this.cb)for(;0<this.cb.length;)b=this.cb.pop(),b.$i=!0,this.a.deleteTexture(b);for(a=0;a<this.L.length;a++)this.L[a].ad();for(a=0;a<this.Sa.length;a++)this.Sa[a].ad();this.w.Fd=-1;this.la.style.visibility="hidden";this.Db=0;b=[];this.pa.Sd=
[];for(a=0;a<this.T.length;a++)if(c=this.T[a],0==c.mode||1==c.mode)b.push(c);else if(this.lb&&this.pa.enabled&&this.Tc(c.id))this.pa.Sd.push(c),1!=this.o.Ba&&2!=this.o.Ba&&this.pa.rf(c);else{try{c.c.pause()}catch(e){}c.ad()}this.T=b;this.L=[];this.Sa=[];this.s.c&&(this.N.removeChild(this.s.c),this.s.c=null);this.s.Uc=!1;this.s.we=!1};f.prototype.Eg=function(){var a=1,c=-1!=navigator.userAgent.indexOf("Mac");window.devicePixelRatio&&c&&(a=window.devicePixelRatio);return{af:screen.width*a,re:screen.height*
a}};f.prototype.Cg=function(){var a=this.Eg();return a.af>a.re?a.af:a.re};f.prototype.Of=function(a,c){var b=(new DOMParser).parseFromString(a,"text/xml");this.mf=a;this.ph(b,c);this.Y&&(this.Y.readConfigString(this.mf),this.Y.setLocked(!0),this.Y.setSlaveMode(!0))};f.prototype.nh=function(a,c,b){try{var d;d=new XMLHttpRequest;d.open("GET",a,!1);d.send(null);if(d.responseXML){var e=a.lastIndexOf("/");0<=e&&(this.zc=a.substr(0,e+1));2<=arguments.length&&null!=c&&(this.zc=c);this.Of(d.responseText,
b)}else alert("Error loading panorama XML")}catch(f){alert("Error:"+f)}};f.prototype.oh=function(a,c,b,d){var e;e=new XMLHttpRequest;var f=this;e.onload=function(g){if(4<=e.readyState)if(e.responseXML){var k=a.lastIndexOf("/");0<=k&&(f.zc=a.substr(0,k+1));3<=arguments.length&&null!=b&&(f.zc=b);f.Of(e.responseText,d);c&&c()}else alert("Error loading panorama XML");else console.error("Wrong state loading XML:"+e.statusText)};e.onerror=function(){console.error("Error loading XML:"+e.statusText)};e.open("GET",
a,!0);e.send(null)};f.prototype.gf=function(a){this.Fh("beforechangenode",{aj:this.currentNode,uk:a});""!=this.currentNode&&-1==this.bg.indexOf(this.currentNode)&&this.bg.push(this.currentNode);"{"==a.charAt(0)?this.currentNode=a.substr(1,a.length-2):this.currentNode="";this.va&&this.va.changeActiveNode&&this.va.changeActiveNode(a);this.Fh("changenode",{aj:this.currentNode,tk:a})};f.prototype.Ag=function(){return this.currentNode};f.prototype.Dg=function(){if(0<this.qa.length){var a;a=this.qa.indexOf(this.currentNode);
a++;a>=this.qa.length&&(a=0);return this.qa[a]}return""};f.prototype.Hi=function(){if(0<this.qa.length){var a;a=this.qa.indexOf(this.currentNode);a--;0>a&&(a=this.qa.length-1);return this.qa[a]}return""};f.prototype.Zi=function(a){return-1!=this.bg.indexOf(a)};f.prototype.ph=function(a,c){var b=a.firstChild;this.Ic=[];this.qa=[];if("tour"==b.nodeName){var d="",e;(e=b.getAttributeNode("start"))&&(d=e.nodeValue.toString());this.hasOwnProperty("startNode")&&this.startNode&&(d=String(this.startNode),
this.startNode="");for(var b=b.firstChild,f=e="";b;)"panorama"==b.nodeName&&(e=b.getAttributeNode("id"))&&(e=e.nodeValue.toString(),""==d&&(d=e),""==f&&(f=e),this.Ic[e]=b,this.qa.push(e)),b=b.nextSibling;this.Ic.hasOwnProperty(d)||(this.Vc("Start node "+d+" not found!"),d=f);this.Nf(this.Ic[d],c);this.gf("{"+d+"}");this.xe=!0}else this.xe=!1,this.Nf(b,c),this.gf(""),this.qa.push("")};f.prototype.Nf=function(a,c){this.qh();this.Ta&&this.Ta.qj();this.cd(this.fb);this.rh();this.Gd=0;for(var b=a.firstChild,
d,e,f,g=0;b;){if("view"==b.nodeName){if(e=b.getAttributeNode("fovmode"))this.h.mode=Number(e.nodeValue);e=b.getAttributeNode("pannorth");this.pan.Hf=1*(e?e.nodeValue:0);for(d=b.firstChild;d;)"start"==d.nodeName&&(e=d.getAttributeNode("pan"),this.pan.b=Number(e?e.nodeValue:0),this.pan.eb=this.pan.b,e=d.getAttributeNode("tilt"),this.j.b=Number(e?e.nodeValue:0),this.j.eb=this.j.b,e=d.getAttributeNode("roll"),this.I.b=Number(e?e.nodeValue:0),this.I.eb=this.I.b,e=d.getAttributeNode("fov"),this.h.b=Number(e?
e.nodeValue:70),this.h.eb=this.h.b),"min"==d.nodeName&&(e=d.getAttributeNode("pan"),this.pan.min=1*(e?e.nodeValue:0),e=d.getAttributeNode("tilt"),this.j.min=1*(e?e.nodeValue:-90),e=d.getAttributeNode("fov"),this.h.min=1*(e?e.nodeValue:5),1E-20>this.h.min&&(this.h.min=1E-20),e=d.getAttributeNode("fovpixel"),this.h.Ef=1*(e?e.nodeValue:0)),"max"==d.nodeName&&(e=d.getAttributeNode("pan"),this.pan.max=1*(e?e.nodeValue:0),e=d.getAttributeNode("tilt"),this.j.max=1*(e?e.nodeValue:90),e=d.getAttributeNode("fov"),
this.h.max=1*(e?e.nodeValue:120),180<=this.h.max&&(this.h.max=179.9)),d=d.nextSibling}if("autorotate"==b.nodeName){if(e=b.getAttributeNode("speed"))this.v.speed=1*e.nodeValue;if(e=b.getAttributeNode("delay"))this.v.timeout=1*e.nodeValue;if(e=b.getAttributeNode("returntohorizon"))this.v.We=1*e.nodeValue;if(e=b.getAttributeNode("nodedelay"))this.v.Gf=1*e.nodeValue;if(e=b.getAttributeNode("noderandom"))this.v.Ff=1==e.nodeValue;this.le&&(this.v.enabled=!0,this.v.active=!1);if(e=b.getAttributeNode("startloaded"))this.v.Od=
1==e.nodeValue,this.v.Od&&(this.v.active=!1);if(e=b.getAttributeNode("useanimation"))this.v.Ph=1==e.nodeValue}if("animation"==b.nodeName)for(this.Bc=[],d=b.firstChild;d;){if("clip"==d.nodeName){this.S={};(e=d.getAttributeNode("animtitle"))&&(this.S.animtitle=e.nodeValue.toString());(e=d.getAttributeNode("cliptitle"))&&(this.S.cliptitle=e.nodeValue.toString());(e=d.getAttributeNode("nodeid"))&&(this.S.nodeid=e.nodeValue.toString());(e=d.getAttributeNode("length"))&&(this.S.length=Number(e.nodeValue));
(e=d.getAttributeNode("animtype"))&&(this.S.animtype=Number(e.nodeValue));(e=d.getAttributeNode("nextcliptitle"))&&(this.S.nextcliptitle=e.nodeValue.toString());(e=d.getAttributeNode("nextclipnodeid"))&&(this.S.nextclipnodeid=e.nodeValue.toString());(e=d.getAttributeNode("transitiontype"))&&(this.S.transitiontype=Number(e.nodeValue));m=d.firstChild;for(this.S.keyframes=[];m;){if("keyframe"==m.nodeName){var k={};(e=m.getAttributeNode("time"))&&(k.time=Number(e.nodeValue));(e=m.getAttributeNode("value"))&&
(k.value=Number(e.nodeValue));e=m.getAttributeNode("type");var n=0;e&&(k.type=Number(e.nodeValue),n=Number(e.nodeValue));(e=m.getAttributeNode("property"))&&(k.property=Number(e.nodeValue));if(1==n||2==n)(e=m.getAttributeNode("bezierintime"))&&(k.bezierintime=Number(e.nodeValue)),(e=m.getAttributeNode("bezierinvalue"))&&(k.bezierinvalue=Number(e.nodeValue)),(e=m.getAttributeNode("bezierouttime"))&&(k.bezierouttime=Number(e.nodeValue)),(e=m.getAttributeNode("bezieroutvalue"))&&(k.bezieroutvalue=Number(e.nodeValue));
this.S.keyframes.push(k)}m=m.nextSibling}this.jc==this.S.cliptitle&&this.Sf(this.S.keyframes[0].value,this.S.keyframes[1].value,this.S.keyframes[2].value);this.Bc.push(this.S)}d=d.nextSibling}"input"==b.nodeName&&(f||(f=b));if(f)for(d=0;6>d;d++)e=f.getAttributeNode("prev"+d+"url"),this.Nc[d]=e?String(e.nodeValue):"";"altinput"==b.nodeName&&(d=0,(e=b.getAttributeNode("screensize"))&&(d=1*e.nodeValue),0<d&&d<=this.Cg()&&d>g&&(g=d,f=b));if("control"==b.nodeName&&this.le){if(e=b.getAttributeNode("simulatemass"))this.D.enabled=
1==e.nodeValue;if(e=b.getAttributeNode("locked"))this.C.Va=1==e.nodeValue;e&&(this.C.Id=1==e.nodeValue);if(e=b.getAttributeNode("lockedmouse"))this.C.Va=1==e.nodeValue;if(e=b.getAttributeNode("lockedkeyboard"))this.C.Id=1==e.nodeValue;if(e=b.getAttributeNode("lockedkeyboardzoom"))this.C.Cf=1==e.nodeValue;if(e=b.getAttributeNode("lockedwheel"))this.C.Df=1==e.nodeValue;if(e=b.getAttributeNode("invertwheel"))this.C.Og=1==e.nodeValue;if(e=b.getAttributeNode("speedwheel"))this.C.Ah=1*e.nodeValue;if(e=
b.getAttributeNode("invertcontrol"))this.C.rc=1==e.nodeValue;if(e=b.getAttributeNode("sensitivity"))this.C.sensitivity=1*e.nodeValue,1>this.C.sensitivity&&(this.C.sensitivity=1);if(e=b.getAttributeNode("dblclickfullscreen"))this.C.of=1==e.nodeValue;if(e=b.getAttributeNode("contextfullscreen"))this.C.ee=1==e.nodeValue;if(e=b.getAttributeNode("hideabout"))this.C.te=1==e.nodeValue;for(d=b.firstChild;d;)"menulink"==d.nodeName&&(k={text:"",url:""},e=d.getAttributeNode("text"),k.text=e.nodeValue,e=d.getAttributeNode("url"),
k.url=e.nodeValue,this.Ld.push(k)),d=d.nextSibling}if("transition"==b.nodeName){if(e=b.getAttributeNode("enabled"))this.o.enabled=1==e.nodeValue;if(e=b.getAttributeNode("blendtime"))this.o.fg=e.nodeValue;if(e=b.getAttributeNode("blendcolor"))this.o.be=e.nodeValue.toString();if(e=b.getAttributeNode("type"))this.o.type=e.nodeValue.toString();if(e=b.getAttributeNode("softedge"))this.o.Zb=1*e.nodeValue;if(e=b.getAttributeNode("zoomin"))this.o.Ba=e.nodeValue;if(e=b.getAttributeNode("zoomout"))this.o.Lb=
e.nodeValue;if(e=b.getAttributeNode("zoomfov"))this.o.cf=e.nodeValue;if(e=b.getAttributeNode("zoomspeed"))this.o.$d=e.nodeValue;if(e=b.getAttributeNode("zoomoutpause"))this.o.df=1==e.nodeValue}if("soundstransition"==b.nodeName){if(e=b.getAttributeNode("enabled"))this.pa.enabled=1==e.nodeValue;if(e=b.getAttributeNode("transitiontime"))this.pa.yc=1*e.nodeValue;if(e=b.getAttributeNode("crossfade"))this.pa.lg=1==e.nodeValue}"userdata"==b.nodeName&&(this.userdata=this.Vd=this.ke(b));if("hotspots"==b.nodeName)for(d=
b.firstChild;d;){if("label"==d.nodeName){k=this.w.Xf;if(e=d.getAttributeNode("enabled"))k.enabled=1==e.nodeValue;if(e=d.getAttributeNode("width"))k.width=1*e.nodeValue;if(e=d.getAttributeNode("height"))k.height=1*e.nodeValue;if(e=d.getAttributeNode("textcolor"))k.Yf=1*e.nodeValue;if(e=d.getAttributeNode("textalpha"))k.Wf=1*e.nodeValue;if(e=d.getAttributeNode("background"))k.background=1==e.nodeValue;if(e=d.getAttributeNode("backgroundalpha"))k.Nb=1*e.nodeValue;if(e=d.getAttributeNode("backgroundcolor"))k.mb=
1*e.nodeValue;if(e=d.getAttributeNode("border"))k.ff=1*e.nodeValue;if(e=d.getAttributeNode("bordercolor"))k.ob=1*e.nodeValue;if(e=d.getAttributeNode("borderalpha"))k.Ob=1*e.nodeValue;if(e=d.getAttributeNode("borderradius"))k.ef=1*e.nodeValue;if(e=d.getAttributeNode("wordwrap"))k.bf=1==e.nodeValue}if("polystyle"==d.nodeName){if(e=d.getAttributeNode("mode"))this.w.mode=1*e.nodeValue;if(e=d.getAttributeNode("bordercolor"))this.w.ob=1*e.nodeValue;if(e=d.getAttributeNode("backgroundcolor"))this.w.mb=1*
e.nodeValue;if(e=d.getAttributeNode("borderalpha"))this.w.Ob=1*e.nodeValue;if(e=d.getAttributeNode("backgroundalpha"))this.w.Nb=1*e.nodeValue;if(e=d.getAttributeNode("handcursor"))this.w.Rc=1==e.nodeValue}"hotspot"==d.nodeName&&(e=new Y(this),e.type="point",e.Ya(d),this.K.push(e));"polyhotspot"==d.nodeName&&(e=new Y(this),e.type="poly",e.Ya(d),this.K.push(e));d=d.nextSibling}if("sounds"==b.nodeName||"media"==b.nodeName)for(d=b.firstChild;d;)"sound"==d.nodeName&&(e=new U(this),e.Ya(d),this.Qa||e.addElement()),
"video"==d.nodeName&&(e=new V(this),e.Ya(d),this.Qa||e.addElement()),"image"==d.nodeName&&(e=new W(this),e.Ya(d),this.Qa||e.addElement()),"lensflare"==d.nodeName&&this.Ta&&(e=new X(this),e.Ya(d),this.Ta.Hd.push(e)),d=d.nextSibling;b=b.nextSibling}c&&""!=c&&(b=c.toString().split("/"),0<b.length&&(e=String(b[0]),"N"==e.charAt(0)?this.Rf(Number(e.substr(1))):"S"==e.charAt(0)?this.Rf(-180+Number(e.substr(1))):this.Qf(Number(e))),1<b.length&&this.Tf(Number(b[1])),2<b.length&&this.Me(Number(b[2])));if(f){for(d=
0;6>d;d++)(e=f.getAttributeNode("tile"+d+"url"))&&(this.fe[d]=String(e.nodeValue)),e=f.getAttributeNode("tile"+d+"url1");for(d=0;6>d;d++)(e=f.getAttributeNode("prev"+d+"url"))&&(this.Nc[d]=String(e.nodeValue));if(e=f.getAttributeNode("tilesize"))this.wc=1*e.nodeValue;if(e=f.getAttributeNode("canvassize"))this.pd=Number(e.nodeValue);if(e=f.getAttributeNode("tilescale"))this.Pd=1*e.nodeValue;if(e=f.getAttributeNode("leveltileurl"))this.g.dh=e.nodeValue;if(e=f.getAttributeNode("leveltilesize"))this.g.Z=
Number(e.nodeValue);if(e=f.getAttributeNode("levelbias"))this.g.ah=Number(e.nodeValue);if(e=f.getAttributeNode("levelbiashidpi"))this.g.bh=Number(e.nodeValue);e=f.getAttributeNode("overlap");this.ua.I=0;this.ua.pitch=0;e&&(this.g.Ua=Number(e.nodeValue));if(e=f.getAttributeNode("levelingroll"))this.ua.I=Number(e.nodeValue);if(e=f.getAttributeNode("levelingpitch"))this.ua.pitch=Number(e.nodeValue);this.Db=0;(e=f.getAttributeNode("flat"))&&1==e.nodeValue&&(this.Db=2);e=f.getAttributeNode("width");this.g.width=
1*(e?e.nodeValue:1);e=f.getAttributeNode("height");this.g.height=1*(e?e.nodeValue:this.g.width);this.s.src=[];this.g.H=[];for(d=f.firstChild;d;){if("preview"==d.nodeName){if(e=d.getAttributeNode("color"))this.g.Zc=e.nodeValue;if(e=d.getAttributeNode("strip"))this.g.mh=1==e.nodeValue}if("video"==d.nodeName){if(e=d.getAttributeNode("format"))this.s.format=e.nodeValue.toString();if(e=d.getAttributeNode("bleed"))this.s.ae=Number(e.nodeValue);if(e=d.getAttributeNode("endaction"))this.s.ud=String(e.nodeValue);
if(e=d.getAttributeNode("width"))this.s.width=Number(e.nodeValue);if(e=d.getAttributeNode("height"))this.s.height=Number(e.nodeValue);for(var m=d.firstChild;m;)"source"==m.nodeName&&(e=m.getAttributeNode("url"))&&this.s.src.push(e.nodeValue.toString()),m=m.nextSibling}if("level"==d.nodeName){f={width:0,height:0,cache:!1,Mf:!1,La:0,Gb:0,$:[]};e=d.getAttributeNode("width");f.width=1*(e?e.nodeValue:1);e=d.getAttributeNode("height");f.height=1*(e?e.nodeValue:f.width);if(e=d.getAttributeNode("preload"))f.cache=
1==e.nodeValue;if(e=d.getAttributeNode("preview"))f.Mf=1==e.nodeValue;f.La=Math.floor((f.width+this.g.Z-1)/this.g.Z);f.Gb=Math.floor((f.height+this.g.Z-1)/this.g.Z);this.g.H.push(f)}d=d.nextSibling}this.g.Zg=this.g.H.length}this.Td&&(this.ja=this.Ib=!1,this.pb||(this.pb=document.createElement("canvas"),this.pb.width=100,this.pb.height=100,this.pb.id="dummycanvas",this.A.appendChild(this.pb)),this.Lc());this.ja&&this.a&&(this.Mg(this.Pd),this.Ng());this.Ib&&(0<this.g.H.length?this.jg(!0):this.jg(!1),
this.Gd=0);var p=this;0<this.g.H.length&&this.g.mh&&0==this.Db&&(f=new Image,f.onload=this.Yi(f),f.setAttribute("src",this.Ve(6,this.g.H.length-1,0,0)));if(0<this.s.src.length){this.s.c=document.createElement("video");this.s.c.setAttribute("style","display: none; max-width:none;");this.s.c.Xh=!0;this.s.c.volume=this.ba;this.N.appendChild(this.s.c);this.s.Uc=!1;this.s.c.oncanplay=function(){if(!p.s.Uc){p.s.we=!0;var a,b,c,d,e,f,g,k=[],m=new x,n=p.a,t=p.s.c.videoWidth/3;for(a=0;6>a;a++)for(d=a%3*t+
p.s.ae,f=d+t-2*p.s.ae,e=4,3<=a&&(e+=t),g=e+t-2*p.s.ae,c=0;4>c;c++){m.x=-1;m.y=-1;m.z=1;for(b=0;b<c;b++)m.th();k.push((0<m.x?d:f)/(3*t),(0<m.y?e:g)/(2*t))}n.bindBuffer(n.ARRAY_BUFFER,p.s.Se);n.bufferData(n.ARRAY_BUFFER,new Float32Array(k),n.STATIC_DRAW)}};"exit"==this.s.ud?this.s.c.onended=function(){p.s.we=!1;p.s.Uc=!1;p.N.removeChild(this.s.c);p.s.c=null}:"stop"==this.s.ud?p.s.c.onended=function(){}:"{"==this.s.ud.charAt(0)?this.s.c.onended=function(){p.Wc(p.s.ud,"$fwd")}:this.s.c.loop=!0;for(f=
0;f<this.s.src.length;f++)b=document.createElement("source"),b.setAttribute("src",this.ub(this.s.src[f])),this.s.c.appendChild(b);this.s.c.play()}this.cg();this.o.xc||this.Ch();this.update();this.le&&this.F&&this.F.ggViewerInit&&this.F.ggViewerInit();this.le=!1;this.se=!0;this.Lc()};f.prototype.If=function(a,c){0<a.length&&(".xml"==a.substr(a.length-4)||".swf"==a.substr(a.length-4)||"{"==a.charAt(0)?this.Wc(this.ub(a),c):window.open(this.ub(a),c))};f.prototype.Lj=function(){this.se=this.isLoaded=
!1;this.checkLoaded=this.qb=[];this.Ee=0;this.F&&this.F.ggReLoaded&&this.F.ggReLoaded()};f.prototype.Wc=function(a,c){this.Lj();this.va&&this.va.hotspotProxyOut&&this.va.hotspotProxyOut(this.ka.id);".swf"==a.substr(a.length-4)&&(a=a.substr(0,a.length-4)+".xml");var b="";c&&(b=c.toString());b=b.replace("$cur",this.pan.b+"/"+this.j.b+"/"+this.h.b);b=b.replace("$fwd","N"+this.oe()+"/"+this.j.b+"/"+this.h.b);b=b.replace("$bwd","S"+this.oe()+"/"+this.j.b+"/"+this.h.b);b=b.replace("$ap",String(this.pan.b));
b=b.replace("$an",String(this.oe()));b=b.replace("$at",String(this.j.b));b=b.replace("$af",String(this.h.b));if(""!=b){var d=b.split("/");3<d.length&&""!=d[3]&&(this.startNode=d[3])}this.ha();if("{"==a.charAt(0))if(d=a.substr(1,a.length-2),this.Ic[d]){if(0==this.Db&&this.o.enabled&&this.ja&&this.o.kb){this.o.gd||this.o.xc||(this.o.hh=this.C.Va,this.o.Ug=this.C.Id,this.Oe(!0),this.Ne(!0));var e;"wipeleftright"==this.o.type?e=1:"wiperightleft"==this.o.type?e=2:"wipetopbottom"==this.o.type?e=3:"wipebottomtop"==
this.o.type?e=4:"wiperandom"==this.o.type&&(e=Math.ceil(4*Math.random()));this.o.nf=e;this.a.bindFramebuffer(this.a.FRAMEBUFFER,this.o.kb);this.a.viewport(0,0,this.o.kb.width,this.o.kb.height);this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);this.o.Rd=!0;this.kd();this.o.Rd=!1;this.a.bindFramebuffer(this.a.FRAMEBUFFER,null);this.a.viewport(0,0,this.Ra.width,this.Ra.height);e=new Date;this.ka!=this.fb?(this.o.Yd=this.ka.sb/this.l.width,this.o.Zd=1-this.ka.Xa/this.l.height):(this.o.Yd=
.5,this.o.Zd=.5);1!=this.o.Ba&&2!=this.o.Ba?(this.o.Vf=e.getTime(),this.o.gd=!0):(this.o.Vh=e.getTime(),this.o.xc=!0,this.o.Ma=Math.sin(this.Wb()/2*Math.PI/180)/Math.sin(this.o.cf/2*Math.PI/180),this.o.Ma=Math.max(this.o.Ma,1),this.o.Uh=1/this.o.$d*this.o.Ma*.3)}this.Nf(this.Ic[d],b);this.gf(a);this.o.enabled&&this.ja&&(1==this.o.Lb||2==this.o.Lb||3==this.o.Lb)&&(this.o.Qe=this.ne(),this.o.Re=this.pe(),this.o.ed=this.Wb(),1==this.o.Lb||3==this.o.Lb?this.Pe(this.o.cf):this.Pe(this.yd()+(this.yd()-
this.o.cf)),this.o.df||1==this.o.Ba||2==this.o.Ba||this.moveTo(this.o.Qe,this.o.Re,this.o.ed,this.o.$d));this.Y&&this.Y.openNext(a,b)}else{this.Vc("invalid node id: "+d);return}else this.nh(a,null,b);this.update(5)};f.prototype.Ai=function(){return this.qa.slice(0)};f.prototype.ke=function(a){var c,b;b=[];b.title="";b.description="";b.author="";b.datetime="";b.copyright="";b.source="";b.information="";b.comment="";b.latitude=0;b.longitude=0;b.tags=[];if(a&&((c=a.getAttributeNode("title"))&&(b.title=
c.nodeValue.toString()),(c=a.getAttributeNode("description"))&&(b.description=c.nodeValue.toString()),(c=a.getAttributeNode("author"))&&(b.author=c.nodeValue.toString()),(c=a.getAttributeNode("datetime"))&&(b.datetime=c.nodeValue.toString()),(c=a.getAttributeNode("copyright"))&&(b.copyright=c.nodeValue.toString()),(c=a.getAttributeNode("source"))&&(b.source=c.nodeValue.toString()),(c=a.getAttributeNode("info"))&&(b.information=c.nodeValue.toString()),(c=a.getAttributeNode("comment"))&&(b.comment=
c.nodeValue.toString()),(c=a.getAttributeNode("latitude"))&&(b.latitude=Number(c.nodeValue)),(c=a.getAttributeNode("longitude"))&&(b.longitude=Number(c.nodeValue)),c=a.getAttributeNode("tags"))){a=c.nodeValue.toString().split("|");for(c=0;c<a.length;c++)""==a[c]&&(a.splice(c,1),c--);b.tags=a}return b};f.prototype.vf=function(a){if(!a)return this.Vd;if(a=this.Ic[a])for(a=a.firstChild;a;){if("userdata"==a.nodeName)return this.ke(a);a=a.nextSibling}return this.ke()};f.prototype.Bi=function(a){a=this.vf(a);
var c=[];""!=a.latitude&&0!=a.latitude&&0!=a.longitude&&(c.push(a.latitude),c.push(a.longitude));return c};f.prototype.Ci=function(a){return this.vf(a).title};f.prototype.Bg=function(a,c){var b;for(b=0;b<this.S.keyframes.length;b++)if(this.S.keyframes[b].time==a&&this.S.keyframes[b].property==c)return this.S.keyframes[b];return!1};f.prototype.zi=function(a){var c,b=1E5,d=a,e=!1;for(c=0;c<this.S.keyframes.length;c++)this.S.keyframes[c].property==a.property&&this.S.keyframes[c].time>a.time&&this.S.keyframes[c].time<
b&&(d=this.S.keyframes[c],b=d.time,e=!0);return e?d:!1};f.prototype.kk=function(){this.s.c&&this.s.c.play()};f.prototype.lk=function(){this.s.c&&(this.s.c.pause(),this.s.c.time=0)};f.prototype.jk=function(){this.s.c&&this.s.c.pause()};f.prototype.Ej=function(a){this.s.c&&(0>a&&(a=0),a>this.s.c.duration&&(a=this.s.c.duration-.1),this.s.c.currentTime=a,this.update())};f.prototype.Mi=function(){return this.s.c?this.s.c.currentTime:0};f.prototype.Li=function(){if(this.s.c)return this.s.c};return f}();
window.pano2vrPlayer=Z;Z.prototype.readConfigUrlAsync=Z.prototype.oh;Z.prototype.setMargins=Z.prototype.wh;Z.prototype.addListener=Z.prototype.addListener;Z.prototype.removeEventListener=Z.prototype.removeEventListener;Z.prototype.detectBrowser=Z.prototype.ng;Z.prototype.initWebGL=Z.prototype.qc;Z.prototype.getPercentLoaded=Z.prototype.Fi;Z.prototype.setBasePath=Z.prototype.vj;Z.prototype.setViewerSize=Z.prototype.yh;Z.prototype.getViewerSize=Z.prototype.Ni;Z.prototype.setMargins=Z.prototype.wh;
Z.prototype.setSkinObject=Z.prototype.Dj;Z.prototype.changeViewMode=Z.prototype.gi;Z.prototype.viewMode=Z.prototype.mk;Z.prototype.changePolygonMode=Z.prototype.ei;Z.prototype.polygonMode=Z.prototype.mj;Z.prototype.changeViewState=Z.prototype.hi;Z.prototype.viewState=Z.prototype.nk;Z.prototype.setRenderFlags=Z.prototype.Bj;Z.prototype.getRenderFlags=Z.prototype.Ii;Z.prototype.setMaxTileCount=Z.prototype.xh;Z.prototype.getVFov=Z.prototype.Wb;Z.prototype.setVFov=Z.prototype.Pe;
Z.prototype.updatePanorama=Z.prototype.kd;Z.prototype.isTouching=Z.prototype.Pi;Z.prototype.getIsMobile=Z.prototype.wi;Z.prototype.setIsMobile=Z.prototype.yj;Z.prototype.getIsAutorotating=Z.prototype.ui;Z.prototype.getIsTileLoading=Z.prototype.xi;Z.prototype.getLastActivity=Z.prototype.yi;Z.prototype.getPan=Z.prototype.ne;Z.prototype.getPanNorth=Z.prototype.oe;Z.prototype.getPanDest=Z.prototype.Di;Z.prototype.getPanN=Z.prototype.Ei;Z.prototype.setPan=Z.prototype.Qf;Z.prototype.setPanNorth=Z.prototype.Rf;
Z.prototype.changePan=Z.prototype.ce;Z.prototype.changePanLog=Z.prototype.di;Z.prototype.getTilt=Z.prototype.pe;Z.prototype.getTiltDest=Z.prototype.Ki;Z.prototype.setTilt=Z.prototype.Tf;Z.prototype.changeTilt=Z.prototype.de;Z.prototype.changeTiltLog=Z.prototype.fi;Z.prototype.getFov=Z.prototype.yd;Z.prototype.getFovDest=Z.prototype.si;Z.prototype.setFov=Z.prototype.Me;Z.prototype.changeFov=Z.prototype.hg;Z.prototype.changeFovLog=Z.prototype.qd;Z.prototype.getRoll=Z.prototype.Ji;
Z.prototype.setRoll=Z.prototype.Cj;Z.prototype.setPanTilt=Z.prototype.Aj;Z.prototype.setPanTiltFov=Z.prototype.Sf;Z.prototype.setDefaultView=Z.prototype.wj;Z.prototype.setLocked=Z.prototype.zj;Z.prototype.setLockedMouse=Z.prototype.Oe;Z.prototype.setLockedKeyboard=Z.prototype.Ne;Z.prototype.setLockedWheel=Z.prototype.vh;Z.prototype.moveTo=Z.prototype.moveTo;Z.prototype.moveToDefaultView=Z.prototype.Wi;Z.prototype.addHotspotElements=Z.prototype.cg;Z.prototype.playSound=Z.prototype.Fe;
Z.prototype.playPauseSound=Z.prototype.lh;Z.prototype.pauseSound=Z.prototype.Kf;Z.prototype.activateSound=Z.prototype.Yh;Z.prototype.isPlaying=Z.prototype.Tc;Z.prototype.stopSound=Z.prototype.Oj;Z.prototype.setVolume=Z.prototype.Fj;Z.prototype.changeVolume=Z.prototype.ii;Z.prototype.removeHotspots=Z.prototype.qh;Z.prototype.addHotspot=Z.prototype.Zh;Z.prototype.updateHotspot=Z.prototype.Zj;Z.prototype.removeHotspot=Z.prototype.pj;Z.prototype.setActiveHotspot=Z.prototype.cd;
Z.prototype.getPointHotspotIds=Z.prototype.Gi;Z.prototype.getHotspot=Z.prototype.ti;Z.prototype.setFullscreen=Z.prototype.dd;Z.prototype.toggleFullscreen=Z.prototype.Qd;Z.prototype.enterFullscreen=Z.prototype.mi;Z.prototype.exitFullscreen=Z.prototype.exitFullscreen;Z.prototype.getIsFullscreen=Z.prototype.vi;Z.prototype.startAutorotate=Z.prototype.Kj;Z.prototype.stopAutorotate=Z.prototype.Nj;Z.prototype.toggleAutorotate=Z.prototype.Sj;Z.prototype.createLayers=Z.prototype.kg;
Z.prototype.removePanorama=Z.prototype.rh;Z.prototype.getScreenResolution=Z.prototype.Eg;Z.prototype.getMaxScreenResolution=Z.prototype.Cg;Z.prototype.readConfigString=Z.prototype.Of;Z.prototype.readConfigUrl=Z.prototype.nh;Z.prototype.readConfigUrlAsync=Z.prototype.oh;Z.prototype.readConfigXml=Z.prototype.ph;Z.prototype.openUrl=Z.prototype.If;Z.prototype.openNext=Z.prototype.Wc;Z.prototype.getNodeIds=Z.prototype.Ai;Z.prototype.getNodeUserdata=Z.prototype.vf;Z.prototype.getNodeLatLng=Z.prototype.Bi;
Z.prototype.getNodeTitle=Z.prototype.Ci;Z.prototype.getCurrentNode=Z.prototype.Ag;Z.prototype.getNextNode=Z.prototype.Dg;Z.prototype.getPrevNode=Z.prototype.Hi;Z.prototype.getCurrentPointHotspots=Z.prototype.ri;Z.prototype.nodeVisited=Z.prototype.Zi;Z.prototype.setElementIdPrefix=Z.prototype.xj;Z.prototype.videoPanoPlay=Z.prototype.kk;Z.prototype.videoPanoStop=Z.prototype.lk;Z.prototype.videoPanoPause=Z.prototype.jk;Z.prototype.getVideoPanoTime=Z.prototype.Mi;Z.prototype.setVideoPanoTime=Z.prototype.Ej;
Z.prototype.getVideoPanoObject=Z.prototype.Li;
